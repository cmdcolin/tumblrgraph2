!function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("jquery"),i=e("cytoscape"),o=e("underscore"),a=e("cytoscape-cola"),s=e("cytoscape-cose-bilkent"),u=e("cytoscape-arbor"),l=e("cytoscape-dagre"),c=e("cytoscape-springy"),h=e("cytoscape-spread"),d=e("cytoscape-ngraph.forcelayout"),f=e("cytoscape-panzoom");window.$=r,window.jQuery=r;var p=e("dagre"),g=e("springy");r(function(){function e(){var e={},a={},s=r("#notes").val(),u=r("#layout option:selected").text().trim();s.split("\n").forEach(function(t){var r=t.match(/(\S+) reblogged this from (\S+)/);r&&(e[r[1]]?e[r[1]].score+=5:e[r[1]]={id:r[1],name:r[1],score:1},e[r[2]]?e[r[2]].score+=5:e[r[2]]={id:r[2],name:r[2],score:1},a[r[1]+","+r[2]]||(a[r[1]+","+r[2]]={source:r[1],target:r[2]})),r=t.match(/(\S+) posted this/),r&&(n=r[1])});var l=o.map(e,function(e){return{data:e}}),c=o.map(a,function(e){return{data:e}});t=i({container:document.getElementById("cy"),style:i.stylesheet().selector("node").style({content:"data(name)","text-valign":"center","text-outline-width":2,"text-outline-color":"#000",color:"#fff"}).selector("edge").css({"target-arrow-shape":"triangle","curve-style":"haystack"}),elements:{nodes:l,edges:c},textureOnViewport:!0,pixelRatio:1,motionBlur:!0,layout:{name:u,padding:10,randomize:!0,animate:!0,repulsion:1}});var h={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"};if(t.panzoom(h),r("#color_by_bfs").prop("checked")){var d=1;t.elements().bfs("#"+n,function(e,t){t>d&&(d=t)},!1),t.elements().bfs("#"+n,function(e,t){this.style("background-color","hsl("+150*t/d+",80%,55%)")},!1)}}var t,n;a(i,cola),l(i,p),c(i,g),u(i,arbor),h(i),s(i),d(i),f(i,r),r("#myform").submit(function(){return e(),!1}),r("#save_button").on("click",function(){r("#output").append(r("<a/>").attr({href:t.png({scale:3})}).append("Download picture"))}),r("#animate_graph").on("click",function(){function e(t,n){if(n<t.length)setTimeout(function(){t[n].style("visibility","visible"),o.add(r("[data-id=layer2-node]")[0]),e(t,n+1)},i);else{var a=o.compile(),s=window.URL.createObjectURL(a);r("#output").empty(),r("#output").append(r("<a/>").attr({href:s,download:"video.webm"}).append("Download video"))}}var i=r("#animate_speed").val(),o=new Whammy.Video(1e3/i),a=t.elements("node");a.forEach(function(e){e.style("visibility","hidden")});var s=[];t.elements().bfs("#"+n,function(){s.push(this)},!1),e(s,0)}),e()})},{cytoscape:91,"cytoscape-arbor":2,"cytoscape-cola":3,"cytoscape-cose-bilkent":4,"cytoscape-dagre":5,"cytoscape-ngraph.forcelayout":6,"cytoscape-panzoom":7,"cytoscape-spread":8,"cytoscape-springy":9,dagre:117,jquery:171,springy:174,underscore:175}],2:[function(e,t,n){!function(){"use strict";var e=function(e,t){function n(e){var t=this.options={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n]}if(e&&t){var r={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,randomize:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(e){var t=e;return t.max<=.5||t.mean<=.3},infinite:!1};n.prototype.run=function(){function e(e,t){return null==t?void 0:"function"==typeof t?t.apply(e,[e.data(),{nodes:u.length,edges:l.length,element:e}]):t}function n(t){if(!t.isFullAutoParent()){var n=t.id(),r=e(t,o.nodeMass),i=t.locked(),a=t.position();o.randomize&&(a={x:Math.round(h.x1+(h.x2-h.x1)*Math.random()),y:Math.round(h.y1+(h.y2-h.y1)*Math.random())});var s=d.fromScreen({x:a.x,y:a.y});t.scratch().arbor=d.addNode(n,{element:t,mass:r,fixed:i,x:i&&s?s.x:void 0,y:i&&s?s.y:void 0})}}function r(t){var n=t.source().id(),r=t.target().id(),i=e(t,o.edgeLength);t.scratch().arbor=d.addEdge(n,r,{length:i})}var i=this,o=this.options,a=o.cy,s=o.eles,u=s.nodes().not(":parent"),l=s.edges(),c=!1,h=o.boundingBox||{x1:0,y1:0,w:a.width(),h:a.height()};if(void 0===h.x2&&(h.x2=h.x1+h.w),void 0===h.w&&(h.w=h.x2-h.x1),void 0===h.y2&&(h.y2=h.y1+h.h),void 0===h.h&&(h.h=h.y2-h.y1),i.trigger({type:"layoutstart",layout:i}),void 0!==o.liveUpdate&&(o.animate=o.liveUpdate),s.nodes().size()<=1)return o.fit&&a.reset(),s.nodes().position({x:Math.round((h.x1+h.x2)/2),y:Math.round((h.y1+h.y2)/2)}),i.one("layoutready",o.ready),i.trigger({type:"layoutready",layout:i}),i.one("layoutstop",o.stop),void i.trigger({type:"layoutstop",layout:i});var d=i.system=t.ParticleSystem();d.parameters({repulsion:o.repulsion,stiffness:o.stiffness,friction:o.friction,gravity:o.gravity,fps:o.fps,dt:o.dt,precision:o.precision}),o.animate&&o.fit&&a.fit(h,o.padding);var f,p=250,g=!1,v=+new Date,y={init:function(e){},redraw:function(){var e=d.energy();if(!o.infinite&&null!=o.stableEnergy&&null!=e&&e.n>0&&o.stableEnergy(e))return void i.stop();o.infinite||p==1/0||(clearTimeout(f),f=setTimeout(function(){i.stop()},p));var t=a.collection();d.eachNode(function(e,n){var r=e.data,i=r.element;null!=i&&(i.locked()||i.grabbed()||(i.silentPosition({x:h.x1+n.x,y:h.y1+n.y}),t.merge(i)))}),o.animate&&t.length>0&&(c=!0,t.rtrigger("position"),o.fit&&a.fit(o.padding),v=+new Date,c=!1),g||(g=!0,i.one("layoutready",o.ready),i.trigger({type:"layoutready",layout:i}))}};d.renderer=y,d.screenSize(h.w,h.h),d.screenPadding(o.padding,o.padding,o.padding,o.padding),d.screenStep(o.stepSize);var m;u.on("grab free position",m=function(e){if(!c){var n=this.position(),r=d.fromScreen(n);if(r){var i=t.Point(r.x,r.y),a=o.padding;switch(h.x1+a<=n.x&&n.x<=h.x2-a&&h.y1+a<=n.y&&n.y<=h.y2-a&&(this.scratch().arbor.p=i),e.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var x;u.on("lock unlock",x=function(e){node.scratch().arbor.fixed=node.locked()});var b;a.on("resize",b=function(){if(null==o.boundingBox&&null!=i.system){var e=a.width(),t=a.height();d.screenSize(e,t)}}),u.each(function(e,t){n(t)}),l.each(function(e,t){r(t)});var w=u.filter(":grabbable");o.ungrabifyWhileSimulating&&w.ungrabify();i.doneHandler=function(){i.doneHandler=null,o.animate||(o.fit&&a.reset(),u.rtrigger("position")),u.off("grab free position",m),u.off("lock unlock",x),a.off("resize",b),o.ungrabifyWhileSimulating&&w.grabify(),i.one("layoutstop",o.stop),i.trigger({type:"layoutstop",layout:i})};return d.start(),!o.infinite&&null!=o.maxSimulationTime&&o.maxSimulationTime>0&&o.maxSimulationTime!==1/0&&setTimeout(function(){i.stop()},o.maxSimulationTime),this},n.prototype.stop=function(){return null!=this.system&&this.system.stop(),this.doneHandler&&this.doneHandler(),this},e("layout","arbor",n)}};"undefined"!=typeof t&&t.exports&&(t.exports=e),"undefined"!=typeof define&&define.amd&&define("cytoscape-arbor",function(){return e}),"undefined"!=typeof cytoscape&&e(cytoscape,arbor)}()},{}],3:[function(e,t,n){!function(){"use strict";var e=function(e,t){function n(e){var t=this.options={};for(var n in s)t[n]=s[n];for(var n in e)t[n]=e[n]}if(e&&t){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,i=function(e){return"string"==typeof e},o=function(e){return"number"==typeof e},a=function(e){return null!=e&&typeof e==typeof{}},s={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};n.prototype.run=function(){var e=this,n=this.options;e.manuallyStopped=!1;var s=n.cy,u=n.eles,l=u.nodes(),c=u.edges(),h=!1,d=n.boundingBox||{x1:0,y1:0,w:s.width(),h:s.height()};void 0===d.x2&&(d.x2=d.x1+d.w),void 0===d.w&&(d.w=d.x2-d.x1),void 0===d.y2&&(d.y2=d.y1+d.h),void 0===d.h&&(d.h=d.y2-d.y1);var f="function",p=function(e,t){if(typeof e===f){var n=e;return n.apply(t,[t])}return e},g=function(){for(var e={min:1/0,max:-(1/0)},t={min:1/0,max:-(1/0)},r=0;r<l.length;r++){var i=l[r],a=i.scratch("cola");if(e.min=Math.min(e.min,a.x||0),e.max=Math.max(e.max,a.x||0),t.min=Math.min(t.min,a.y||0),t.max=Math.max(t.max,a.y||0),!a.updatedDims){var u=i.boundingBox(),c=p(n.nodeSpacing,i);a.width=u.w+2*c,a.height=u.h+2*c}}l.positions(function(n,r){var i,a=r.scratch().cola;return r.grabbed()||r.isParent()||(i={x:d.x1+a.x-e.min,y:d.y1+a.y-t.min},o(i.x)&&o(i.y)||(i=void 0)),i}),l.updateCompoundBounds(),h||(y(),h=!0),n.fit&&s.fit(n.padding)},v=function(){n.ungrabifyWhileSimulating&&w.grabify(),l.off("grab free position",E),l.off("lock unlock",_),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e})},y=function(){e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e})},m=n.refresh,x=1;n.refresh<0?(x=Math.abs(n.refresh),m=1):m=Math.max(1,m);var b=e.adaptor=t.adaptor({trigger:function(e){var r=t.EventType?t.EventType.tick:null,i=t.EventType?t.EventType.end:null;switch(e.type){case"tick":case r:n.animate&&g();break;case"end":case i:g(),n.infinite||v()}},kick:function(){var t=function(){if(e.manuallyStopped)return v(),!0;var t=b.tick();return t&&n.infinite&&b.resume(),t},i=function(){for(var e,n=0;n<m&&!e;n++)e=e||t();return e};if(n.animate){var o=function(){i()||r(o)};r(o)}else for(;!t(););},on:function(e,t){},drag:function(){}});e.adaptor=b;var w=l.filter(":grabbable");n.ungrabifyWhileSimulating&&w.ungrabify();var E;l.on("grab free position",E=function(e){var t=this,n=t.scratch().cola,r=t.position();switch(n.x=r.x-d.x1,n.y=r.y-d.y1,e.type){case"grab":b.dragstart(n),b.resume();break;case"free":b.dragend(n)}});var _;l.on("lock unlock",_=function(e){var t=this,n=t.scratch().cola;n.fixed=t.locked(),t.locked()?b.dragstart(n):b.dragend(n)});var T=l.stdFilter(function(e){return!e.isParent()});if(b.nodes(T.map(function(e,t){var r=p(n.nodeSpacing,e),i=e.position(),o=e.boundingBox(),a=e.scratch().cola={x:n.randomize||void 0===i.x?Math.round(Math.random()*d.w):i.x,y:n.randomize||void 0===i.y?Math.round(Math.random()*d.h):i.y,width:o.w+2*r,height:o.h+2*r,index:t,fixed:e.locked()};return a})),n.alignment){var N=[],k=[];T.forEach(function(e){var t=p(n.alignment,e),r=e.scratch().cola,i=r.index;t&&(null!=t.x&&N.push({node:i,offset:t.x}),null!=t.y&&k.push({node:i,offset:t.y}))});var D=[];N.length>0&&D.push({type:"alignment",axis:"x",offsets:N}),k.length>0&&D.push({type:"alignment",axis:"y",offsets:k}),b.constraints(D)}b.groups(l.stdFilter(function(e){return e.isParent()}).map(function(e,t){var r=p(n.nodeSpacing,e),i=function(t){return parseFloat(e.style("padding-"+t))},o=i("left")+r,a=i("right")+r,s=i("top")+r,u=i("bottom")+r;return e.scratch().cola={index:t,padding:Math.max(o,a,s,u),leaves:e.descendants().stdFilter(function(e){return!e.isParent()}).map(function(e){return e[0].scratch().cola.index}),fixed:e.locked()},e}).map(function(e){return e.scratch().cola.groups=e.descendants().stdFilter(function(e){return e.isParent()}).map(function(e){return e.scratch().cola.index}),e.scratch().cola}));var C,S;null!=n.edgeLength?(C=n.edgeLength,S="linkDistance"):null!=n.edgeSymDiffLength?(C=n.edgeSymDiffLength,S="symmetricDiffLinkLengths"):null!=n.edgeJaccardLength?(C=n.edgeJaccardLength,S="jaccardLinkLengths"):(C=100,S="linkDistance");var L=function(e){return e.calcLength};if(b.links(c.stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}).map(function(e,t){var n=e.scratch().cola={source:e.source()[0].scratch().cola.index,target:e.target()[0].scratch().cola.index};return null!=C&&(n.calcLength=p(C,e)),n})),b.size([d.w,d.h]),null!=C&&b[S](L),n.flow){var A,I="y",M=50;i(n.flow)?A={axis:n.flow,minSeparation:M}:o(n.flow)?A={axis:I,minSeparation:n.flow}:a(n.flow)?(A=n.flow,A.axis=A.axis||I,A.minSeparation=null!=A.minSeparation?A.minSeparation:M):A={axis:I,minSeparation:M},b.flowLayout(A.axis,A.minSeparation)}return e.trigger({type:"layoutstart",layout:e}),b.avoidOverlaps(n.avoidOverlap).handleDisconnected(n.handleDisconnected).start(n.unconstrIter,n.userConstIter,n.allConstIter),n.infinite||setTimeout(function(){e.manuallyStopped||b.stop()},n.maxSimulationTime),this},n.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e("layout","cola",n)}};"undefined"!=typeof t&&t.exports&&(t.exports=e),"undefined"!=typeof define&&define.amd&&define("cytoscape-cola",function(){return e}),"undefined"!=typeof cytoscape&&"undefined"!=typeof cola&&e(cytoscape,cola)}()},{}],4:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,i.cytoscapeCoseBilkent=e()}}(function(){return function t(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof e&&e;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};n[s][0].call(h.exports,function(e){var t=n[s][1][e];return o(t?t:e)},h,h.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){function r(){}var i=e("./FDLayoutConstants");for(var o in i)r[o]=i[o];r.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,r.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,r.DEFAULT_COMPONENT_SEPERATION=60,t.exports=r},{"./FDLayoutConstants":9}],2:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e("./FDLayoutEdge");r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];t.exports=r},{"./FDLayoutEdge":10}],3:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e("./LGraph");r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];t.exports=r},{"./LGraph":18}],4:[function(e,t,n){function r(e){i.call(this,e)}var i=e("./LGraphManager");r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];t.exports=r},{"./LGraphManager":19}],5:[function(e,t,n){function r(){i.call(this)}var i=e("./FDLayout"),o=e("./CoSEGraphManager"),a=e("./CoSEGraph"),s=e("./CoSENode"),u=e("./CoSEEdge");r.prototype=Object.create(i.prototype);for(var l in i)r[l]=i[l];r.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},r.prototype.newGraph=function(e){return new a(null,this.graphManager,e)},r.prototype.newNode=function(e){return new s(this.graphManager,e)},r.prototype.newEdge=function(e){return new u(null,null,e)},r.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(CoSEConstants.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=CoSEConstants.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=CoSEConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=FDLayoutConstants.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=FDLayoutConstants.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR)},r.prototype.layout=function(){var e=LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;return e&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},r.prototype.classicLayout=function(){if(this.calculateNodesToApplyGravitationTo(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var e=this.getFlatForest();e.length>0?this.positionNodesRadially(e):this.positionNodesRandomly()}return this.initSpringEmbedder(),this.runSpringEmbedder(),console.log("Classic CoSE layout finished after "+this.totalIterations+" iterations"),!0},r.prototype.runSpringEmbedder=function(){var e=(new Date).getTime(),t=25,n=t;do{if(this.totalIterations++,this.totalIterations%FDLayoutConstants.CONVERGENCE_CHECK_PERIOD==0){if(this.isConverged())break;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations)/this.maxIterations),n=Math.ceil(t*Math.sqrt(this.coolingFactor))}if(this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.moveNodes(),this.animate(),"during"===FDLayoutConstants.ANIMATE&&this.totalIterations%n==0){for(var r=0;r<1e7&&!((new Date).getTime()-e>25);r++);e=(new Date).getTime();for(var i=this.graphManager.getAllNodes(),o={},r=0;r<i.length;r++){var a=i[r].rect,s=i[r].id;o[s]={id:s,x:a.getCenterX(),y:a.getCenterY(),w:a.width,h:a.height}}broadcast({pData:o})}}while(this.totalIterations<this.maxIterations);this.graphManager.updateBounds()},r.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),i=r.length;for(t=0;t<i;t++)e=r[t],e.updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));this.graphManager.setAllNodesToApplyGravitation(n)},r.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new HashSet;for(t=0;t<e.length;t++){var r=e[t];if(!n.contains(r)){var i=r.getSource(),o=r.getTarget();if(i==o)r.getBendpoints().push(new PointD),r.getBendpoints().push(new PointD),this.createDummyNodesForBendpoints(r),n.add(r);else{var a=[];if(a=a.concat(i.getEdgeListToNode(o)),a=a.concat(o.getEdgeListToNode(i)),!n.contains(a[0])){if(a.length>1){var s;for(s=0;s<a.length;s++){var u=a[s];u.getBendpoints().push(new PointD),this.createDummyNodesForBendpoints(u)}}n.addAll(list)}}}if(n.size()==e.length)break}},r.prototype.positionNodesRadially=function(e){for(var t=new Point(0,0),n=Math.ceil(Math.sqrt(e.length)),i=0,o=0,a=0,s=new PointD(0,0),u=0;u<e.length;u++){u%n==0&&(a=0,o=i,0!=u&&(o+=CoSEConstants.DEFAULT_COMPONENT_SEPERATION),i=0);var l=e[u],c=Layout.findCenterOfTree(l);t.x=a,t.y=o,s=r.radialLayout(l,c,t),s.y>i&&(i=Math.floor(s.y)),a=Math.floor(s.x+CoSEConstants.DEFAULT_COMPONENT_SEPERATION)}this.transform(new PointD(LayoutConstants.WORLD_CENTER_X-s.x/2,LayoutConstants.WORLD_CENTER_Y-s.y/2))},r.radialLayout=function(e,t,n){var i=Math.max(this.maxDiagonalInTree(e),CoSEConstants.DEFAULT_RADIAL_SEPARATION);r.branchRadialLayout(t,null,0,359,0,i);var o=LGraph.calculateBounds(e),a=new Transform;a.setDeviceOrgX(o.getMinX()),a.setDeviceOrgY(o.getMinY()),a.setWorldOrgX(n.x),a.setWorldOrgY(n.y);for(var s=0;s<e.length;s++){var u=e[s];u.transform(a)}var l=new PointD(o.getMaxX(),o.getMaxY());return a.inverseTransformPoint(l)},r.branchRadialLayout=function(e,t,n,i,o,a){var s=(i-n+1)/2;s<0&&(s+=180);var u=(s+n)%360,l=u*IGeometry.TWO_PI/360,c=(Math.cos(l),o*Math.cos(l)),h=o*Math.sin(l);e.setCenter(c,h);var d=[];d=d.concat(e.getEdges());var f=d.length;null!=t&&f--;for(var p,g=0,v=d.length,y=e.getEdgesBetween(t);y.length>1;){var m=y[0];y.splice(0,1);var x=d.indexOf(m);x>=0&&d.splice(x,1),v--,f--}p=null!=t?(d.indexOf(y[0])+1)%v:0;for(var b=Math.abs(i-n)/f,w=p;g!=f;w=++w%v){var E=d[w].getOtherEnd(e);if(E!=t){var _=(n+g*b)%360,T=(_+b)%360;r.branchRadialLayout(E,e,_,T,o+a,a),g++}}},r.maxDiagonalInTree=function(e){for(var t=Integer.MIN_VALUE,n=0;n<e.length;n++){var r=e[n],i=r.getDiagonal();i>t&&(t=i)}return t},r.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},t.exports=r},{"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSENode":6,"./FDLayout":8}],6:[function(e,t,n){function r(e,t,n,r){i.call(this,e,t,n,r)}var i=e("./FDLayoutNode");r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];r.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX),this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY),Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*IMath.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*IMath.sign(this.displacementY)),null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},r.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),i=0;i<r.length;i++)n=r[i],null==n.getChild()?(n.moveBy(e,t),n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},r.prototype.setPred1=function(e){this.pred1=e},r.prototype.getPred1=function(){return pred1},r.prototype.getPred2=function(){return pred2},r.prototype.setNext=function(e){this.next=e},r.prototype.getNext=function(){return next},r.prototype.setProcessed=function(e){this.processed=e},r.prototype.isProcessed=function(){return processed},t.exports=r},{"./FDLayoutNode":11}],7:[function(e,t,n){function r(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},t.exports=r},{}],8:[function(e,t,n){function r(){i.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=1,this.initialCoolingFactor=1,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}var i=e("./Layout"),o=e("./FDLayoutConstants");r.prototype=Object.create(i.prototype);for(var a in i)r[a]=i[a];r.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.layoutQuality==LayoutConstants.DRAFT_QUALITY?(this.displacementThresholdPerNode+=.3,this.maxIterations*=.8):this.layoutQuality==LayoutConstants.PROOF_QUALITY&&(this.displacementThresholdPerNode-=.3,this.maxIterations*=1.2),this.totalIterations=0,this.notAnimatedIterations=0},r.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,i,a,s=this.getGraphManager().getAllEdges(),u=0;u<s.length;u++)e=s[u],e.idealLength=this.idealEdgeLength,e.isInterGraph&&(n=e.getSource(),r=e.getTarget(),i=e.getSourceInLca().getEstimatedSize(),a=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=i+a-2*LayoutConstants.SIMPLE_NODE_SIZE),t=e.getLca().getInclusionTreeDepth(),e.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+r.getInclusionTreeDepth()-2*t))},r.prototype.initSpringEmbedder=function(){this.incremental?(this.coolingFactor=.8,this.initialCoolingFactor=.8,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=1,this.initialCoolingFactor=1,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},r.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},r.prototype.calcRepulsionForces=function(){var e,t,n,r,i=this.getAllNodes();for(e=0;e<i.length;e++)for(n=i[e],t=e+1;t<i.length;t++)r=i[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},r.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},r.prototype.moveNodes=function(){for(var e,t=this.getAllNodes(),n=0;n<t.length;n++)e=t[n],e.move()},r.prototype.calcSpringForce=function(e,t){var n,r,i,o,a=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;n=e.getLength(),r=this.springConstant*(n-t),i=r*(e.lengthX/n),o=r*(e.lengthY/n),a.springForceX+=i,a.springForceY+=o,s.springForceX-=i,s.springForceY-=o},r.prototype.calcRepulsionForce=function(e,t){var n,r,i,a,s,u,l,c=e.getRect(),h=t.getRect(),d=new Array(2),f=new Array(4);c.intersects(h)?(IGeometry.calcSeparationAmount(c,h,d,o.DEFAULT_EDGE_LENGTH/2),u=d[0],l=d[1]):(this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=h.getCenterX()-c.getCenterX(),r=h.getCenterY()-c.getCenterY()):(IGeometry.getIntersection(c,h,f),n=f[2]-f[0],r=f[3]-f[1]),Math.abs(n)<o.MIN_REPULSION_DIST&&(n=IMath.sign(n)*o.MIN_REPULSION_DIST),Math.abs(r)<o.MIN_REPULSION_DIST&&(r=IMath.sign(r)*o.MIN_REPULSION_DIST),i=n*n+r*r,a=Math.sqrt(i),s=this.repulsionConstant/i,u=s*n/a,l=s*r/a),e.repulsionForceX-=u,e.repulsionForceY-=l,t.repulsionForceX+=u,t.repulsionForceY+=l},r.prototype.calcGravitationalForce=function(e){var t,n,r,i,o,a,s,u;t=e.getOwner(),n=(t.getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-n,o=e.getCenterY()-r,a=Math.abs(i),s=Math.abs(o),e.getOwner()==this.graphManager.getRoot()?(Math.floor(80),u=Math.floor(t.getEstimatedSize()*this.gravityRangeFactor),(a>u||s>u)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*o)):(u=Math.floor(t.getEstimatedSize()*this.compoundGravityRangeFactor),(a>u||s>u)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant))},r.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},r.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},r.prototype.calcRepulsionRange=function(){return 0},t.exports=r},{"./FDLayoutConstants":9,"./Layout":22}],9:[function(e,t,n){function r(){}var i=e("./LayoutConstants");for(var o in i)r[o]=i[o];r.MAX_ITERATIONS=2500,r.DEFAULT_EDGE_LENGTH=50,r.DEFAULT_SPRING_STRENGTH=.45,r.DEFAULT_REPULSION_STRENGTH=4500,r.DEFAULT_GRAVITY_STRENGTH=.4,r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,r.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,r.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,r.MAX_NODE_DISPLACEMENT=3*r.MAX_NODE_DISPLACEMENT_INCREMENTAL,r.MIN_REPULSION_DIST=r.DEFAULT_EDGE_LENGTH/10,r.CONVERGENCE_CHECK_PERIOD=100,r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,r.MIN_EDGE_LENGTH=1,r.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=r},{"./LayoutConstants":23}],10:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n),this.idealLength=o.DEFAULT_EDGE_LENGTH}var i=e("./LEdge"),o=e("./FDLayoutConstants");r.prototype=Object.create(i.prototype);for(var a in i)r[a]=i[a];t.exports=r},{"./FDLayoutConstants":9,"./LEdge":17}],11:[function(e,t,n){function r(e,t,n,r){i.call(this,e,t,n,r),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}var i=e("./LNode");r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];r.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},t.exports=r},{"./LNode":21}],12:[function(e,t,n){function r(){this.map={},this.keys=[]}var i=e("./UniqueIDGeneretor");r.prototype.put=function(e,t){var n=i.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},r.prototype.contains=function(e){i.createID(e);return null!=this.map[e]},r.prototype.get=function(e){var t=i.createID(e);return this.map[t]},r.prototype.keySet=function(){return this.keys},t.exports=r},{"./UniqueIDGeneretor":29}],13:[function(e,t,n){function r(){this.set={}}var i=e("./UniqueIDGeneretor");r.prototype.add=function(e){var t=i.createID(e);this.contains(t)||(this.set[t]=e)},r.prototype.remove=function(e){delete this.set[i.createID(e)]},r.prototype.clear=function(){this.set={}},r.prototype.contains=function(e){return this.set[i.createID(e)]==e},r.prototype.isEmpty=function(){return 0===this.size()},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];this.add(r)}},t.exports=r},{"./UniqueIDGeneretor":29}],14:[function(e,t,n){function r(){}r.calcSeparationAmount=function(e,t,n,i){if(!e.intersects(t))throw"assert failed";var o=new Array(2);r.decideDirectionsForOverlappingNodes(e,t,o),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var a=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()==e.getCenterY()&&t.getCenterX()==e.getCenterX()&&(a=1);var s=a*n[0],u=n[1]/a;n[0]<u?u=n[0]:s=n[1],n[0]=-1*o[0]*(u/2+i),n[1]=-1*o[1]*(s/2+i)},r.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},r.getIntersection2=function(e,t,n){var i=e.getCenterX(),o=e.getCenterY(),a=t.getCenterX(),s=t.getCenterY();if(e.intersects(t))return n[0]=i,n[1]=o,n[2]=a,n[3]=s,!0;var u=e.getX(),l=e.getY(),c=e.getRight(),h=e.getX(),d=e.getBottom(),f=e.getRight(),p=e.getWidthHalf(),g=e.getHeightHalf(),v=t.getX(),y=t.getY(),m=t.getRight(),x=t.getX(),b=t.getBottom(),w=t.getRight(),E=t.getWidthHalf(),_=t.getHeightHalf(),T=!1,N=!1;if(i==a){if(o>s)return n[0]=i,n[1]=l,n[2]=a,n[3]=b,!1;if(o<s)return n[0]=i,n[1]=d,n[2]=a,n[3]=y,!1}else if(o==s){if(i>a)return n[0]=u,n[1]=o,n[2]=m,n[3]=s,!1;if(i<a)return n[0]=c,n[1]=o,n[2]=v,n[3]=s,!1}else{
var k,D,C,S,L,A,I=e.height/e.width,M=t.height/t.width,P=(s-o)/(a-i);if(-I==P?i>a?(n[0]=h,n[1]=d,T=!0):(n[0]=c,n[1]=l,T=!0):I==P&&(i>a?(n[0]=u,n[1]=l,T=!0):(n[0]=f,n[1]=d,T=!0)),-M==P?a>i?(n[2]=x,n[3]=b,N=!0):(n[2]=m,n[3]=y,N=!0):M==P&&(a>i?(n[2]=v,n[3]=y,N=!0):(n[2]=w,n[3]=b,N=!0)),T&&N)return!1;if(i>a?o>s?(k=r.getCardinalDirection(I,P,4),D=r.getCardinalDirection(M,P,2)):(k=r.getCardinalDirection(-I,P,3),D=r.getCardinalDirection(-M,P,1)):o>s?(k=r.getCardinalDirection(-I,P,1),D=r.getCardinalDirection(-M,P,3)):(k=r.getCardinalDirection(I,P,2),D=r.getCardinalDirection(M,P,4)),!T)switch(k){case 1:S=l,C=i+-g/P,n[0]=C,n[1]=S;break;case 2:C=f,S=o+p*P,n[0]=C,n[1]=S;break;case 3:S=d,C=i+g/P,n[0]=C,n[1]=S;break;case 4:C=h,S=o+-p*P,n[0]=C,n[1]=S}if(!N)switch(D){case 1:A=y,L=a+-_/P,n[2]=L,n[3]=A;break;case 2:L=w,A=s+E*P,n[2]=L,n[3]=A;break;case 3:A=b,L=a+_/P,n[2]=L,n[3]=A;break;case 4:L=x,A=s+-E*P,n[2]=L,n[3]=A}}return!1},r.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},r.getIntersection=function(e,t,n,i){if(null==i)return r.getIntersection2(e,t,n);var o,a,s,u,l,c,h,d,f,p=e.x,g=e.y,v=t.x,y=t.y,m=n.x,x=n.y,b=i.x,w=i.y;return s=y-g,l=p-v,h=v*g-p*y,u=w-x,c=m-b,d=b*x-m*w,f=s*c-u*l,0==f?null:(o=(l*d-c*h)/f,a=(u*h-s*d)/f,new Point(o,a))},r.HALF_PI=.5*Math.PI,r.ONE_AND_HALF_PI=1.5*Math.PI,r.TWO_PI=2*Math.PI,r.THREE_PI=3*Math.PI,t.exports=r},{}],15:[function(e,t,n){function r(){}r.sign=function(e){return e>0?1:e<0?-1:0},r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},t.exports=r},{}],16:[function(e,t,n){function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,t.exports=r},{}],17:[function(e,t,n){function r(e,t,n){i.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}var i=e("./LGraphObject");r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];r.prototype.getSource=function(){return this.source},r.prototype.getTarget=function(){return this.target},r.prototype.isInterGraph=function(){return this.isInterGraph},r.prototype.getLength=function(){return this.length},r.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},r.prototype.getBendpoints=function(){return this.bendpoints},r.prototype.getLca=function(){return this.lca},r.prototype.getSourceInLca=function(){return this.sourceInLca},r.prototype.getTargetInLca=function(){return this.targetInLca},r.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},r.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},r.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=IGeometry.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=IMath.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=IMath.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},r.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=IMath.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=IMath.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=r},{"./LGraphObject":20}],18:[function(e,t,n){function r(e,t,n){i.call(this,n),this.estimatedSize=o.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof s?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}var i=e("./LGraphObject"),o=e("./Integer"),a=e("./LayoutConstants"),s=e("./LGraphManager"),u=e("./LNode");r.prototype=Object.create(i.prototype);for(var l in i)r[l]=i[l];r.prototype.getNodes=function(){return this.nodes},r.prototype.getEdges=function(){return this.edges},r.prototype.getGraphManager=function(){return this.graphManager},r.prototype.getParent=function(){return this.parent},r.prototype.getLeft=function(){return this.left},r.prototype.getRight=function(){return this.right},r.prototype.getTop=function(){return this.top},r.prototype.getBottom=function(){return this.bottom},r.prototype.isConnected=function(){return this.isConnected},r.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(i.source=t,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),n!=t&&n.edges.push(i),i)},r.prototype.remove=function(e){var t=e;if(e instanceof u){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n,r=t.edges.slice(),i=r.length,o=0;o<i;o++)n=r[o],n.isInterGraph?this.graphManager.remove(n):n.source.owner.remove(n);var a=this.nodes.indexOf(t);if(a==-1)throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(e instanceof LEdge){var n=e;if(null==n)throw"Edge is null!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(null==n.source.owner||null==n.target.owner||n.source.owner!=this||n.target.owner!=this)throw"Source and/or target owner is invalid!";var s=n.source.edges.indexOf(n),l=n.target.edges.indexOf(n);if(!(s>-1&&l>-1))throw"Source and/or target doesn't know this edge!";n.source.edges.splice(s,1),n.target!=n.source&&n.target.edges.splice(l,1);var a=n.source.owner.getEdges().indexOf(n);if(a==-1)throw"Not in owner's edge list!";n.source.owner.getEdges().splice(a,1)}},r.prototype.updateLeftTop=function(){for(var e,t,n=o.MAX_VALUE,r=o.MAX_VALUE,i=this.getNodes(),a=i.length,s=0;s<a;s++){var u=i[s];e=Math.floor(u.getTop()),t=Math.floor(u.getLeft()),n>e&&(n=e),r>t&&(r=t)}return n==o.MAX_VALUE?null:(this.left=r-this.margin,this.top=n-this.margin,new Point(this.left,this.top))},r.prototype.updateBounds=function(e){for(var t,n,r,i,a=o.MAX_VALUE,s=-o.MAX_VALUE,u=o.MAX_VALUE,l=-o.MAX_VALUE,c=this.nodes,h=c.length,d=0;d<h;d++){var f=c[d];e&&null!=f.child&&f.updateBounds(),t=Math.floor(f.getLeft()),n=Math.floor(f.getRight()),r=Math.floor(f.getTop()),i=Math.floor(f.getBottom()),a>t&&(a=t),s<n&&(s=n),u>r&&(u=r),l<i&&(l=i)}var p=new RectangleD(a,u,s-a,l-u);a==o.MAX_VALUE&&(this.left=Math.floor(this.parent.getLeft()),this.right=Math.floor(this.parent.getRight()),this.top=Math.floor(this.parent.getTop()),this.bottom=Math.floor(this.parent.getBottom())),this.left=p.x-this.margin,this.right=p.x+p.width+this.margin,this.top=p.y-this.margin,this.bottom=p.y+p.height+this.margin},r.calculateBounds=function(e){for(var t,n,r,i,a=o.MAX_VALUE,s=-o.MAX_VALUE,u=o.MAX_VALUE,l=-o.MAX_VALUE,c=e.length,h=0;h<c;h++){var d=e[h];t=Math.floor(d.getLeft()),n=Math.floor(d.getRight()),r=Math.floor(d.getTop()),i=Math.floor(d.getBottom()),a>t&&(a=t),s<n&&(s=n),u>r&&(u=r),l<i&&(l=i)}var f=new RectangleD(a,u,s-a,l-u);return f},r.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++){var i=t[r];e+=i.calcEstimatedSize()}return 0==e?this.estimatedSize=a.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=Math.floor(e/Math.sqrt(this.nodes.length)),Math.floor(this.estimatedSize)},r.prototype.updateConnected=function(){if(0==this.nodes.length)return void(this.isConnected=!0);var e,t,n=[],r=new HashSet,i=this.nodes[0];for(n=n.concat(i.withChildren());n.length>0;){i=n.shift(),r.add(i),e=i.getEdges();for(var o=e.length,a=0;a<o;a++){var s=e[a];t=s.getOtherEndInGraph(i,this),null==t||r.contains(t)||(n=n.concat(t.withChildren()))}}if(this.isConnected=!1,r.size()>=this.nodes.length){var u=0,o=r.size();for(var l in r.set){var c=r.set[l];c.owner==this&&u++}u==this.nodes.length&&(this.isConnected=!0)}},t.exports=r},{"./Integer":16,"./LGraphManager":19,"./LGraphObject":20,"./LNode":21,"./LayoutConstants":23}],19:[function(e,t,n){function r(e){this.layout=e,this.graphs=[],this.edges=[]}r.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},r.prototype.add=function(e,t,n,r,i){if(null==n&&null==r&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=n,r=t,n=e;var o=r.getOwner(),a=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return n.isInterGraph=!1,o.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(n.source.edges.indexOf(n)!=-1||n.target.edges.indexOf(n)!=-1)throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},r.prototype.remove=function(e){if(e instanceof LGraph){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";var n=[];n=n.concat(t.getEdges());for(var r,i=n.length,o=0;o<i;o++)r=n[o],t.remove(r);var a=[];a=a.concat(t.getNodes());var s;i=a.length;for(var o=0;o<i;o++)s=a[o],t.remove(s);t==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(t);this.graphs.splice(u,1),t.parent=null}else if(e instanceof LEdge){if(r=e,null==r)throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(null==r.source||null==r.target)throw"Source and/or target is null!";if(r.source.edges.indexOf(r)==-1||r.target.edges.indexOf(r)==-1)throw"Source and/or target doesn't know this edge!";var u=r.source.edges.indexOf(r);if(r.source.edges.splice(u,1),u=r.target.edges.indexOf(r),r.target.edges.splice(u,1),null==r.source.owner||null==r.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(r.source.owner.getGraphManager().edges.indexOf(r)==-1)throw"Not in owner graph manager's edge list!";var u=r.source.owner.getGraphManager().edges.indexOf(r);r.source.owner.getGraphManager().edges.splice(u,1)}},r.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},r.prototype.getGraphs=function(){return this.graphs},r.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},r.prototype.resetAllNodes=function(){this.allNodes=null},r.prototype.resetAllEdges=function(){this.allEdges=null},r.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},r.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=(t.length,0);n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},r.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},r.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},r.prototype.getRoot=function(){return this.rootGraph},r.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},r.prototype.getLayout=function(){return this.layout},r.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();;){if(n=r.getParent(),null==n)break;if(n==t)return!0;if(r=n.getOwner(),null==r)break}for(r=t.getOwner();;){if(n=r.getParent(),null==n)break;if(n==e)return!0;if(r=n.getOwner(),null==r)break}return!1},r.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,i,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(e=o[s],t=e.source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(i=n.getOwner();null==e.lca;){if(i==r){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},r.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();;){if(null==n)break;for(var r=t.getOwner();;){if(null==r)break;if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},r.prototype.calcInclusionTreeDepths=function(e,t){null==e&&null==t&&(e=this.rootGraph,t=1);for(var n,r=e.getNodes(),i=r.length,o=0;o<i;o++)n=r[o],n.inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},r.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,n=0;n<t;n++)if(e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},t.exports=r},{}],20:[function(e,t,n){function r(e){this.vGraphObject=e}t.exports=r},{}],21:[function(e,t,n){function r(e,t,n,r){null==n&&null==r&&(r=t),i.call(this,r),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=r,this.edges=[],this.graphManager=e,null!=n&&null!=t?this.rect=new a(t.x,t.y,n.width,n.height):this.rect=new a}var i=e("./LGraphObject"),o=e("./Integer"),a=e("./RectangleD");r.prototype=Object.create(i.prototype);for(var s in i)r[s]=i[s];r.prototype.getEdges=function(){return this.edges},r.prototype.getChild=function(){return this.child},r.prototype.getOwner=function(){if(null!=this.owner&&!(null==this.owner||this.owner.getNodes().indexOf(this)>-1))throw"assert failed";return this.owner},r.prototype.getWidth=function(){return this.rect.width},r.prototype.setWidth=function(e){this.rect.width=e},r.prototype.getHeight=function(){return this.rect.height},r.prototype.setHeight=function(e){this.rect.height=e},r.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},r.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},r.prototype.getCenter=function(){return new PointD(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},r.prototype.getLocation=function(){return new PointD(this.rect.x,this.rect.y)},r.prototype.getRect=function(){return this.rect},r.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},r.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},r.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},r.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},r.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},r.prototype.getEdgeListToNode=function(e){var t,n=[];for(var r in this.edges)if(t=r,t.target==e){if(t.source!=this)throw"Incorrect edge source!";n.push(t)}return n},r.prototype.getEdgesBetween=function(e){var t,n=[];for(var r in this.edges){if(t=this.edges[r],t.source!=this&&t.target!=this)throw"Incorrect edge source and/or target";t.target!=e&&t.source!=e||n.push(t)}return n},r.prototype.getNeighborsList=function(){var e,t=new HashSet;for(var n in this.edges)if(e=this.edges[n],e.source==this)t.add(e.target);else{if(!e.target==this)throw"Incorrect incidency!";t.add(e.source)}return t},r.prototype.withChildren=function(){var e,t=[];if(t.push(this),null!=this.child)for(var n=this.child.getNodes(),r=0;r<n.length;r++)e=n[r],t=t.concat(e.withChildren());return t},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=Math.floor((this.rect.width+this.rect.height)/2):(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},r.prototype.scatter=function(){var e,t,n=-LayoutConstants.INITIAL_WORLD_BOUNDARY,r=LayoutConstants.INITIAL_WORLD_BOUNDARY;e=LayoutConstants.WORLD_CENTER_X+RandomSeed.nextDouble()*(r-n)+n;var i=-LayoutConstants.INITIAL_WORLD_BOUNDARY,o=LayoutConstants.INITIAL_WORLD_BOUNDARY;t=LayoutConstants.WORLD_CENTER_Y+RandomSeed.nextDouble()*(o-i)+i,this.rect.x=e,this.rect.y=t},r.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()+2*LayoutConstants.COMPOUND_NODE_MARGIN),this.setHeight(e.getBottom()-e.getTop()+2*LayoutConstants.COMPOUND_NODE_MARGIN+LayoutConstants.LABEL_HEIGHT)}},r.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},r.prototype.transform=function(e){var t=this.rect.x;t>LayoutConstants.WORLD_BOUNDARY?t=LayoutConstants.WORLD_BOUNDARY:t<-LayoutConstants.WORLD_BOUNDARY&&(t=-LayoutConstants.WORLD_BOUNDARY);var n=this.rect.y;n>LayoutConstants.WORLD_BOUNDARY?n=LayoutConstants.WORLD_BOUNDARY:n<-LayoutConstants.WORLD_BOUNDARY&&(n=-LayoutConstants.WORLD_BOUNDARY);var r=new PointD(t,n),i=e.inverseTransformPoint(r);this.setLocation(i.x,i.y)},r.prototype.getLeft=function(){return this.rect.x},r.prototype.getRight=function(){return this.rect.x+this.rect.width},r.prototype.getTop=function(){return this.rect.y},r.prototype.getBottom=function(){return this.rect.y+this.rect.height},r.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=r},{"./Integer":16,"./LGraphObject":20,"./RectangleD":27}],22:[function(e,t,n){function r(e){this.layoutQuality=i.DEFAULT_QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new o,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}var i=e("./LayoutConstants"),o=e("./HashMap"),a=e("./LGraphManager");r.RANDOM_SEED=1,r.prototype.getGraphManager=function(){return this.graphManager},r.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},r.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},r.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},r.prototype.newGraphManager=function(){var e=new a(this);return this.graphManager=e,e},r.prototype.newGraph=function(e){return new LGraph(null,this.graphManager,e)},r.prototype.newNode=function(e){return new LNode(this.graphManager,e)},r.prototype.newEdge=function(e){return new LEdge(null,null,e)},r.prototype.runLayout=function(){this.isLayoutFinished=!1,this.initParameters();var e;if(null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge())e=!1;else{var t=0;if(this.isSubLayout||(t=(new Date).getTime()),e=this.layout(),!this.isSubLayout){var n=(new Date).getTime(),r=n-t;console.log("Total execution time: "+r+" miliseconds.")}}return e&&(this.isSubLayout||this.doPostLayout()),this.isLayoutFinished=!0,e},r.prototype.doPostLayout=function(){this.transform(),this.update()},r.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e,t=this.graphManager.getAllEdges(),n=0;n<t.length;n++)e=t[n];for(var r,i=this.graphManager.getRoot().getNodes(),n=0;n<i.length;n++)r=i[n];this.update(this.graphManager.getRoot())}},r.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof LNode){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);if(null!=t.vGraphObject){var i=t.vGraphObject;i.update(t)}}else if(e instanceof LEdge){var o=e;if(null!=o.vGraphObject){var a=o.vGraphObject;a.update(o)}}else if(e instanceof LGraph){var s=e;if(null!=s.vGraphObject){var u=s.vGraphObject;u.update(s)}}},r.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.DEFAULT_QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(animationOnLayout=!1)},r.prototype.transform=function(e){if(void 0==e)this.transform(new PointD(0,0));else{var t=new Transform,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r,i=this.getAllNodes(),o=0;o<i.length;o++)r=i[o],r.transform(t)}}},r.prototype.positionNodesRandomly=function(e){if(void 0==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),i=0;i<r.length;i++)t=r[i],n=t.getChild(),null==n?t.scatter():0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},r.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),r=!0,i=0;i<n.length;i++)null!=n[i].getChild()&&(r=!1);if(!r)return e;var a=new HashSet,s=[],u=new o,l=[];for(l=l.concat(n);l.length>0&&t;){for(s.push(l[0]);s.length>0&&t;){var c=s[0];s.splice(0,1),a.add(c);for(var h=c.getEdges(),i=0;i<h.length;i++){var d=h[i].getOtherEnd(c);if(u.get(c)!=d){if(a.contains(d)){t=!1;break}s.push(d),u.put(d,c)}}}if(t){var f=[];a.addAllTo(f),e.push(f);for(var i=0;i<f.length;i++){var p=f[i],g=l.indexOf(p);g>-1&&l.splice(g,1)}a=new HashSet,u=new o}else e=[]}return e},r.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),r.add(o);var a=this.newEdge(null);this.graphManager.add(a,n,o),t.add(o),n=o}var a=this.newEdge(null);return this.graphManager.add(a,n,e.target),this.edgeToDummyNodes.put(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},r.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=this.edgeToDummyNodes.keySet().concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var r=this.edgeToDummyNodes.get(n),i=0;i<r.length;i++){var o=r[i],a=new PointD(o.getCenterX(),o.getCenterY()),s=n.bendpoints.get(i);s.x=a.x,s.y=a.y,o.getOwner().remove(o)}this.graphManager.add(n,n.source,n.target)}}},r.transform=function(e,t,n,r){if(void 0!=n&&void 0!=r){var i=t;if(e<=50){var o=t/n;i-=(t-o)/50*(50-e)}else{var a=t*r;i+=(a-t)/50*(e-50)}return i}var s,u;return e<=50?(s=9*t/500,u=t/10):(s=9*t/50,u=-8*t),s*e+u},r.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new o,i=!1,a=null;1!=t.length&&2!=t.length||(i=!0,a=t[0]);for(var s=0;s<t.length;s++){var u=t[s],l=u.getNeighborsList().size();r.put(u,u.getNeighborsList().size()),1==l&&n.push(u)}var c=[];for(c=c.concat(n);!i;){var h=[];h=h.concat(c),c=[];for(var s=0;s<t.length;s++){var u=t[s],d=t.indexOf(u);d>=0&&t.splice(d,1);var f=u.getNeighborsList();for(var p in f.set){var g=f.set[p];if(n.indexOf(g)<0){var v=r.get(g),y=v-1;1==y&&c.push(g),r.put(g,y)}}}n=n.concat(c),1!=t.length&&2!=t.length||(i=!0,a=t[0])}return a},r.prototype.setGraphManager=function(e){this.graphManager=e},t.exports=r},{"./HashMap":12,"./LGraphManager":19,"./LayoutConstants":23}],23:[function(e,t,n){function r(){}r.PROOF_QUALITY=0,r.DEFAULT_QUALITY=1,r.DRAFT_QUALITY=2,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=10,r.LABEL_HEIGHT=20,r.COMPOUND_NODE_MARGIN=5,r.SIMPLE_NODE_SIZE=40,r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.WORLD_BOUNDARY=1e6,r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,t.exports=r},{}],24:[function(e,t,n){function r(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},r.prototype.move=function(e,t){this.x=e,this.y=t},r.prototype.translate=function(e,t){this.x+=e,this.y+=t},r.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=r},{}],25:[function(e,t,n){function r(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(e){this.x=e},r.prototype.setY=function(e){this.y=e},r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},t.exports=r},{}],26:[function(e,t,n){function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return r.x=1e4*Math.sin(r.seed++),r.x-Math.floor(r.x)},t.exports=r},{}],27:[function(e,t,n){function r(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(e){this.x=e},r.prototype.getY=function(){return this.y},r.prototype.setY=function(e){this.y=e},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(e){return!(this.getRight()<e.x)&&(!(this.getBottom()<e.y)&&(!(e.getRight()<this.x)&&!(e.getBottom()<this.y)))},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},t.exports=r},{}],28:[function(e,t,n){function r(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}r.prototype.getWorldOrgX=function(){return this.lworldOrgX},r.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},r.prototype.getWorldOrgY=function(){return this.lworldOrgY},r.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},r.prototype.getWorldExtX=function(){return this.lworldExtX},r.prototype.setWorldExtX=function(e){this.lworldExtX=e},r.prototype.getWorldExtY=function(){return this.lworldExtY},r.prototype.setWorldExtY=function(e){this.lworldExtY=e},r.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},r.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},r.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},r.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},r.prototype.getDeviceExtX=function(){return this.ldeviceExtX},r.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},r.prototype.getDeviceExtY=function(){return this.ldeviceExtY},r.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},r.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},r.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},r.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},r.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},r.prototype.inverseTransformPoint=function(e){var t=new PointD(this.inverseTransformX(e.x),this.inverseTransformY(e.y));return t},t.exports=r},{}],29:[function(e,t,n){function r(){}r.lastID=0,r.createID=function(e){return r.isPrimitive(e)?e:null!=e.uniqueID?e.uniqueID:(e.uniqueID=r.getString(),r.lastID++,e.uniqueID)},r.getString=function(e){return null==e&&(e=r.lastID),"Object#"+e},r.isPrimitive=function(e){var t=typeof e;return null==e||"object"!=t&&"function"!=t},t.exports=r},{}],30:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function i(e){this.options=r(O,e),i.getUserOptions(this.options)}var o,a=e("./DimensionD"),s=e("./HashMap"),u=e("./HashSet"),l=e("./IGeometry"),c=e("./IMath"),h=e("./Integer"),d=e("./Point"),f=e("./PointD"),p=e("./RandomSeed"),g=e("./RectangleD"),v=e("./Transform"),y=e("./UniqueIDGeneretor"),m=e("./LGraphObject"),x=e("./LGraph"),b=e("./LEdge"),w=e("./LGraphManager"),E=e("./LNode"),_=e("./Layout"),T=e("./LayoutConstants"),N=e("./FDLayout"),k=e("./FDLayoutConstants"),D=e("./FDLayoutEdge"),C=e("./FDLayoutNode"),S=e("./CoSEConstants"),L=e("./CoSEEdge"),A=e("./CoSEGraph"),I=e("./CoSEGraphManager"),M=e("./CoSELayout"),P=e("./CoSENode");i.idToLNode={},i.toBeTiled={};var O={ready:function(){},stop:function(){},fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8};i.layout=new M,i.getUserOptions=function(e){null!=e.nodeRepulsion&&(S.DEFAULT_REPULSION_STRENGTH=k.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),null!=e.idealEdgeLength&&(S.DEFAULT_EDGE_LENGTH=k.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),null!=e.edgeElasticity&&(S.DEFAULT_SPRING_STRENGTH=k.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),null!=e.nestingFactor&&(S.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=k.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),
null!=e.gravity&&(S.DEFAULT_GRAVITY_STRENGTH=k.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(S.MAX_ITERATIONS=k.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(S.DEFAULT_GRAVITY_RANGE_FACTOR=k.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(S.DEFAULT_COMPOUND_GRAVITY_STRENGTH=k.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(S.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),S.DEFAULT_INCREMENTAL=k.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=!e.randomize,S.ANIMATE=k.ANIMATE=e.animate},i.prototype.run=function(){var e=this;i.idToLNode={},i.toBeTiled={},i.layout=new M,this.cy=this.options.cy;var t=this;this.cy.trigger("layoutstart");var n=i.layout.newGraphManager();this.gm=n;var r=this.options.eles.nodes(),O=this.options.eles.edges();if(this.root=n.addRoot(),this.options.tile)var R=this.groupZeroDegreeMembers(),F=this.clearCompounds(this.options),j=this.clearZeroDegreeMembers(R);else this.processChildrenList(this.root,i.getTopMostNodes(r));for(var B=0;B<O.length;B++){var q=O[B],z=i.idToLNode[q.data("source")],V=i.idToLNode[q.data("target")],Y=n.add(i.layout.newEdge(),z,V);Y.id=q.id()}var X=e.thread;X&&!X.stopped()||(X=e.thread=o(),X.require(a,"DimensionD"),X.require(s,"HashMap"),X.require(u,"HashSet"),X.require(l,"IGeometry"),X.require(c,"IMath"),X.require(h,"Integer"),X.require(d,"Point"),X.require(f,"PointD"),X.require(p,"RandomSeed"),X.require(g,"RectangleD"),X.require(v,"Transform"),X.require(y,"UniqueIDGeneretor"),X.require(m,"LGraphObject"),X.require(x,"LGraph"),X.require(b,"LEdge"),X.require(w,"LGraphManager"),X.require(E,"LNode"),X.require(_,"Layout"),X.require(T,"LayoutConstants"),X.require(N,"FDLayout"),X.require(k,"FDLayoutConstants"),X.require(D,"FDLayoutEdge"),X.require(C,"FDLayoutNode"),X.require(S,"CoSEConstants"),X.require(L,"CoSEEdge"),X.require(A,"CoSEGraph"),X.require(I,"CoSEGraphManager"),X.require(M,"CoSELayout"),X.require(P,"CoSENode"));for(var r=this.options.eles.nodes(),O=this.options.eles.edges(),U={nodes:[],edges:[]},G={},B=0;B<r.length;B++)G[r[B].id()]=!0;for(var H=n.getAllNodes(),B=0;B<H.length;B++){var W=H[B],$=W.id,Z=this.options.cy.getElementById($),Q=Z.data("parent");Q=G[Q]?Q:void 0;var K=W.rect.width,J=W.rect.x,ee=W.rect.y,te=W.rect.height,ne=Z.data("dummy_parent_id");U.nodes.push({id:$,pid:Q,x:J,y:ee,width:K,height:te,dummy_parent_id:ne})}for(var re=n.getAllEdges(),B=0;B<re.length;B++){var ie=re[B],oe=ie.id,ae=this.options.cy.getElementById(oe),se=ae.source().id(),ue=ae.target().id();U.edges.push({id:oe,source:se,target:ue})}var le=!1;return X.pass(U).run(function(e){var t=function(e){broadcast({log:e})};t("start thread");var n=new M,r=n.newGraphManager(),i=r.layout.newGraph(),o=r.layout.newNode(null),s=r.add(i,o);s.graphManager=r,r.setRootGraph(s);for(var u=r.rootGraph,l=[],c={},h={},d={},g=function(e,t){for(var i=t.length,o=0;o<i;o++){var s,u=t[o],l=h[u.id];if(s=null!=u.width&&null!=u.height?e.add(new P(r,new f(u.x,u.y),new a(parseFloat(u.width),parseFloat(u.height)))):e.add(new P(r)),s.id=u.id,c[u.id]=s,isNaN(s.rect.x)&&(s.rect.x=0),isNaN(s.rect.y)&&(s.rect.y=0),null!=l&&l.length>0){var d;d=n.getGraphManager().add(n.newGraph(),s),d.graphManager=r,g(d,l)}}},v=e.nodes,y=0;y<v.length;y++){var m=v[y],x=m.pid;null!=x?(null==h[x]&&(h[x]=[]),h[x].push(m)):l.push(m)}g(u,l);for(var b=e.edges,y=0;y<b.length;y++){var w=b[y],E=c[w.source],_=c[w.target];r.add(n.newEdge(),E,_)}n.runLayout();for(var T in c){var N=c[T],k=N.rect;d[T]={id:T,x:k.x,y:k.y,w:k.width,h:k.height}}var D={};D.rsSeed=p.seed,D.rsX=p.x;var C={result:d,seeds:D};return C}).then(function(e){var n=e.result,r=e.seeds;p.seed=r.rsSeed,p.x=r.rsX;for(var o in n){var a=i.idToLNode[o],s=n[o];a.rect.x=s.x,a.rect.y=s.y,a.rect.width=s.w,a.rect.height=s.h}t.options.tile&&(t.repopulateZeroDegreeMembers(j),t.repopulateCompounds(F),t.options.eles.nodes().updateCompoundBounds());var u=function(e,t){var n=t.data("id"),r=i.idToLNode[n];return{x:r.getRect().getCenterX(),y:r.getRect().getCenterY()}};"during"!==t.options.animate?t.options.eles.nodes().layoutPositions(t,t.options,u):(t.options.eles.nodes().positions(u),t.options.fit&&t.options.cy.fit(t.options.eles.nodes(),t.options.padding),le||(t.cy.one("layoutready",t.options.ready),t.cy.trigger("layoutready")),t.cy.one("layoutstop",t.options.stop),t.cy.trigger("layoutstop")),X.stop(),t.options.eles.nodes().removeData("dummy_parent_id")}),X.on("message",function(e){var n=e.message.log;if(null!=n)return void console.log("Thread log: "+n);var r=e.message.pData;return null!=r?(t.options.eles.nodes().positions(function(e,t){if(t.data("dummy_parent_id"))return{x:r[t.data("dummy_parent_id")].x,y:r[t.data("dummy_parent_id")].y};for(var n=t.data("id"),i=r[n],o=this;null==i;)o=o.parent()[0],i=r[o.id()],r[n]=i;return{x:i.x,y:i.y}}),t.options.fit&&t.options.cy.fit(t.options.eles.nodes(),t.options.padding),void(le||(le=!0,t.one("layoutready",t.options.ready),t.trigger({type:"layoutready",layout:t})))):void 0}),this},i.getTopMostNodes=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter(function(e,n){for(var r=n.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0});return r},i.prototype.getToBeTiled=function(e){var t=e.data("id");if(null!=i.toBeTiled[t])return i.toBeTiled[t];var n=e.children();if(null==n||0==n.length)return i.toBeTiled[t]=!1,!1;for(var r=0;r<n.length;r++){var o=n[r];if(this.getNodeDegree(o)>0)return i.toBeTiled[t]=!1,!1;if(null!=o.children()&&0!=o.children().length){if(!this.getToBeTiled(o))return i.toBeTiled[t]=!1,!1}else i.toBeTiled[o.data("id")]=!1}return i.toBeTiled[t]=!0,!0},i.prototype.getNodeDegree=function(e){var t=e.id(),n=this.options.eles.edges().filter(function(e,n){var r=n.data("source"),i=n.data("target");if(r!=i&&(r==t||i==t))return!0});return n.length},i.prototype.getNodeDegreeWithChildren=function(e){for(var t=this.getNodeDegree(e),n=e.children(),r=0;r<n.length;r++){var i=n[r];t+=this.getNodeDegreeWithChildren(i)}return t},i.prototype.groupZeroDegreeMembers=function(){for(var e=[],t=[],n=this,r={},i=0;i<this.options.eles.nodes().length;i++)r[this.options.eles.nodes()[i].id()]=!0;for(var o=this.options.eles.nodes().filter(function(e,t){var i=t.data("parent");return void 0==i||r[i]||(i=void 0),0==n.getNodeDegreeWithChildren(t)&&(void 0==i||void 0!=i&&!n.getToBeTiled(t.parent()[0]))}),i=0;i<o.length;i++){var a=o[i],s=a.parent().id();void 0==s||r[s]||(s=void 0),"undefined"==typeof e[s]&&(e[s]=[]),e[s]=e[s].concat(a)}for(var s in e)if(e[s].length>1){var u="DummyCompound_"+s;if(t[u]=e[s],this.options.cy.getElementById(u).empty()){this.options.cy.add({group:"nodes",data:{id:u,parent:s}});var l=this.options.cy.nodes()[this.options.cy.nodes().length-1];this.options.eles=this.options.eles.union(l),l.hide();for(var i=0;i<e[s].length;i++){0==i&&l.data("tempchildren",[]);var a=e[s][i];a.data("dummy_parent_id",u),this.options.cy.add({group:"nodes",data:{parent:u,width:a.width(),height:a.height()}});var c=this.options.cy.nodes()[this.options.cy.nodes().length-1];c.hide(),c.css("width",c.data("width")),c.css("height",c.data("height")),c.width(),l.data("tempchildren").push(c)}}}return t},i.prototype.performDFSOnCompounds=function(e){var t=[],n=i.getTopMostNodes(this.options.eles.nodes());return this.fillCompexOrderByDFS(t,n),t},i.prototype.fillCompexOrderByDFS=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.fillCompexOrderByDFS(e,r.children()),this.getToBeTiled(r)&&e.push(r)}},i.prototype.clearCompounds=function(e){var t=[],n=this.performDFSOnCompounds(e);i.compoundOrder=n,this.processChildrenList(this.root,i.getTopMostNodes(this.options.eles.nodes()));for(var r=0;r<n.length;r++){var o=i.idToLNode[n[r].id()];t[n[r].id()]=n[r].children(),o.child=null}var a=this.tileCompoundMembers(t);return a},i.prototype.clearZeroDegreeMembers=function(e){var t=[];for(var n in e){var r=i.idToLNode[n];t[n]=this.tileNodes(e[n]),r.rect.width=t[n].width,r.rect.height=t[n].height}return t},i.prototype.repopulateCompounds=function(e){for(var t=i.compoundOrder.length-1;t>=0;t--){var n=i.compoundOrder[t].id(),r=i.idToLNode[n],o=parseInt(i.compoundOrder[t].css("padding-left")),a=parseInt(i.compoundOrder[t].css("padding-top"));this.adjustLocations(e[n],r.rect.x,r.rect.y,o,a)}},i.prototype.repopulateZeroDegreeMembers=function(e){for(var t in e){var n=this.cy.getElementById(t),r=i.idToLNode[t],o=parseInt(n.css("padding-left")),a=parseInt(n.css("padding-top"));this.adjustLocations(e[t],r.rect.x,r.rect.y,o,a);for(var s=n.data("tempchildren"),t=0;t<s.length;t++)s[t].remove();n.remove()}},i.prototype.adjustLocations=function(e,t,n,r,i){t+=r,n+=i;for(var o=t,a=0;a<e.rows.length;a++){var s=e.rows[a];t=o;for(var u=0,l=0;l<s.length;l++){var c=s[l];this.cy.getElementById(c.id);c.rect.x=t,c.rect.y=n,t+=c.rect.width+e.horizontalPadding,c.rect.height>u&&(u=c.rect.height)}n+=u+e.verticalPadding}},i.prototype.tileCompoundMembers=function(e){var t=[];for(var n in e){var r=i.idToLNode[n];t[n]=this.tileNodes(e[n]),r.rect.width=t[n].width+20,r.rect.height=t[n].height+20}return t},i.prototype.tileNodes=function(e){for(var t=this,n="function"==typeof t.options.tilingPaddingVertical?t.options.tilingPaddingVertical.call():t.options.tilingPaddingVertical,r="function"==typeof t.options.tilingPaddingHorizontal?t.options.tilingPaddingHorizontal.call():t.options.tilingPaddingHorizontal,o={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:n,horizontalPadding:r},a=[],s=0;s<e.length;s++){var u=e[s],l=i.idToLNode[u.id()];if(!u.data("dummy_parent_id")){var c=l.owner;c.remove(l),this.gm.resetAllNodes(),this.gm.getAllNodes()}a.push(l)}a.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(var s=0;s<a.length;s++){var l=a[s],h=this.cy.getElementById(l.id).parent()[0],d=0;h&&(d=parseInt(h.css("padding-left"))+parseInt(h.css("padding-right"))),0==o.rows.length?this.insertNodeToRow(o,l,0,d):this.canAddHorizontal(o,l.rect.width,l.rect.height)?this.insertNodeToRow(o,l,this.getShortestRowIndex(o),d):this.insertNodeToRow(o,l,o.rows.length,d),this.shiftToLastRow(o)}return o},i.prototype.insertNodeToRow=function(e,t,n,r){var i=r;if(n==e.rows.length){var o=[];e.rows.push(o),e.rowWidth.push(i),e.rowHeight.push(0)}var a=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(a+=e.horizontalPadding),e.rowWidth[n]=a,e.width<a&&(e.width=a);var s=t.rect.height;n>0&&(s+=e.verticalPadding);var u=0;s>e.rowHeight[n]&&(u=e.rowHeight[n],e.rowHeight[n]=s,u=e.rowHeight[n]-u),e.height+=u,e.rows[n].push(t)},i.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},i.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},i.prototype.canAddHorizontal=function(e,t,n){var r=this.getShortestRowIndex(e);if(r<0)return!0;var i=e.rowWidth[r];if(i+e.horizontalPadding+t<=e.width)return!0;var o=0;e.rowHeight[r]<n&&r>0&&(o=n+e.verticalPadding-e.rowHeight[r]);var a;a=e.width-i>=t+e.horizontalPadding?(e.height+o)/(i+t+e.horizontalPadding):(e.height+o)/e.width,o=n+e.verticalPadding;var s;return s=e.width<t?(e.height+o)/t:(e.height+o)/e.width,s<1&&(s=1/s),a<1&&(a=1/a),a<s},i.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],i=r[r.length-1],o=i.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>o&&t!=n){r.splice(-1,1),e.rows[n].push(i),e.rowWidth[t]=e.rowWidth[t]-o,e.rowWidth[n]=e.rowWidth[n]+o,e.width=e.rowWidth[this.getLongestRowIndex(e)];for(var a=Number.MIN_VALUE,s=0;s<r.length;s++)r[s].height>a&&(a=r[s].height);t>0&&(a+=e.verticalPadding);var u=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=a,e.rowHeight[n]<i.height+e.verticalPadding&&(e.rowHeight[n]=i.height+e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.height+=l-u,this.shiftToLastRow(e)}},i.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.trigger("layoutstop"),this},i.prototype.processChildrenList=function(e,t){for(var n=t.length,r=0;r<n;r++){var o=t[r];this.options.eles.nodes().length;var s,u=o.children();if(s=null!=o.width()&&null!=o.height()?e.add(new P(i.layout.graphManager,new f(o.position("x"),o.position("y")),new a(parseFloat(o.width()),parseFloat(o.height())))):e.add(new P(this.graphManager)),s.id=o.data("id"),i.idToLNode[o.data("id")]=s,isNaN(s.rect.x)&&(s.rect.x=0),isNaN(s.rect.y)&&(s.rect.y=0),null!=u&&u.length>0){var l;l=i.layout.getGraphManager().add(i.layout.newGraph(),s),this.processChildrenList(l,u)}}},t.exports=function(e){return o=e.Thread,i}},{"./CoSEConstants":1,"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSELayout":5,"./CoSENode":6,"./DimensionD":7,"./FDLayout":8,"./FDLayoutConstants":9,"./FDLayoutEdge":10,"./FDLayoutNode":11,"./HashMap":12,"./HashSet":13,"./IGeometry":14,"./IMath":15,"./Integer":16,"./LEdge":17,"./LGraph":18,"./LGraphManager":19,"./LGraphObject":20,"./LNode":21,"./Layout":22,"./LayoutConstants":23,"./Point":24,"./PointD":25,"./RandomSeed":26,"./RectangleD":27,"./Transform":28,"./UniqueIDGeneretor":29}],31:[function(e,t,n){"use strict";var r=e("./Layout"),i=function(e){var t=r(e);e("layout","cose-bilkent",t)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},{"./Layout":30}]},{},[31])(31)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){!function(){"use strict";var e=function(e,t){function n(e){var t=this.options={};for(var n in i)t[n]=i[n];for(var n in e)t[n]=e[n]}if(e&&t){var r=function(e){return"function"==typeof e},i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,boundingBox:void 0,ready:function(){},stop:function(){}};n.prototype.run=function(){var e=this.options,n=this,i=e.cy,o=e.eles,a=function(e,t){return r(t)?t.apply(e,[e]):t},s=e.boundingBox||{x1:0,y1:0,w:i.width(),h:i.height()};void 0===s.x2&&(s.x2=s.x1+s.w),void 0===s.w&&(s.w=s.x2-s.x1),void 0===s.y2&&(s.y2=s.y1+s.h),void 0===s.h&&(s.h=s.y2-s.y1);var u=new t.graphlib.Graph({multigraph:!0,compound:!0}),l={},c=function(e,t){null!=t&&(l[e]=t)};c("nodesep",e.nodeSep),c("edgesep",e.edgeSep),c("ranksep",e.rankSep),c("rankdir",e.rankDir),u.setGraph(l),u.setDefaultEdgeLabel(function(){return{}}),u.setDefaultNodeLabel(function(){return{}});for(var h=o.nodes(),d=0;d<h.length;d++){var f=h[d],p=f.boundingBox();u.setNode(f.id(),{width:p.w,height:p.h,name:f.id()})}for(var d=0;d<h.length;d++){var f=h[d];f.isChild()&&u.setParent(f.id(),f.parent().id())}for(var g=o.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),d=0;d<g.length;d++){var v=g[d];u.setEdge(v.source().id(),v.target().id(),{minlen:a(v,e.minLen),weight:a(v,e.edgeWeight),name:v.id()},v.id())}t.layout(u);for(var y=u.nodes(),d=0;d<y.length;d++){var m=y[d],x=u.node(m);i.getElementById(m).scratch().dagre=x}var b;e.boundingBox?(b={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)},h.forEach(function(e){var t=e.scratch().dagre;b.x1=Math.min(b.x1,t.x),b.x2=Math.max(b.x2,t.x),b.y1=Math.min(b.y1,t.y),b.y2=Math.max(b.y2,t.y)}),b.w=b.x2-b.x1,b.h=b.y2-b.y1):b=s;var w=function(t){if(e.boundingBox){var n=0===b.w?0:(t.x-b.x1)/b.w,r=0===b.h?0:(t.y-b.y1)/b.h;return{x:s.x1+n*s.w,y:s.y1+r*s.h}}return t};return h.layoutPositions(n,e,function(){var e=this.scratch().dagre;return w({x:e.x,y:e.y})}),this},e("layout","dagre",n)}};"undefined"!=typeof t&&t.exports&&(t.exports=e),"undefined"!=typeof define&&define.amd&&define("cytoscape-dagre",function(){return e}),"undefined"!=typeof cytoscape&&"undefined"!=typeof dagre&&e(cytoscape,dagre)}()},{}],6:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,(i.cytoscapeNgraph||(i.cytoscapeNgraph={})).forcelayout=e()}}(function(){var t;return function n(t,r,i){function o(s,u){if(!r[s]){if(!t[s]){var l="function"==typeof e&&e;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return o(n?n:e)},h,h.exports,n,t,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){function r(t,n){function r(){if(!k)return I.postMessage(L),C}function d(e,t,n,r){I.postMessage({kind:h.setNodePosition,payload:{nodeId:e,x:t,y:n,z:r}}),N(A[e],{x:t,y:n,z:r})}function f(){return _}function p(e,t){I.postMessage({kind:h.pinNode,payload:{nodeId:e.id,isPinned:t}}),S[e.id]=t}function g(e){return S[e.id]}function v(){if(D)throw new Error("Init request is already sent to the worker");I.postMessage({kind:h.init,payload:{graph:s(t),options:JSON.stringify(n)}}),D=!0}function y(){function e(e){A[e.id]=r.getNodePosition(e.id)}var r=l(t,n);t.forEachNode(e),_=r.getGraphRect()}function m(e){return A[e]}function x(e){return T||b(),T[e]}function b(){T=Object.create(null),t.forEachLink(function(e){T[e.id]={from:m(e.fromId),to:m(e.toId)}})}function w(e){var t=e.data.kind,n=e.data.payload;t===h.cycleComplete&&(E(n.positions,n.systemStable),_=n.bbox,M.fire("cycle",n.iterations,n.systemStable)),t===h.initDone&&(k=!1,r())}function E(e,t){function n(t){var n=e[t],r=A[t];r?N(r,n):A[t]=n}C=t,Object.keys(e).forEach(n)}n=c(n);var _,T,N=n.is3d?i:o,k=!1,D=!1,C=!1,S=Object.create(null),L={kind:h.step},A=Object.create(null),I=a(e("./lib/layoutWorker.js"));I.addEventListener("message",w),v(),y();var M={step:r,getNodePosition:m,getLinkPosition:x,pinNode:p,setNodePosition:d,getGraphRect:f,isNodePinned:g};return u(M),M}function i(e,t){e.x=t.x,e.y=t.y,e.z=t.z}function o(e,t){e.x=t.x,e.y=t.y}var a=e("webworkify"),s=e("ngraph.tojson"),u=e("ngraph.events"),l=e("./lib/createLayout.js"),c=e("./options.js"),h=e("./lib/messages.js");t.exports=r},{"./lib/createLayout.js":2,"./lib/layoutWorker.js":3,"./lib/messages.js":4,"./options.js":5,"ngraph.events":6,"ngraph.tojson":35,webworkify:39}],2:[function(e,t,n){function r(e,t){return t=t||{},t.is3d?i(e,t.physics):o(e,t.physics)}var i=e("ngraph.forcelayout3d"),o=i.get2dLayout;t.exports=r},{"ngraph.forcelayout3d":16}],3:[function(e,t,n){function r(e){function t(e){var t=e.data.kind,i=e.data.payload;if(t===s.init){v=o(i.graph);var a=JSON.parse(i.options);l(v,a)}else t===s.step?h():t===s.pinNode?r(i.nodeId,i.isPinned):t===s.setNodePosition&&n(i.nodeId,i.x,i.y,i.z)}function n(e,t,n,r){u(),p.setNodePosition.apply(p,arguments),b=!1,h()}function r(e,t){u();var n=v.getNode(e);n&&p.pinNode(n,t)}function u(){if(!v)throw new Error("Pin node requested without initialied graph");if(!p)throw new Error("Layout was not created. Something is really wrong here")}function l(t,n){n=a(n),g=n.async,p=i(t,n),t.forEachNode(c),e.postMessage({kind:s.initDone})}function c(e){w[e.id]=p.getNodePosition(e.id)}function h(){u(),m=!0,x||d()}function d(){return b?void(x=0):void(x=setTimeout(function(){f(),m||!g.waitForStep?(m=!1,d()):x=0},0))}function f(){for(var t=0;t<g.stepsPerCycle;++t)b=p.step(),y+=1;y>=g.maxIterations&&(b=!0),e.postMessage({kind:s.cycleComplete,payload:{positions:w,systemStable:b,bbox:p.getGraphRect(),iterations:y}})}var p,g,v,y=0,m=!1,x=0,b=!1,w=Object.create(null);e.addEventListener("message",t)}var i=e("./createLayout.js"),o=e("ngraph.fromjson"),a=e("../options.js"),s=e("./messages.js");t.exports=r},{"../options.js":5,"./createLayout.js":2,"./messages.js":4,"ngraph.fromjson":22}],4:[function(e,t,n){t.exports={init:10,initDone:11,step:12,cycleComplete:13,pinNode:41,setNodePosition:43}},{}],5:[function(e,t,n){function r(e){e=e||{},e.is3d="boolean"==typeof e.is3d&&e.is3d;var t=e.async=e.async||{};return t.stepsPerCycle="number"==typeof t.stepsPerCycle?t.stepsPerCycle:5,t.maxIterations="number"==typeof t.maxIterations?t.maxIterations:Number.POSITIVE_INFINITY,t.waitForStep="boolean"!=typeof t.waitForStep||t.waitForStep,e}t.exports=r},{}],6:[function(e,t,n){function r(e){var t=Object.create(null);return{on:function(n,r,i){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i="undefined"==typeof n;if(i)return t=Object.create(null),e;if(t[n]){var o="function"!=typeof r;if(o)delete t[n];else for(var a=t[n],s=0;s<a.length;++s)a[s].callback===r&&a.splice(s,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var a=r[o];a.callback.apply(a.ctx,i)}return e}}}function i(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}t.exports=function(e){i(e);var t=r(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},{}],7:[function(e,t,n){function r(e,t,n){var r="[object Array]"===Object.prototype.toString.call(n);if(r)for(var o=0;o<n.length;++o)i(e,t,n[o]);else for(var a in e)i(e,t,a)}function i(e,t,n){if(e.hasOwnProperty(n)){if("function"==typeof t[n])return;t[n]=function(r){return void 0!==r?(e[n]=r,t):e[n]}}}t.exports=r},{}],8:[function(e,t,n){function r(t,n){function r(e,n){var r;if(void 0===n)r="string"==typeof e?e:e.id;else{var i=t.hasLink(e,n);if(!i)return;r=i.id}return w[r]}function o(e){return b[e]}function a(){t.on("changed",s)}function s(e){for(var t=0;t<e.length;++t){var n=e[t];"add"===n.changeType?(n.node&&l(n.node.id),n.link&&h(n.link)):"remove"===n.changeType&&(n.node&&c(n.node),n.link&&d(n.link))}}function u(){t.forEachNode(function(e){l(e.id)}),t.forEachLink(h)}function l(e){var n=b[e];if(!n){var r=t.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var o=f(r);i=x.getBestNewBodyPosition(o)}n=x.addBodyAt(i),b[e]=n,p(e),g(r)&&(n.isPinned=!0)}}function c(e){var t=e.id,n=b[t];n&&(b[t]=null,delete b[t],x.removeBody(n))}function h(e){p(e.fromId),p(e.toId);var t=b[e.fromId],n=b[e.toId],r=x.addSpring(t,n,e.length);E(e,r),w[e.id]=r}function d(e){var n=w[e.id];if(n){var r=t.getNode(e.fromId),i=t.getNode(e.toId);r&&p(r.id),i&&p(i.id),delete w[e.id],x.removeSpring(n)}}function f(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var i=e.links[r],o=i.fromId!==e.id?b[i.fromId]:b[i.toId];o&&o.pos&&t.push(o)}return t}function p(e){var t=b[e];t.mass=y(e)}function g(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}function v(e){var t=b[e];return t||(l(e),t=b[e]),t}function y(e){return 1+t.getLinks(e).length/3}if(!t)throw new Error("Graph structure cannot be undefined");var m=e("ngraph.physics.simulator"),x=m(n),b="function"==typeof Object.create?Object.create(null):{},w={},E=x.settings.springTransform||i;u(),a();var _={step:function(){return x.step()},getNodePosition:function(e){return v(e).pos},setNodePosition:function(e){var t=v(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=w[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return x.getBBox()},pinNode:function(e,t){var n=v(e.id);n.isPinned=!!t},isNodePinned:function(e){return v(e.id).isPinned},dispose:function(){t.off("changed",s)},getBody:o,getSpring:r,simulator:x};return _}function i(){}t.exports=r,t.exports.simulator=e("ngraph.physics.simulator")},{"ngraph.physics.simulator":9}],9:[function(e,t,n){function r(t){function n(){var e,t=d.length;if(t)for(p.insertBodies(d);t--;)e=d[t],e.isPinned||(e.force.reset(),p.updateBodyForce(e),y.update(e));for(t=f.length;t--;)v.update(f[t])}var r=e("./lib/spring"),i=e("ngraph.expose"),o=e("ngraph.merge");t=o(t,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009});var a=t.createQuadTree||e("ngraph.quadtreebh"),s=t.createBounds||e("./lib/bounds"),u=t.createDragForce||e("./lib/dragForce"),l=t.createSpringForce||e("./lib/springForce"),c=t.integrator||e("./lib/eulerIntegrator"),h=t.createBody||e("./lib/createBody"),d=[],f=[],p=a(t),g=s(d,t),v=l(t),y=u(t),m={bodies:d,springs:f,settings:t,step:function(){n();var e=c(d,t.timeStep);return g.update(),e<t.stableThreshold},addBody:function(e){if(!e)throw new Error("Body is required");return d.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=h(e);return d.push(t),t},removeBody:function(e){if(e){var t=d.indexOf(e);if(!(t<0))return d.splice(t,1),0===d.length&&g.reset(),!0}},addSpring:function(e,t,n,i,o){if(!e||!t)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var a=new r(e,t,n,o>=0?o:-1,i);return f.push(a),a},removeSpring:function(e){if(e){var t=f.indexOf(e);return t>-1?(f.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return g.getBestNewPosition(e)},getBBox:function(){return g.box},gravity:function(e){return void 0!==e?(t.gravity=e,p.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,p.options({theta:e}),this):t.theta}};return i(t,m),m}t.exports=r},{"./lib/bounds":10,"./lib/createBody":11,"./lib/dragForce":12,"./lib/eulerIntegrator":13,"./lib/spring":14,"./lib/springForce":15,"ngraph.expose":7,"ngraph.merge":24,"ngraph.quadtreebh":26}],10:[function(e,t,n){t.exports=function(t,n){function r(){var e=t.length;if(0!==e){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE;e--;){var s=t[e];s.isPinned?(s.pos.x=s.prevPos.x,s.pos.y=s.prevPos.y):(s.prevPos.x=s.pos.x,s.prevPos.y=s.pos.y),s.pos.x<n&&(n=s.pos.x),s.pos.x>i&&(i=s.pos.x),s.pos.y<r&&(r=s.pos.y),s.pos.y>a&&(a=s.pos.y)}o.x1=n,o.x2=i,o.y1=r,o.y2=a}}var i=e("ngraph.random").random(42),o={x1:0,y1:0,x2:0,y2:0};return{box:o,update:r,reset:function(){o.x1=o.y1=0,o.x2=o.y2=0},getBestNewPosition:function(e){var t=o,r=0,a=0;if(e.length){for(var s=0;s<e.length;++s)r+=e[s].pos.x,a+=e[s].pos.y;r/=e.length,a/=e.length}else r=(t.x1+t.x2)/2,a=(t.y1+t.y2)/2;var u=n.springLength;return{x:r+i.next(u)-u/2,y:a+i.next(u)-u/2}}}}},{"ngraph.random":34}],11:[function(e,t,n){var r=e("ngraph.physics.primitives");t.exports=function(e){return new r.Body(e)}},{"ngraph.physics.primitives":25}],12:[function(e,t,n){t.exports=function(t){var n=e("ngraph.merge"),r=e("ngraph.expose");t=n(t,{dragCoeff:.02});var i={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y}};return r(t,i,["dragCoeff"]),i}},{"ngraph.expose":7,"ngraph.merge":24}],13:[function(e,t,n){function r(e,t){var n,r=0,i=0,o=0,a=0,s=e.length;for(n=0;n<s;++n){var u=e[n],l=t/u.mass;u.velocity.x+=l*u.force.x,u.velocity.y+=l*u.force.y;var c=u.velocity.x,h=u.velocity.y,d=Math.sqrt(c*c+h*h);d>1&&(u.velocity.x=c/d,u.velocity.y=h/d),r=t*u.velocity.x,o=t*u.velocity.y,u.pos.x+=r,u.pos.y+=o,i+=Math.abs(r),a+=Math.abs(o)}return(i*i+a*a)/e.length}t.exports=r},{}],14:[function(e,t,n){function r(e,t,n,r,i){this.from=e,this.to=t,this.length=n,this.coeff=r,this.weight="number"==typeof i?i:1}t.exports=r},{}],15:[function(e,t,n){t.exports=function(t){var n=e("ngraph.merge"),r=e("ngraph.random").random(42),i=e("ngraph.expose");t=n(t,{springCoeff:2e-4,springLength:80});var o={update:function(e){var n=e.from,i=e.to,o=e.length<0?t.springLength:e.length,a=i.pos.x-n.pos.x,s=i.pos.y-n.pos.y,u=Math.sqrt(a*a+s*s);0===u&&(a=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,u=Math.sqrt(a*a+s*s));var l=u-o,c=(!e.coeff||e.coeff<0?t.springCoeff:e.coeff)*l/u*e.weight;n.force.x+=c*a,n.force.y+=c*s,i.force.x-=c*a,i.force.y-=c*s}};return i(t,o,["springCoeff","springLength"]),o}},{"ngraph.expose":7,"ngraph.merge":24,"ngraph.random":34}],16:[function(e,t,n){function r(t,n){var i=e("ngraph.merge");return n=i(n,{createQuadTree:e("ngraph.quadtreebh3d"),createBounds:e("./lib/bounds"),createDragForce:e("./lib/dragForce"),createSpringForce:e("./lib/springForce"),integrator:e("./lib/eulerIntegrator"),createBody:e("./lib/createBody")}),r.get2dLayout(t,n)}t.exports=r,r.get2dLayout=e("ngraph.forcelayout")},{"./lib/bounds":17,"./lib/createBody":18,"./lib/dragForce":19,"./lib/eulerIntegrator":20,"./lib/springForce":21,"ngraph.forcelayout":8,"ngraph.merge":24,"ngraph.quadtreebh3d":30}],17:[function(e,t,n){t.exports=function(t,n){function r(){var e=t.length;if(0!==e){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MAX_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,u=Number.MIN_VALUE;e--;){var l=t[e];l.isPinned?(l.pos.x=l.prevPos.x,l.pos.y=l.prevPos.y,l.pos.z=l.prevPos.z):(l.prevPos.x=l.pos.x,l.prevPos.y=l.pos.y,l.prevPos.z=l.pos.z),l.pos.x<n&&(n=l.pos.x),l.pos.x>a&&(a=l.pos.x),l.pos.y<r&&(r=l.pos.y),l.pos.y>s&&(s=l.pos.y),l.pos.z<i&&(i=l.pos.z),l.pos.z>u&&(u=l.pos.z)}o.x1=n,o.x2=a,o.y1=r,o.y2=s,o.z1=i,o.z2=u}}var i=e("ngraph.random").random(42),o={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:o,update:r,reset:function(){o.x1=o.y1=0,o.x2=o.y2=0,o.z1=o.z2=0},getBestNewPosition:function(e){var t=o,r=0,a=0,s=0;if(e.length){for(var u=0;u<e.length;++u)r+=e[u].pos.x,a+=e[u].pos.y,s+=e[u].pos.z;r/=e.length,a/=e.length,s/=e.length}else r=(t.x1+t.x2)/2,a=(t.y1+t.y2)/2,s=(t.z1+t.z2)/2;var l=n.springLength;return{x:r+i.next(l)-l/2,y:a+i.next(l)-l/2,z:s+i.next(l)-l/2}}}}},{"ngraph.random":34}],18:[function(e,t,n){var r=e("ngraph.physics.primitives");t.exports=function(e){return new r.Body3d(e)}},{"ngraph.physics.primitives":25}],19:[function(e,t,n){t.exports=function(t){var n=e("ngraph.merge"),r=e("ngraph.expose");t=n(t,{dragCoeff:.02});var i={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y,e.force.z-=t.dragCoeff*e.velocity.z}};return r(t,i,["dragCoeff"]),i}},{"ngraph.expose":7,"ngraph.merge":24}],20:[function(e,t,n){function r(e,t){var n,r=0,i=0,o=0,a=0,s=0,u=0,l=e.length;for(n=0;n<l;++n){var c=e[n],h=t/c.mass;c.velocity.x+=h*c.force.x,c.velocity.y+=h*c.force.y,c.velocity.z+=h*c.force.z;var d=c.velocity.x,f=c.velocity.y,p=c.velocity.z,g=Math.sqrt(d*d+f*f+p*p);g>1&&(c.velocity.x=d/g,c.velocity.y=f/g,c.velocity.z=p/g),r=t*c.velocity.x,o=t*c.velocity.y,s=t*c.velocity.z,c.pos.x+=r,c.pos.y+=o,c.pos.z+=s,i+=Math.abs(r),a+=Math.abs(o),u+=Math.abs(s)}return(i*i+a*a+u*u)/e.length}t.exports=r},{}],21:[function(e,t,n){t.exports=function(t){var n=e("ngraph.merge"),r=e("ngraph.random").random(42),i=e("ngraph.expose");t=n(t,{springCoeff:2e-4,springLength:80});var o={update:function(e){var n=e.from,i=e.to,o=e.length<0?t.springLength:e.length,a=i.pos.x-n.pos.x,s=i.pos.y-n.pos.y,u=i.pos.z-n.pos.z,l=Math.sqrt(a*a+s*s+u*u);0===l&&(a=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,u=(r.nextDouble()-.5)/50,l=Math.sqrt(a*a+s*s+u*u));var c=l-o,h=(!e.coeff||e.coeff<0?t.springCoeff:e.coeff)*c/l*e.weight;n.force.x+=h*a,n.force.y+=h*s,n.force.z+=h*u,i.force.x-=h*a,i.force.y-=h*s,i.force.z-=h*u}};return i(t,o,["springCoeff","springLength"]),o}},{"ngraph.expose":7,"ngraph.merge":24,"ngraph.random":34}],22:[function(e,t,n){function r(e,t,n){var r;t=t||i,n=n||i,r="string"==typeof e?JSON.parse(e):e;var a,s=o();if(void 0===r.links||void 0===r.nodes)throw new Error("Cannot load graph without links and nodes");for(a=0;a<r.nodes.length;++a){var u=t(r.nodes[a]);if(!u.hasOwnProperty("id"))throw new Error("Graph node format is invalid: Node id is missing");s.addNode(u.id,u.data)}for(a=0;a<r.links.length;++a){var l=n(r.links[a]);if(!l.hasOwnProperty("fromId")||!l.hasOwnProperty("toId"))throw new Error("Graph link format is invalid. Both fromId and toId are required");s.addLink(l.fromId,l.toId,l.data)}return s}function i(e){return e}t.exports=r;var o=e("ngraph.graph")},{"ngraph.graph":23}],23:[function(e,t,n){function r(e){function t(){function e(){return V.beginUpdate=q=N,V.endUpdate=z=k,j=n,B=r,V.on=t,t.apply(V,arguments)}var t=V.on;V.on=e}function n(e,t){F.push({
link:e,changeType:t})}function r(e,t){F.push({node:e,changeType:t})}function u(e,t){if(void 0===e)throw new Error("Invalid node identifier");q();var n=h(e);return n?B(n,"update"):(n=new o(e),M++,B(n,"add")),n.data=t,L[e]=n,z(),n}function h(e){return L[e]}function d(e){var t=h(e);if(!t)return!1;if(q(),t.links)for(;t.links.length;){var n=t.links[0];y(n)}return delete L[e],M--,B(t,"remove"),z(),!0}function f(e,t,n){q();var r=h(e)||u(e),i=h(t)||u(t),o=R(e,t,n);return A.push(o),a(r,o),e!==t&&a(i,o),j(o,"add"),z(),o}function p(e,t,n){var r=l(e,t);return new s(e,t,n,r)}function g(e,t,n){var r=l(e,t),i=I.hasOwnProperty(r);if(i||m(e,t)){i||(I[r]=0);var o="@"+ ++I[r];r=l(e+o,t+o)}return new s(e,t,n,r)}function v(e){var t=h(e);return t?t.links:null}function y(e){if(!e)return!1;var t=i(e,A);if(t<0)return!1;q(),A.splice(t,1);var n=h(e.fromId),r=h(e.toId);return n&&(t=i(e,n.links),t>=0&&n.links.splice(t,1)),r&&(t=i(e,r.links),t>=0&&r.links.splice(t,1)),j(e,"remove"),z(),!0}function m(e,t){var n,r=h(e);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var i=r.links[n];if(i.fromId===e&&i.toId===t)return i}return null}function x(){q(),O(function(e){d(e.id)}),z()}function b(e){var t,n;if("function"==typeof e)for(t=0,n=A.length;t<n;++t)e(A[t])}function w(e,t,n){var r=h(e);if(r&&r.links&&"function"==typeof t)return n?_(r.links,e,t):E(r.links,e,t)}function E(e,t,n){for(var r,i=0;i<e.length;++i){var o=e[i],a=o.fromId===t?o.toId:o.fromId;if(r=n(L[a],o))return!0}}function _(e,t,n){for(var r,i=0;i<e.length;++i){var o=e[i];if(o.fromId===t&&(r=n(L[o.toId],o)))return!0}}function T(){}function N(){P+=1}function k(){P-=1,0===P&&F.length>0&&(V.fire("changed",F),F.length=0)}function D(){return Object.keys?C:S}function C(e){if("function"==typeof e)for(var t=Object.keys(L),n=0;n<t.length;++n)if(e(L[t[n]]))return!0}function S(e){if("function"==typeof e){var t;for(t in L)if(e(L[t]))return!0}}e=e||{},void 0===e.uniqueLinkId&&(e.uniqueLinkId=!0);var L="function"==typeof Object.create?Object.create(null):{},A=[],I={},M=0,P=0,O=D(),R=e.uniqueLinkId?g:p,F=[],j=T,B=T,q=T,z=T,V={addNode:u,addLink:f,removeLink:y,removeNode:d,getNode:h,getNodesCount:function(){return M},getLinksCount:function(){return A.length},getLinks:v,forEachNode:O,forEachLinkedNode:w,forEachLink:b,beginUpdate:q,endUpdate:z,clear:x,hasLink:m,getLink:m};return c(V),t(),V}function i(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var n,r=t.length;for(n=0;n<r;n+=1)if(t[n]===e)return n;return-1}function o(e){this.id=e,this.links=null,this.data=null}function a(e,t){e.links?e.links.push(t):e.links=[t]}function s(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function u(e){var t,n,r,i=0;if(0==e.length)return i;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i|=0;return i}function l(e,t){return u(e.toString()+" "+t.toString())}t.exports=r;var c=e("ngraph.events")},{"ngraph.events":6}],24:[function(e,t,n){function r(e,t){var n;if(e||(e={}),t)for(n in t)if(t.hasOwnProperty(n)){var i=e.hasOwnProperty(n),o=typeof t[n],a=!i||typeof e[n]!==o;a?e[n]=t[n]:"object"===o&&(e[n]=r(e[n],t[n]))}return e}t.exports=r},{}],25:[function(e,t,n){function r(e,t){this.pos=new i(e,t),this.prevPos=new i(e,t),this.force=new i,this.velocity=new i,this.mass=1}function i(e,t){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0)}function o(e,t,n){this.pos=new a(e,t,n),this.prevPos=new a(e,t,n),this.force=new a,this.velocity=new a,this.mass=1}function a(e,t,n){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0,this.z="number"==typeof e.z?e.z:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof n?n:0)}t.exports={Body:r,Vector2d:i,Body3d:o,Vector3d:a},r.prototype.setPosition=function(e,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t},i.prototype.reset=function(){this.x=this.y=0},o.prototype.setPosition=function(e,t,n){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t,this.prevPos.z=this.pos.z=n},a.prototype.reset=function(){this.x=this.y=this.z=0}},{}],26:[function(e,t,n){function r(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function i(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t&&(e.quad3=n)}t.exports=function(t){t=t||{},t.gravity="number"==typeof t.gravity?t.gravity:-1,t.theta="number"==typeof t.theta?t.theta:.8;var n=e("ngraph.random").random(1984),o=e("./node"),a=e("./insertStack"),s=e("./isSamePosition"),u=t.gravity,l=[],c=new a,h=t.theta,d=[],f=0,p=function(){var e=d[f];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new o,d[f]=e),++f,e},g=p(),v=function(e){for(c.reset(),c.push(g,e);!c.isEmpty();){var t=c.pop(),o=t.node,a=t.body;if(o.body){var u=o.body;if(o.body=null,s(u.pos,a.pos)){var l=3;do{var h=n.nextDouble(),d=(o.right-o.left)*h,f=(o.bottom-o.top)*h;u.pos.x=o.left+d,u.pos.y=o.top+f,l-=1}while(l>0&&s(u.pos,a.pos));if(0===l&&s(u.pos,a.pos))return}c.push(o,u),c.push(o,a)}else{var v=a.pos.x,y=a.pos.y;o.mass=o.mass+a.mass,o.massX=o.massX+a.mass*v,o.massY=o.massY+a.mass*y;var m=0,x=o.left,b=(o.right+x)/2,w=o.top,E=(o.bottom+w)/2;if(v>b){m+=1;var _=x;x=b,b+=b-_}if(y>E){m+=2;var T=w;w=E,E+=E-T}var N=r(o,m);N?c.push(N,a):(N=p(),N.left=x,N.top=w,N.right=b,N.bottom=E,N.body=a,i(o,m,N))}}},y=function(e){var t,r,i,o,a=l,s=0,c=0,d=1,f=0,p=1;for(a[0]=g;d;){var v=a[f],y=v.body;d-=1,f+=1;var m=y!==e;y&&m?(r=y.pos.x-e.pos.x,i=y.pos.y-e.pos.y,o=Math.sqrt(r*r+i*i),0===o&&(r=(n.nextDouble()-.5)/50,i=(n.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i)),t=u*y.mass*e.mass/(o*o*o),s+=t*r,c+=t*i):m&&(r=v.massX/v.mass-e.pos.x,i=v.massY/v.mass-e.pos.y,o=Math.sqrt(r*r+i*i),0===o&&(r=(n.nextDouble()-.5)/50,i=(n.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i)),(v.right-v.left)/o<h?(t=u*v.mass*e.mass/(o*o*o),s+=t*r,c+=t*i):(v.quad0&&(a[p]=v.quad0,d+=1,p+=1),v.quad1&&(a[p]=v.quad1,d+=1,p+=1),v.quad2&&(a[p]=v.quad2,d+=1,p+=1),v.quad3&&(a[p]=v.quad3,d+=1,p+=1)))}e.force.x+=s,e.force.y+=c},m=function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,a=e.length;for(t=a;t--;){var s=e[t].pos.x,u=e[t].pos.y;s<n&&(n=s),s>i&&(i=s),u<r&&(r=u),u>o&&(o=u)}var l=i-n,c=o-r;for(l>c?o=r+l:i=n+c,f=0,g=p(),g.left=n,g.right=i,g.top=r,g.bottom=o,t=a-1,t>0&&(g.body=e[t]);t--;)v(e[t],g)};return{insertBodies:m,updateBodyForce:y,options:function(e){return e?("number"==typeof e.gravity&&(u=e.gravity),"number"==typeof e.theta&&(h=e.theta),this):{gravity:u,theta:h}}}}},{"./insertStack":27,"./isSamePosition":28,"./node":29,"ngraph.random":34}],27:[function(e,t,n){function r(){this.stack=[],this.popIdx=0}function i(e,t){this.node=e,this.body=t}t.exports=r,r.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new i(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},{}],28:[function(e,t,n){t.exports=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return n<1e-8&&r<1e-8}},{}],29:[function(e,t,n){t.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},{}],30:[function(e,t,n){function r(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:4===t?e.quad4:5===t?e.quad5:6===t?e.quad6:7===t?e.quad7:null}function i(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t?e.quad3=n:4===t?e.quad4=n:5===t?e.quad5=n:6===t?e.quad6=n:7===t&&(e.quad7=n)}t.exports=function(t){t=t||{},t.gravity="number"==typeof t.gravity?t.gravity:-1,t.theta="number"==typeof t.theta?t.theta:.8;var n=e("ngraph.random").random(1984),o=e("./node"),a=e("./insertStack"),s=e("./isSamePosition"),u=t.gravity,l=[],c=new a,h=t.theta,d=[],f=0,p=function(){var e=d[f];return e?(e.quad0=null,e.quad4=null,e.quad1=null,e.quad5=null,e.quad2=null,e.quad6=null,e.quad3=null,e.quad7=null,e.body=null,e.mass=e.massX=e.massY=e.massZ=0,e.left=e.right=e.top=e.bottom=e.front=e.back=0):(e=new o,d[f]=e),++f,e},g=p(),v=function(e){for(c.reset(),c.push(g,e);!c.isEmpty();){var t=c.pop(),o=t.node,a=t.body;if(o.body){var u=o.body;if(o.body=null,s(u.pos,a.pos)){var l=3;do{var h=n.nextDouble(),d=(o.right-o.left)*h,f=(o.bottom-o.top)*h,v=(o.front-o.back)*h;u.pos.x=o.left+d,u.pos.y=o.top+f,u.pos.z=o.back+v,l-=1}while(l>0&&s(u.pos,a.pos));if(0===l&&s(u.pos,a.pos))return}c.push(o,u),c.push(o,a)}else{var y=a.pos.x,m=a.pos.y,x=a.pos.z;o.mass+=a.mass,o.massX+=a.mass*y,o.massY+=a.mass*m,o.massZ+=a.mass*x;var b=0,w=o.left,E=(o.right+w)/2,_=o.top,T=(o.bottom+_)/2,N=o.back,k=(o.front+N)/2;if(y>E){b+=1;var D=w;w=E,E+=E-D}if(m>T){b+=2;var C=_;_=T,T+=T-C}if(x>k){b+=4;var S=N;N=k,k=N+(N-S)}var L=r(o,b);L?c.push(L,a):(L=p(),L.left=w,L.top=_,L.right=E,L.bottom=T,L.back=N,L.front=k,L.body=a,i(o,b,L))}}},y=function(e){var t,r,i,o,a,s=l,c=0,d=0,f=0,p=1,v=0,y=1;for(s[0]=g;p;){var m=s[v],x=m.body;p-=1,v+=1;var b=x!==e;x&&b?(r=x.pos.x-e.pos.x,i=x.pos.y-e.pos.y,o=x.pos.z-e.pos.z,a=Math.sqrt(r*r+i*i+o*o),0===a&&(r=(n.nextDouble()-.5)/50,i=(n.nextDouble()-.5)/50,o=(n.nextDouble()-.5)/50,a=Math.sqrt(r*r+i*i+o*o)),t=u*x.mass*e.mass/(a*a*a),c+=t*r,d+=t*i,f+=t*o):b&&(r=m.massX/m.mass-e.pos.x,i=m.massY/m.mass-e.pos.y,o=m.massZ/m.mass-e.pos.z,a=Math.sqrt(r*r+i*i+o*o),0===a&&(r=(n.nextDouble()-.5)/50,i=(n.nextDouble()-.5)/50,o=(n.nextDouble()-.5)/50,a=Math.sqrt(r*r+i*i+o*o)),(m.right-m.left)/a<h?(t=u*m.mass*e.mass/(a*a*a),c+=t*r,d+=t*i,f+=t*o):(m.quad0&&(s[y]=m.quad0,p+=1,y+=1),m.quad1&&(s[y]=m.quad1,p+=1,y+=1),m.quad2&&(s[y]=m.quad2,p+=1,y+=1),m.quad3&&(s[y]=m.quad3,p+=1,y+=1),m.quad4&&(s[y]=m.quad4,p+=1,y+=1),m.quad5&&(s[y]=m.quad5,p+=1,y+=1),m.quad6&&(s[y]=m.quad6,p+=1,y+=1),m.quad7&&(s[y]=m.quad7,p+=1,y+=1)))}e.force.x+=c,e.force.y+=d,e.force.z+=f},m=function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,u=e.length;for(t=u;t--;){var l=e[t].pos,c=l.x,h=l.y,d=l.z;c<n&&(n=c),c>o&&(o=c),h<r&&(r=h),h>a&&(a=h),d<i&&(i=d),d>s&&(s=d)}var y=Math.max(o-n,Math.max(a-r,s-i));for(o=n+y,a=r+y,s=i+y,f=0,g=p(),g.left=n,g.right=o,g.top=r,g.bottom=a,g.back=i,g.front=s,t=u-1,t>0&&(g.body=e[t]);t--;)v(e[t],g)};return{insertBodies:m,updateBodyForce:y,options:function(e){return e?("number"==typeof e.gravity&&(u=e.gravity),"number"==typeof e.theta&&(h=e.theta),this):{gravity:u,theta:h}}}}},{"./insertStack":31,"./isSamePosition":32,"./node":33,"ngraph.random":34}],31:[function(e,t,n){function r(){this.stack=[],this.popIdx=0}function i(e,t){this.node=e,this.body=t}t.exports=r,r.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new i(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},{}],32:[function(e,t,n){t.exports=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),i=Math.abs(e.z-t.z);return n<1e-8&&r<1e-8&&i<1e-8}},{}],33:[function(e,t,n){t.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0}},{}],34:[function(e,t,n){function r(e){var t="number"==typeof e?e:+new Date,n=function(){return t=t+2127912214+(t<<12)&4294967295,t=4294967295&(3345072700^t^t>>>19),t=t+374761393+(t<<5)&4294967295,t=4294967295&(t+3550635116^t<<9),t=t+4251993797+(t<<3)&4294967295,t=4294967295&(3042594569^t^t>>>16),(268435455&t)/268435456};return{next:function(e){return Math.floor(n()*e)},nextDouble:function(){return n()}}}function i(e,t){var n=t||r();if("function"!=typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var r,i,o;for(r=e.length-1;r>0;--r)i=n.next(r+1),o=e[i],e[i]=e[r],e[r]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,r,i;for(t=e.length-1;t>0;--t)r=n.next(t+1),i=e[r],e[r]=e[t],e[t]=i;return e}}}t.exports={random:r,randomIterator:i}},{}],35:[function(e,t,n){function r(e,t,n){function r(e){s.nodes.push(u(e))}function i(e){s.links.push(l(e))}function o(e){var t={id:e.id};return void 0!==e.data&&(t.data=e.data),t}function a(e){var t={fromId:e.fromId,toId:e.toId};return void 0!==e.data&&(t.data=e.data),t}var s={nodes:[],links:[]},u=t||o,l=n||a;return e.forEachNode(r),e.forEachLink(i),JSON.stringify(s)}t.exports=r},{}],36:[function(e,t,n){function r(){d&&c&&(d=!1,c.length?h=c.concat(h):f=-1,h.length&&i())}function i(){if(!d){var e=s(r);d=!0;for(var t=h.length;t;){for(c=h,h=[];++f<t;)c&&c[f].run();f=-1,t=h.length}c=null,d=!1,u(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u,l=t.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var c,h=[],d=!1,f=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new o(e,t)),1!==h.length||d||s(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],37:[function(e,n,r){(function(e){!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof r&&"object"==typeof n)n.exports=e();else if("function"==typeof t&&t.amd)t(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var i="undefined"!=typeof window?window:self,o=i.Q;i.Q=e(),i.Q.noConflict=function(){return i.Q=o,this}}}(function(){"use strict";function t(e){return function(){return $.apply(e,arguments)}}function n(e){return e===Object(e)}function r(e){return"[object StopIteration]"===re(e)||e instanceof U}function i(e,t){if(V&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&e.stack.indexOf(ie)===-1){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+ie+"\n");e.stack=o(i)}}function o(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];u(i)||a(i)||!i||n.push(i)}return n.join("\n")}function a(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function s(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function u(e){var t=s(e);if(!t)return!1;var n=t[0],r=t[1];return n===X&&r>=G&&r<=le}function l(){if(V)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=s(n);if(!r)return;return X=r[0],r[1]}}function c(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function h(e){return e instanceof g?e:x(e)?C(e):D(e)}function d(){function e(e){t=e,o.source=e,Q(n,function(t,n){h.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=ee(d.prototype),o=ee(g.prototype);if(o.promiseDispatch=function(e,i,o){var a=Z(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):h.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=y(t);return m(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},h.longStackSupport&&V)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){t||e(h(n))},i.fulfill=function(n){t||e(D(n))},i.reject=function(n){t||e(k(n))},i.notify=function(e){t||Q(r,function(t,n){h.nextTick(function(){n(e)})},void 0)},i}function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function p(e){return f(function(t,n){for(var r=0,i=e.length;r<i;r++)h(e[r]).then(t,n)})}function g(e,t,n){void 0===t&&(t=function(e){return k(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=ee(g.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(s){a=k(s)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function v(e,t,n,r){return h(e).then(t,n,r)}function y(e){if(m(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function m(e){return e instanceof g}function x(e){return n(e)&&"function"==typeof e.then}function b(e){return m(e)&&"pending"===e.inspect().state}function w(e){return!m(e)||"fulfilled"===e.inspect().state}function E(e){return m(e)&&"rejected"===e.inspect().state}function _(){oe.length=0,ae.length=0,ue||(ue=!0)}function T(t,n){ue&&("object"==typeof e&&"function"==typeof e.emit&&h.nextTick.runAfter(function(){K(ae,t)!==-1&&(e.emit("unhandledRejection",n,t),se.push(t))}),ae.push(t),n&&"undefined"!=typeof n.stack?oe.push(n.stack):oe.push("(no stack) "+n))}function N(t){if(ue){var n=K(ae,t);n!==-1&&("object"==typeof e&&"function"==typeof e.emit&&h.nextTick.runAfter(function(){var r=K(se,t);r!==-1&&(e.emit("rejectionHandled",oe[n],t),se.splice(r,1))}),ae.splice(n,1),oe.splice(n,1))}}function k(e){var t=g({when:function(t){return t&&N(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return T(t,e),t}function D(e){return g({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ne(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function C(e){var t=d();return h.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function S(e){return g({isDef:function(){}},function(t,n){return O(e,t,n)},function(){return h(e).inspect()})}function L(e,t,n){return h(e).spread(t,n)}function A(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=n[e](t)}catch(s){return k(s)}return a.done?h(a.value):v(a.value,i,o)}try{a=n[e](t)}catch(s){return r(s)?h(s.value):k(s)}return v(a,i,o)}var n=e.apply(this,arguments),i=t.bind(t,"next"),o=t.bind(t,"throw");return i()}}function I(e){h.done(h.async(e)())}function M(e){throw new U(e)}function P(e){return function(){return L([this,R(arguments)],function(t,n){return e.apply(t,n)})}}function O(e,t,n){return h(e).dispatch(t,n)}function R(e){return v(e,function(e){var t=0,n=d();return Q(e,function(r,i,o){var a;m(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,v(i,function(r){e[o]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function F(e){if(0===e.length)return h.resolve();var t=h.defer(),n=0;return Q(e,function(r,i,o){function a(e){t.resolve(e)}function s(){n--,0===n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function u(e){t.notify({index:o,value:e})}var l=e[o];n++,v(l,a,s,u)},void 0),t.promise}function j(e){return v(e,function(e){return e=J(e,h),v(R(J(e,function(e){return v(e,H,H)})),function(){return e})})}function B(e){return h(e).allSettled()}function q(e,t){return h(e).then(void 0,void 0,t)}function z(e,t){return h(e).nodeify(t)}var V=!1;try{throw new Error}catch(Y){V=!!Y.stack}var X,U,G=l(),H=function(){},W=function(){function t(){for(var e,t;r.next;)r=r.next,e=r.task,r.task=void 0,t=r.domain,t&&(r.domain=void 0,t.enter()),n(e,t);for(;u.length;)e=u.pop(),n(e);o=!1}function n(e,n){try{e()}catch(r){if(s)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}var r={task:void 0,next:null},i=r,o=!1,a=void 0,s=!1,u=[];if(W=function(t){i=i.next={task:t,domain:s&&e.domain,next:null},o||(o=!0,a())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)s=!0,a=function(){e.nextTick(t)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){a=c,l.port1.onmessage=t,t()};var c=function(){l.port2.postMessage(0)};a=function(){setTimeout(t,0),c()}}else a=function(){setTimeout(t,0)};return W.runAfter=function(e){u.push(e),o||(o=!0,a())},W}(),$=Function.call,Z=t(Array.prototype.slice),Q=t(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),K=t(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),J=t(Array.prototype.map||function(e,t){var n=this,r=[];return Q(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),ee=Object.create||function(e){function t(){}return t.prototype=e,new t},te=t(Object.prototype.hasOwnProperty),ne=Object.keys||function(e){var t=[];for(var n in e)te(e,n)&&t.push(n);return t},re=t(Object.prototype.toString);U="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var ie="From previous event:";h.resolve=h,h.nextTick=W,h.longStackSupport=!1,"object"==typeof e&&e&&e.env&&e.env.Q_DEBUG&&(h.longStackSupport=!0),h.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(Z(arguments,1)):e.resolve(n)}},h.Promise=f,h.promise=f,f.race=p,f.all=R,f.reject=k,f.resolve=h,h.passByCopy=function(e){return e},g.prototype.passByCopy=function(){return this},h.join=function(e,t){return h(e).join(t)},g.prototype.join=function(e){return h([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},h.race=p,g.prototype.race=function(){return this.then(h.race)},h.makePromise=g,g.prototype.toString=function(){return"[object Promise]"},g.prototype.then=function(e,t,n){function r(t){try{return"function"==typeof e?e(t):t}catch(n){return k(n)}}function o(e){if("function"==typeof t){i(e,s);try{return t(e)}catch(n){return k(n)}}return k(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,u=d(),l=!1;return h.nextTick(function(){s.promiseDispatch(function(e){l||(l=!0,u.resolve(r(e)))},"when",[function(e){l||(l=!0,u.resolve(o(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(r){if(n=!0,!h.onerror)throw r;h.onerror(r)}n||u.notify(t)}]),u.promise},h.tap=function(e,t){return h(e).tap(t)},g.prototype.tap=function(e){return e=h(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},h.when=v,g.prototype.thenResolve=function(e){return this.then(function(){return e})},h.thenResolve=function(e,t){return h(e).thenResolve(t)},g.prototype.thenReject=function(e){return this.then(function(){throw e})},h.thenReject=function(e,t){return h(e).thenReject(t)},h.nearer=y,h.isPromise=m,h.isPromiseAlike=x,h.isPending=b,g.prototype.isPending=function(){return"pending"===this.inspect().state},h.isFulfilled=w,g.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},h.isRejected=E,g.prototype.isRejected=function(){return"rejected"===this.inspect().state};var oe=[],ae=[],se=[],ue=!0;h.resetUnhandledRejections=_,h.getUnhandledReasons=function(){return oe.slice()},h.stopUnhandledRejectionTracking=function(){_(),ue=!1},_(),h.reject=k,h.fulfill=D,h.master=S,h.spread=L,g.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},h.async=A,h.spawn=I,h["return"]=M,h.promised=P,h.dispatch=O,g.prototype.dispatch=function(e,t){var n=this,r=d();return h.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},h.get=function(e,t){return h(e).dispatch("get",[t])},g.prototype.get=function(e){return this.dispatch("get",[e])},h.set=function(e,t,n){return h(e).dispatch("set",[t,n])},g.prototype.set=function(e,t){return this.dispatch("set",[e,t])},h.del=h["delete"]=function(e,t){return h(e).dispatch("delete",[t])},g.prototype.del=g.prototype["delete"]=function(e){return this.dispatch("delete",[e])},h.mapply=h.post=function(e,t,n){return h(e).dispatch("post",[t,n])},g.prototype.mapply=g.prototype.post=function(e,t){return this.dispatch("post",[e,t])},h.send=h.mcall=h.invoke=function(e,t){return h(e).dispatch("post",[t,Z(arguments,2)])},g.prototype.send=g.prototype.mcall=g.prototype.invoke=function(e){return this.dispatch("post",[e,Z(arguments,1)])},h.fapply=function(e,t){return h(e).dispatch("apply",[void 0,t])},g.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},h["try"]=h.fcall=function(e){return h(e).dispatch("apply",[void 0,Z(arguments,1)])},g.prototype.fcall=function(){return this.dispatch("apply",[void 0,Z(arguments)])},h.fbind=function(e){var t=h(e),n=Z(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(Z(arguments))])}},g.prototype.fbind=function(){var e=this,t=Z(arguments);return function(){return e.dispatch("apply",[this,t.concat(Z(arguments))])}},h.keys=function(e){return h(e).dispatch("keys",[])},g.prototype.keys=function(){return this.dispatch("keys",[])},h.all=R,g.prototype.all=function(){return R(this)},h.any=F,g.prototype.any=function(){return F(this)},h.allResolved=c(j,"allResolved","allSettled"),g.prototype.allResolved=function(){return j(this)},h.allSettled=B,g.prototype.allSettled=function(){return this.then(function(e){return R(J(e,function(e){function t(){return e.inspect()}return e=h(e),e.then(t,t)}))})},h.fail=h["catch"]=function(e,t){return h(e).then(void 0,t)},g.prototype.fail=g.prototype["catch"]=function(e){return this.then(void 0,e)},h.progress=q,g.prototype.progress=function(e){return this.then(void 0,void 0,e)},h.fin=h["finally"]=function(e,t){return h(e)["finally"](t)},g.prototype.fin=g.prototype["finally"]=function(e){return e=h(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},h.done=function(e,t,n,r){return h(e).done(t,n,r)},g.prototype.done=function(t,n,r){var o=function(e){h.nextTick(function(){if(i(e,a),!h.onerror)throw e;h.onerror(e)})},a=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(o=e.domain.bind(o)),a.then(void 0,o)},h.timeout=function(e,t,n){return h(e).timeout(t,n)},g.prototype.timeout=function(e,t){var n=d(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},h.delay=function(e,t){return void 0===t&&(t=e,e=void 0),h(e).delay(t)},g.prototype.delay=function(e){return this.then(function(t){var n=d();return setTimeout(function(){n.resolve(t)},e),n.promise})},h.nfapply=function(e,t){return h(e).nfapply(t)},g.prototype.nfapply=function(e){var t=d(),n=Z(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},h.nfcall=function(e){var t=Z(arguments,1);return h(e).nfapply(t)},g.prototype.nfcall=function(){var e=Z(arguments),t=d();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},h.nfbind=h.denodeify=function(e){var t=Z(arguments,1);return function(){var n=t.concat(Z(arguments)),r=d();return n.push(r.makeNodeResolver()),h(e).fapply(n).fail(r.reject),r.promise}},g.prototype.nfbind=g.prototype.denodeify=function(){var e=Z(arguments);return e.unshift(this),h.denodeify.apply(void 0,e)},h.nbind=function(e,t){var n=Z(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat(Z(arguments)),o=d();return i.push(o.makeNodeResolver()),h(r).fapply(i).fail(o.reject),o.promise}},g.prototype.nbind=function(){var e=Z(arguments,0);return e.unshift(this),h.nbind.apply(void 0,e)},h.nmapply=h.npost=function(e,t,n){return h(e).npost(t,n)},g.prototype.nmapply=g.prototype.npost=function(e,t){var n=Z(t||[]),r=d();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},h.nsend=h.nmcall=h.ninvoke=function(e,t){var n=Z(arguments,2),r=d();return n.push(r.makeNodeResolver()),h(e).dispatch("post",[t,n]).fail(r.reject),r.promise},g.prototype.nsend=g.prototype.nmcall=g.prototype.ninvoke=function(e){var t=Z(arguments,1),n=d();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},h.nodeify=z,g.prototype.nodeify=function(e){return e?void this.then(function(t){h.nextTick(function(){e(null,t)})},function(t){h.nextTick(function(){e(t)})}):this},h.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var le=l();return h})}).call(this,e("_process"))},{_process:36}],38:[function(e,n,r){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=E(r,o,4);var a=!S(n)&&w.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function i(e){return function(t,n,r){n=_(n,r);for(var i=C(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function o(e,t,n){return function(r,i,o){var a=0,s=C(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(f.call(r,a,s),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}function a(e,t){var n=P.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||c,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=P[n],o in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var s=this,u=s._,l=Array.prototype,c=Object.prototype,h=Function.prototype,d=l.push,f=l.slice,p=c.toString,g=c.hasOwnProperty,v=Array.isArray,y=Object.keys,m=h.bind,x=Object.create,b=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof r?("undefined"!=typeof n&&n.exports&&(r=n.exports=w),r._=w):s._=w,w.VERSION="1.8.3";var E=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?w.identity:w.isFunction(e)?E(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return _(e,t,1/0)};var T=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},N=function(e){if(!w.isObject(e))return{};if(x)return x(e);b.prototype=e;var t=new b;return b.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},D=Math.pow(2,53)-1,C=k("length"),S=function(e){var t=C(e);return"number"==typeof t&&t>=0&&t<=D};w.each=w.forEach=function(e,t,n){t=E(t,n);var r,i;if(S(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){
t=_(t,n);for(var r=!S(e)&&w.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var r;if(r=S(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},w.filter=w.select=function(e,t,n){var r=[];return t=_(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(_(t)),n)},w.every=w.all=function(e,t,n){t=_(t,n);for(var r=!S(e)&&w.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=_(t,n);for(var r=!S(e)&&w.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return S(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=f.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=S(e)?e:w.values(e);for(var s=0,u=e.length;s<u;s++)r=e[s],r>o&&(o=r)}else t=_(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=S(e)?e:w.values(e);for(var s=0,u=e.length;s<u;s++)r=e[s],r<o&&(o=r)}else t=_(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},w.shuffle=function(e){for(var t,n=S(e)?e:w.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=w.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(S(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=_(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=_(n,r),w.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};w.groupBy=L(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=L(function(e,t,n){e[n]=t}),w.countBy=L(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?f.call(e):S(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:S(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=_(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var A=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=C(e);a<s;a++){var u=e[a];if(S(u)&&(w.isArray(u)||w.isArguments(u))){t||(u=A(u,t,n));var l=0,c=u.length;for(i.length+=c;l<c;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};w.flatten=function(e,t){return A(e,t,!1)},w.without=function(e){return w.difference(e,f.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],a=0,s=C(e);a<s;a++){var u=e[a],l=n?n(u,a,e):u;t?(a&&o===l||i.push(u),o=l):n?w.contains(o,l)||(o.push(l),i.push(u)):w.contains(i,u)||i.push(u)}return i},w.union=function(){return w.uniq(A(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=C(e);r<i;r++){var o=e[r];if(!w.contains(t,o)){for(var a=1;a<n&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=A(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,C).length||0,n=Array(t),r=0;r<t;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=C(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=i(1),w.findLastIndex=i(-1),w.sortedIndex=function(e,t,n,r){n=_(n,r,1);for(var i=n(t),o=0,a=C(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var I=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=N(e.prototype),a=e.apply(o,i);return w.isObject(a)?a:o};w.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,f.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),r=function(){return I(e,r,t,this,n.concat(f.call(arguments)))};return r},w.partial=function(e){var t=f.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===w?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return I(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:w.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=w.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},w.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var l=w.now()-a;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=w.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},w.once=w.partial(w.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return M&&a(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return M&&a(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=_(t,n);for(var r,i=w.keys(e),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=t(e[r],r,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=T(w.allKeys),w.extendOwn=w.assign=T(w.keys),w.findKey=function(e,t,n){t=_(t,n);for(var r,i=w.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;w.isFunction(t)?(i=w.allKeys(a),r=E(t,n)):(i=A(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;s<u;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(A(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=T(w.allKeys,!0),w.create=function(e,t){var n=N(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!O(e[u],t[u],n,r))return!1}else{var l,c=w.keys(e);if(u=c.length,w.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!w.has(t,l)||!O(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return O(e,t)},w.isEmpty=function(e){return null==e||(S(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=v||function(e){return"[object Array]"===p.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===p.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&g.call(e,t)},w.noConflict=function(){return s._=u,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=k,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=E(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=w.invert(R),j=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=j(R),w.unescape=j(F),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var B=0;w.uniqueId=function(e){var t=++B+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+z[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(V,Y),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,w)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},w.chain=function(e){var t=w(e);return t._chain=!0,t};var X=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),X(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],X(this,n)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return X(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof t&&t.amd&&t("underscore",[],function(){return w})}).call(this)},{}],39:[function(e,t,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;t.exports=function(e,t){for(var n,s=Object.keys(o),u=0,l=s.length;u<l;u++){var c=s[u],h=o[c].exports;if(h===e||h&&h["default"]===e){n=c;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},u=0,l=s.length;u<l;u++){var c=s[u];d[c]=c}i[n]=[Function(["require","module","exports"],"("+e+")(self)"),d]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[n]=n,i[f]=[Function(["require"],"var f = require("+a(n)+");(f.default ? f.default : f)(self);"),p];var g="("+r+")({"+Object.keys(i).map(function(e){return a(e)+":["+i[e][0]+","+a(i[e][1])+"]"}).join(",")+"},{},["+a(f)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return y;var m=v.createObjectURL(y),x=new Worker(m);return x.objectURL=m,x}},{}],40:[function(e,t,n){"use strict";var r=e("ngraph.graph"),i=e("underscore"),o=(e("Q"),e("ngraph.asyncforce")),a=function(e){function t(e){this.options=a({},n,e),this.layoutOptions=a({},n,e),delete this.layoutOptions.cy,delete this.layoutOptions.eles}if(e){var n={async:{maxIterations:1e3,stepsPerCycle:30,waitForStep:!1},physics:{springLength:100,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,iterations:1e4,fit:!0,stableThreshold:9e-6},iterations:1e4,refreshInterval:16,refreshIterations:10,stableThreshold:2,animate:!0,fit:!0},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e};return t.prototype.l=o,t.prototype.g=r,t.prototype.run=function(){var e=this;e.trigger({type:"layoutstart",layout:e});var t=this.options,n=this.layoutOptions,r=this,o=r.g(),a=t.cy,s=t.eles,u=s.nodes(),l=u.parents();u=u.difference(l),u=u.filterFn(function(e){return e.connectedEdges().length>0});var c,h=s.edges(),d={},f=!0,p=function(t){u.positions(function(e,t){if(!t.data("dragging"))return c.getNodePosition(t.id())}),n.async&&setTimeout(function(){e.trigger({type:"layoutstop",layout:e}),e.trigger({type:"layoutready",layout:e})},500),n.fit&&a.fit(n.padding),f&&(e.trigger("layoutready"),f=!1)};o.on("changed",function(e){}),i.each(u,function(e,t){e.on("tapstart",function(e){e.cyTarget.data("dragging",!0)}),e.on("tapend",function(e){e.cyTarget.removeData("dragging")}),e.on("position","node[dragging]",function(e){c.setNodePosition&&e.cyTarget.data("dragging")&&c.setNodePosition(e.cyTarget.data().id)}),o.addNode(e.data().id)}),i.each(h,function(e,t){d[e.data().source+":"+e.data().target]||d[e.data().target+":"+e.data().source]||(d[e.data().source+":"+e.data().target]=e,o.addLink(e.data().source,e.data().target))}),c=r.l(o,n),i.each(u,function(e,t){var n=e.data();n.pin?(c.pinNode(n.id,!0),e.removeData("pin"),e.data("unpin",!0)):n.unpin&&(c.pinNode(n.id,!1),e.removeData("unpin"))});var g=n.iterations;this.on("layoutstop",function(){n.iterations=0}),c.on("stable",function(){console.log("got Stable event"),g=0}),n.animate||(n.refreshInterval=0);var v;if(c.on("cycle",function(){p()}),n.async)return this;var y=function(){if(n.animate)0!=g?v&&0!=g||(v=setTimeout(function(){g--,v=null,!!c.step()&&(g=0),y()},n.refreshInterval)):(e.trigger({type:"layoutstop",layout:e}),e.trigger({type:"layoutready",layout:e}));else{for(var t=0;t<n.iterations;t++)c.step();e.trigger({type:"layoutstop",layout:e}),e.trigger({type:"layoutready",layout:e})}};return y(),this},t.prototype.stop=function(){return this.thread&&this.thread.stop(),this.trigger("layoutstop"),this},t.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},t}};t.exports=function(e){return a(e)}},{Q:37,"ngraph.asyncforce":1,"ngraph.graph":23,underscore:38}],41:[function(e,n,r){"use strict";!function(){var r=e("./impl.js"),i=function(e){var t=r(e);e("layout","cytoscape-ngraph.forcelayout",t)};"undefined"!=typeof n&&n.exports&&(n.exports=i),"undefined"!=typeof t&&t.amd&&t("cytoscape-ngraph.forcelayout",function(){return i}),"undefined"!=typeof cytoscape&&i(cytoscape)}()},{"./impl.js":40}]},{},[41])(41)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){!function(){"use strict";var e=function(e,t){e&&(t.fn.cyPanzoom=t.fn.cytoscapePanzoom=function(e){return r.apply(this,[e,t]),this},e("core","panzoom",function(e){var n=this;return r.apply(n.container(),[e,t]),this}))},n={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},r=function(e,t){var r=t.extend(!0,{},n,e),i=e,o={destroy:function(){var e=t(this),n=e.find(".cy-panzoom");n.data("winbdgs").forEach(function(e){t(window).unbind(e.evt,e.fn)}),n.data("cybdgs").forEach(function(t){e.cytoscape("get").off(t.evt,t.fn)}),n.remove()},init:function(){"ontouchstart"in window;return t(this).each(function(){function e(e){var t={x:e.originalEvent.pageX-D.offset().left-D.width()/2,y:e.originalEvent.pageY-D.offset().top-D.height()/2},n=r.panDragAreaSize,i=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.min(i/n,1);if(i<r.panInactiveArea)return{x:NaN,y:NaN};t={x:t.x/i,y:t.y/i},o=Math.max(r.panMinPercentSpeed,o);var a={x:-1*t.x*(o*r.panDistance),y:-1*t.y*(o*r.panDistance)};return a}function n(){clearInterval(R),v("mousemove",j),M.hide()}function i(e){var t=e,n=Math.sqrt(t.x*t.x+t.y*t.y),i={x:-1*t.x/n,y:-1*t.y/n},o=D.width(),a=D.height(),s=n/r.panDistance,u=Math.max(r.panIndicatorMinOpacity,s),l=255-Math.round(255*u);M.show().css({left:o/2*i.x+o/2,top:a/2*i.y+a/2,background:"rgb("+l+", "+l+", "+l+")"})}function o(){var e=d.cytoscape("get");e.pan(),e.zoom();P=d.width()/2,O=d.height()/2}function a(){F=!0,o()}function s(){F=!1}function u(e){var t=d.cytoscape("get");F||o(),t.zoom({level:e,renderedPosition:{x:P,y:O}})}function l(e,t){void 0===t&&(t=0);var n=V,i=0+n,o=T.height()-N.height()-2*n,a=e.pageY-T.offset().top-t;a<i&&(a=i),a>o&&(a=o);var s=1-(a-i)/(o-i);N.css("top",a);var l=r.minZoom,c=r.maxZoom,h=Math.log(l)/Math.log(c),d=(1-h)*s+h,f=Math.pow(c,d);f<l?f=l:f>c&&(f=c),u(f)}function c(){var e=d.cytoscape("get"),t=e.zoom(),n=r.minZoom,i=r.maxZoom,o=Math.log(n)/Math.log(i),a=Math.log(t)/Math.log(i),s=1-(a-o)/(1-o),u=V,l=T.height()-N.height()-2*V,c=s*(l-u);c<u&&(c=u),c>l&&(c=l),N.css("top",c)}function h(e,t){var n;e.bind("mousedown",function(e){if(e.preventDefault(),e.stopPropagation(),0==e.button){var i=d.cytoscape("get"),o=function(){var e=i.zoom(),n=i.zoom()*t;n<r.minZoom&&(n=r.minZoom),n>r.maxZoom&&(n=r.maxZoom),n==r.maxZoom&&e==r.maxZoom||n==r.minZoom&&e==r.minZoom||u(n)};return a(),o(),n=setInterval(o,r.zoomDelay),!1}}),g("mouseup blur",function(){clearInterval(n),s()})}var d=t(this),f=[],p=t(window),g=function(e,t){f.push({evt:e,fn:t}),p.bind(e,t)},v=function(e,t){for(var n=0;n<f.length;n++){var r=f[n];if(r.evt===e&&r.fn===t){f.splice(n,1);break}}p.unbind(e,t)},y=[],m=d.cytoscape("get"),x=function(e,t){y.push({evt:e,fn:t}),m.on(e,t)},b=t('<div class="cy-panzoom"></div>');d.prepend(b),b.css("position","absolute"),b.data("winbdgs",f),b.data("cybdgs",y),r.zoomOnly&&b.addClass("cy-panzoom-zoom-only");var w=t('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+r.zoomInIcon+'"></span></div>');b.append(w);var E=t('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+r.zoomOutIcon+'"></span></div>');b.append(E);var _=t('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+r.resetIcon+'"></span></div>');b.append(_);var T=t('<div class="cy-panzoom-slider"></div>');b.append(T),T.append('<div class="cy-panzoom-slider-background"></div>');var N=t('<div class="cy-panzoom-slider-handle"><span class="icon '+r.sliderHandleIcon+'"></span></div>');T.append(N);var k=t('<div class="cy-panzoom-no-zoom-tick"></div>');T.append(k);var D=t('<div class="cy-panzoom-panner"></div>');b.append(D);var C=t('<div class="cy-panzoom-panner-handle"></div>');D.append(C);var S=t('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),L=t('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),A=t('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),I=t('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');D.append(S).append(L).append(A).append(I);var M=t('<div class="cy-panzoom-pan-indicator"></div>');D.append(M);var P,O,R,F=!1,j=function(t){t.stopPropagation(),t.preventDefault(),clearInterval(R);var n=e(t);return isNaN(n.x)||isNaN(n.y)?void M.hide():(i(n),void(R=setInterval(function(){d.cytoscape("get").panBy(n)},r.panSpeed)))};C.bind("mousedown",function(e){j(e),g("mousemove",j)}),C.bind("mouseup",function(){n()}),g("mouseup blur",function(){n()}),T.bind("mousedown",function(){return!1});var B,q,z=!1,V=2;N.bind("mousedown",B=function(e){var t=e.target===N[0]?e.offsetY:0;z=!0,a(),N.addClass("active");var n=0;return g("mousemove",q=function(e){var r=+new Date;return r>n+10&&(n=r,l(e,t),!1)}),g("mouseup",function(){v("mousemove",q),z=!1,N.removeClass("active"),s()}),!1}),T.bind("mousedown",function(e){e.target!==N[0]&&(B(e),l(e))}),c(),x("zoom",function(){z||c()}),function(){var e=1,t=r.minZoom,n=r.maxZoom,i=Math.log(t)/Math.log(n),o=Math.log(e)/Math.log(n),a=1-(o-i)/(1-i);if(a>1||a<0)return void k.hide();var s=V,u=T.height()-N.height()-2*V,l=a*(u-s);l<s&&(l=s),l>u&&(l=u),k.css("top",l)}(),h(w,1+r.zoomFactor),h(E,1-r.zoomFactor),_.bind("mousedown",function(e){if(0==e.button){var t=d.cytoscape("get"),n=r.fitSelector?t.elements(r.fitSelector):t.elements();if(0===n.size())t.reset();else{var i="function"==typeof r.animateOnFit?r.animateOnFit.call():r.animateOnFit;i?t.animate({fit:{eles:n,padding:r.fitPadding}},{duration:r.fitAnimationDuration}):t.fit(n,r.fitPadding)}return!1}})})}};return o[i]?o[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(t.error("No such function `"+i+"` for jquery.cytoscapePanzoom"),t(this)):o.init.apply(this,arguments)};"undefined"!=typeof t&&t.exports&&(t.exports=e),"undefined"!=typeof define&&define.amd&&define("cytoscape-panzoom",function(){return e}),"undefined"!=typeof cytoscape&&"undefined"!=typeof jQuery&&e(cytoscape,jQuery)}()},{}],8:[function(t,n,r){(function(i){!function(e){if("object"==typeof r&&"undefined"!=typeof n)n.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,t.cytoscapeSpread=e()}}(function(){return function n(e,r,i){function o(s,u){if(!r[s]){if(!e[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n?n:t)},h,h.exports,n,e,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,n,r){window.foograph={insertVertex:function(e){this.vertices.push(e),this.vertexCount++},insertEdge:function(e,t,n,r,i){var o=new foograph.Edge(e,t,r,i),a=new foograph.Edge(null,t,n,null);return n.edges.push(o),r.reverseEdges.push(a),o},removeEdge:function(e,t){for(var n=e.edges.length-1;n>=0;n--)if(e.edges[n].endVertex==t){e.edges.splice(n,1);break}for(var n=t.reverseEdges.length-1;n>=0;n--)if(t.reverseEdges[n].endVertex==e){t.reverseEdges.splice(n,1);break}},removeVertex:function(e){for(var t=e.edges.length-1;t>=0;t--)this.removeEdge(e,e.edges[t].endVertex);for(var t=e.reverseEdges.length-1;t>=0;t--)this.removeEdge(e.reverseEdges[t].endVertex,e);for(var t=this.vertices.length-1;t>=0;t--)if(this.vertices[t]==e){this.vertices.splice(t,1);break}this.vertexCount--},plot:function(e){var t=0;for(t=0;t<this.vertices.length;t++){var n=this.vertices[t];if(!n.hidden)for(var r=0;r<n.edges.length;r++){var i=n.edges[r];i.hidden||i.draw(e,n)}}for(t=0;t<this.vertices.length;t++)n=this.vertices[t],n.hidden||n.draw(e)},Graph:function(e,t){this.label=e,this.vertices=new Array,this.directed=t,this.vertexCount=0,this.insertVertex=foograph.insertVertex,this.removeVertex=foograph.removeVertex,this.insertEdge=foograph.insertEdge,this.removeEdge=foograph.removeEdge,this.plot=foograph.plot},Vertex:function(e,t,n,r){this.label=e,this.edges=new Array,this.reverseEdges=new Array,this.x=t,this.y=n,this.dx=0,this.dy=0,this.level=-1,this.numberOfParents=0,this.hidden=!1,this.fixed=!1,null!=r?this.style=r:this.style=new foograph.VertexStyle("ellipse",80,40,"#ffffff","#000000",(!0))},VertexStyle:function(e,t,n,r,i,o){this.shape=e,this.width=t,this.height=n,this.fillColor=r,this.borderColor=i,this.showLabel=o},Edge:function(e,t,n,r){this.label=e,this.weight=t,this.endVertex=n,this.style=null,this.hidden=!1,this.curved=!1,this.controlX=-1,this.controlY=-1,this.original=null,null!=r?this.style=r:this.style=new foograph.EdgeStyle(2,"#000000",(!0),(!1))},EdgeStyle:function(e,t,n,r){this.width=e,this.color=t,this.showArrow=n,this.showLabel=r},RandomVertexLayout:function(e,t){this.width=e,this.height=t},ForceDirectedVertexLayout:function(e,t,n,r,i){this.width=e,this.height=t,this.iterations=n,this.randomize=r,this.eps=i,this.callback=function(){}},A:1.5,R:.5},foograph.Vertex.prototype.toString=function(){return"[v:"+this.label+"] "},foograph.Edge.prototype.toString=function(){return"[e:"+this.endVertex.label+"] "},foograph.Vertex.prototype.draw=function(e){var t=this.x,n=this.y,r=this.style.width,i=this.style.height,o=this.style.shape;e.setStroke(2),e.setColor(this.style.fillColor),"rect"==o?(e.fillRect(t,n,r,i),e.setColor(this.style.borderColor),e.drawRect(t,n,r,i)):(e.fillEllipse(t,n,r,i),e.setColor(this.style.borderColor),e.drawEllipse(t,n,r,i)),this.style.showLabel&&e.drawStringRect(this.label,t,n+i/2-7,r,"center")},foograph.Graph.prototype.normalize=function(e,t,n){for(var r in this.vertices){var i=this.vertices[r];i.oldX=i.x,i.oldY=i.y}var o=.1*e,a=.9*e,s=.1*t,u=.9*t;null==n&&(n=!0);var l=Number.MAX_VALUE,c=Number.MAX_VALUE,h=Number.MIN_VALUE,d=Number.MIN_VALUE;for(var f in this.vertices){var i=this.vertices[f];i.x<l&&(l=i.x),i.y<c&&(c=i.y),i.x>h&&(h=i.x),i.y>d&&(d=i.y)}var p=(a-o)/(h-l),g=(u-s)/(d-c);n&&(p=Math.min(p,g),g=Math.min(p,g));var v=Number.MIN_VALUE,y=Number.MIN_VALUE;for(var r in this.vertices){var i=this.vertices[r];i.x=(i.x-l)*p,i.y=(i.y-c)*g,i.x>v&&(v=i.x),i.y>y&&(y=i.y)}var m=(e-v)/2,x=(t-y)/2;for(var r in this.vertices){var i=this.vertices[r];i.x+=m,i.y+=x}},foograph.Edge.prototype.draw=function(e,t){function n(e){return(1-e)*(1-e)*c+2*(1-e)*e*p+e*e*d}function r(e){return(1-e)*(1-e)*h+2*(1-e)*e*g+e*e*f}function i(t,n,r){var i=50,s=10,u=0,l=0,c=i,h=s/2,d=i,f=-s/2,p=a(c,h),g=a(d,f),v=o(c,h),y=o(d,f);v+=t,y+=t,c=p*Math.cos(v),h=p*Math.sin(v),d=g*Math.cos(y),f=g*Math.sin(y),u+=n,l+=r,c+=n,h+=r,d+=n,f+=r,e.fillPolygon(new Array(u,c,d),new Array(l,h,f))}function o(e,t){var n=0;return e>0&&t>=0&&(n=Math.atan(t/e)),e>0&&t<0&&(n=Math.atan(t/e)+2*Math.PI),e<0&&(n=Math.atan(t/e)+Math.PI),(e=0)&&(n=Math.PI/2),(e=0)&&(n=3*Math.PI/2),n}function a(e,t){return Math.sqrt(e*e+t*t)}var s,u,l,c=Math.round(t.x+t.style.width/2),h=Math.round(t.y+t.style.height/2),d=Math.round(this.endVertex.x+this.endVertex.style.width/2),f=Math.round(this.endVertex.y+this.endVertex.style.height/2),p=this.controlX,g=this.controlY;if(e.setStroke(this.style.width),e.setColor(this.style.color),this.curved){this.curved=!1;for(var v,y,m=0,x=.1,b=c,w=h;m<1-x;)m+=x,v=n(m),y=r(m),e.drawLine(b,w,v,y),b=v,w=y;s=b,u=w,l=o(n(1-2*x)-s,r(1-2*x)-u)}else e.drawLine(c,h,d,f),s=d,u=f,l=o(c-s,h-u);this.style.showArrow&&i(l,s,u),this.style.showLabel},foograph.RandomVertexLayout.prototype.layout=function(e){for(var t=0;t<e.vertices.length;t++){var n=e.vertices[t];n.x=Math.round(Math.random()*this.width),n.y=Math.round(Math.random()*this.height)}},foograph.ForceDirectedVertexLayout.prototype.__identifyComponents=function(t){function n(e){function t(e){o.push(e),e.__dfsVisited=!0;for(var t in e.edges){var r=e.edges[t];r.hidden||n.push(r.endVertex)}for(var t in e.reverseEdges)e.reverseEdges[t].hidden||n.push(e.reverseEdges[t].endVertex)}var n=new Array,o=new Array,a=new foograph.Vertex("component_center",(-1),(-1));for(a.hidden=!0,r.push(a),i.push(o),t(e);n.length>0;){var s=n.pop();s.__dfsVisited||s.hidden||t(s)}}var r=new Array,i=new Array;for(var o in t.vertices){var a=t.vertices[o];a.__dfsVisited=!1}for(var s in t.vertices){var a=t.vertices[s];a.__dfsVisited||a.hidden||n(a)}if(r.length>1){for(var o in r)t.insertVertex(r[o]);for(var o in i)for(var u in i[o])edge=t.insertEdge("",1,i[o][u],r[o]),edge.hidden=!0;for(var o in r)for(var u in r)o!=u&&(e=t.insertEdge("",3,r[o],r[u]),e.hidden=!0);return r}return null},foograph.ForceDirectedVertexLayout.prototype.layout=function(e){function t(e){return foograph.A*e*e/i}function n(e){return foograph.R*i*i/e}this.graph=e;var r=this.width*this.height,i=Math.sqrt(r/e.vertexCount),o=this.width/10,a=o/(this.iterations+1),s=this.eps;centers=this.__identifyComponents(e),this.randomize&&(randomLayout=new foograph.RandomVertexLayout(this.width,this.height),randomLayout.layout(e));for(var u=0;u<this.iterations;u++){for(var l in e.vertices){var c=e.vertices[l];if(c.dx=0,c.dy=0,!c.fixed)for(var h in e.vertices){var d=e.vertices[h];if(c!=d&&!d.fixed){var f=c.x-d.x,p=c.y-d.y,g=Math.max(s,Math.sqrt(f*f+p*p)),v=n(g);c.dx=c.dx+f/g*v,c.dy=c.dy+p/g*v}}}for(var y in e.vertices){var c=e.vertices[y];if(!c.fixed)for(var m in c.edges){var x=c.edges[m],d=x.endVertex,f=c.x-d.x,p=c.y-d.y,g=Math.max(s,Math.sqrt(f*f+p*p)),v=t(g),g=Math.max(s,Math.sqrt(f*f+p*p));c.dx=c.dx-f/g*v,c.dy=c.dy-p/g*v,d.dx=d.dx+f/g*v,d.dy=d.dy+p/g*v}}for(var b in e.vertices){var c=e.vertices[b];if(!c.fixed){var g=Math.max(s,Math.sqrt(c.dx*c.dx+c.dy*c.dy));c.x=c.x+c.dx/g*Math.min(g,o),c.y=c.y+c.dy/g*Math.min(g,o),c.x=Math.round(c.x),c.y=Math.round(c.y)}}o-=a,u%10==0&&this.callback()}if(centers)for(var w in centers)e.removeVertex(centers[w]);e.normalize(this.width,this.height,!0)},n.exports=foograph},{}],2:[function(e,t,n){"use strict";var r=e("./layout"),i=function(e){var t=r(e);e("layout","spread",t)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},{"./layout":3}],3:[function(e,t,n){
function r(e){var t=this.options={};for(var n in s)t[n]=s[n];for(var n in e)t[n]=e[n]}var i,o=e("./foograph"),a=e("./rhill-voronoi-core"),s={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0,randomize:!1};r.prototype.run=function(){function e(e){for(var t=e.vertices,i=[],o=0;o<t.length;++o){var a=t[o];i[a.id]={x:a.x,y:a.y}}u.positions(function(e,t){var n=t.id(),r=i[n];return{x:Math.round(g.x1+r.x),y:Math.round(g.y1+r.y)}}),n.fit&&r.fit(n.padding),r.nodes().rtrigger("position")}var t=this,n=this.options,r=n.cy,s=n.boundingBox||{x1:0,y1:0,w:r.width(),h:r.height()};void 0===s.x2&&(s.x2=s.x1+s.w),void 0===s.w&&(s.w=s.x2-s.x1),void 0===s.y2&&(s.y2=s.y1+s.h),void 0===s.h&&(s.h=s.y2-s.y1);var u=r.nodes(),l=r.edges(),c=r.width(),h=r.height(),d=s,f=n.padding,p=Math.max(1,.8*Math.log(u.length));u.length<100&&(p/=2),t.trigger({type:"layoutstart",layout:t});var g={x1:0,y1:0,x2:c*p,y2:h*p};d&&(g.x1=d.x1,g.y1=d.y1,g.x2=d.x2,g.y2=d.y2),g.x1+=f,g.y1+=f,g.x2-=f,g.y2-=f;var v=g.x2-g.x1,y=g.y2-g.y1,m=Date.now();if(u.size()<=1){u.positions({x:Math.round((g.x1+g.x2)/2),y:Math.round((g.y1+g.y2)/2)}),n.fit&&r.fit(n.padding);var x=Date.now();return console.info("Layout on "+u.size()+" nodes took "+(x-m)+" ms"),t.one("layoutready",n.ready),t.trigger("layoutready"),t.one("layoutstop",n.stop),void t.trigger("layoutstop")}var b={width:v,height:y,minDist:n.minDist,expFact:n.expandingFactor,expIt:0,maxExpIt:n.maxExpandIterations,vertices:[],edges:[],startTime:m,maxFruchtermanReingoldIterations:n.maxFruchtermanReingoldIterations};u.each(function(e,t){var r=t.id(),i=t.position();n.randomize&&(i={x:Math.round(g.x1+(g.x2-g.x1)*Math.random()),y:Math.round(g.y1+(g.y2-g.y1)*Math.random())}),b.vertices.push({id:r,x:i.x,y:i.y})}),l.each(function(){var e=this.source().id(),t=this.target().id();b.edges.push({src:e,tgt:t})});var w=t.thread;w&&!w.stopped()||(w=t.thread=i(),w.require(o,"foograph"),w.require(a,"Voronoi"));var E=!1;return w.on("message",function(r){var i=r.message;n.animate&&(e(i),E||(t.trigger("layoutready"),E=!0))}),t.one("layoutready",n.ready),w.pass(b).run(function(e){function t(e){for(var t,n,r,i=e.halfedges,o=0,a=0,s=0,u=0;u<i.length;++u)t=i[u].getEndpoint(),n=i[u].getStartpoint(),o+=t.x*n.y,o-=t.y*n.x,r=t.x*n.y-n.x*t.y,a+=(t.x+n.x)*r,s+=(t.y+n.y)*r;return o/=2,r=6*o,{x:a/r,y:s/r}}function n(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function r(e){for(var t=0,r=0;r<e.length;++r){var i=e[r];null!=i.lSite&&null!=i.rSite&&n(i.lSite,i.rSite)<u&&++t}return t}o=_ref_("foograph"),a=_ref_("Voronoi");for(var i=e.width,s=e.height,u=e.minDist,l=e.expFact,c=e.maxExpIt,h=e.maxFruchtermanReingoldIterations,d=function(){e.width=i,e.height=s,e.expIt=q,e.expFact=l,e.vertices=[];for(var t=0;t<T.length;++t)e.vertices.push({id:T[t].label,x:T[t].x,y:T[t].y})},f=function(){broadcast(e)},p=new o.Graph("FRgraph",(!1)),g={},v=e.vertices,y=0;y<v.length;++y){var m=v[y].id,x=new o.Vertex(m,Math.round(Math.random()*s),Math.round(Math.random()*s));g[m]=x,p.insertVertex(x)}for(var b=e.edges,w=0;w<b.length;++w){var E=b[w].src,_=b[w].tgt;p.insertEdge("",1,g[E],g[_])}var T=p.vertices,N=h,k=new o.ForceDirectedVertexLayout(i,s,N,(!1),u);if(k.callback=function(){d(),f()},k.layout(p),d(),f(),c<=0)return e;for(var D=new a,C={xl:0,xr:i,yt:0,yb:s},S=[],L=0;L<T.length;++L)S[T[L].label]=T[L];for(var A=D.compute(T,C),I=A.cells,L=0;L<I.length;++L){var M=I[L],P=M.site,O=t(M),R=S[P.label];R.x=O.x,R.y=O.y}l<0&&(l=Math.max(.05,Math.min(.1,u/Math.sqrt(i*s/T.length)*.5)));for(var F=r(A.edges),j=F<=0||c<=0,B=0,q=0;!j;){++B;for(var z=0;z<=4;++z){D.recycle(A),A=D.compute(T,C);for(var L=0;L<I.length;++L){var M=I[L],P=M.site,O=t(M),R=S[P.label];R.x=O.x,R.y=O.y}}var V=r(A.edges);V<=0?j=!0:(V>=F||B>=4)&&(q>=c?j=!0:(i+=i*l,s+=s*l,C={xl:0,xr:i,yt:0,yb:s},++q,B=0)),F=V,d(),f()}return d(),e}).then(function(r){var i=r.vertices;e(r);var o=r.startTime,a=new Date;console.info("Layout on "+i.length+" nodes took "+(a-o)+" ms"),t.one("layoutstop",n.stop),n.animate||t.trigger("layoutready"),t.trigger("layoutstop"),w.stop()}),this},r.prototype.stop=function(){this.thread&&this.thread.stop(),this.trigger("layoutstop")},r.prototype.destroy=function(){this.thread&&this.thread.stop()},t.exports=function(e){return i=e.Thread,r}},{"./foograph":1,"./rhill-voronoi-core":4}],4:[function(e,t,n){function r(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}r.prototype.reset=function(){if(this.beachline||(this.beachline=new this.RBTree),this.beachline.root)for(var e=this.beachline.getFirst(this.beachline.root);e;)this.beachsectionJunkyard.push(e),e=e.rbNext;this.beachline.root=null,this.circleEvents||(this.circleEvents=new this.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},r.prototype.sqrt=function(e){return Math.sqrt(e)},r.prototype.abs=function(e){return Math.abs(e)},r.prototype.=r.=1e-9,r.prototype.inv=r.inv=1/r.,r.prototype.equalWithEpsilon=function(e,t){return this.abs(e-t)<1e-9},r.prototype.greaterThanWithEpsilon=function(e,t){return e-t>1e-9},r.prototype.greaterThanOrEqualWithEpsilon=function(e,t){return t-e<1e-9},r.prototype.lessThanWithEpsilon=function(e,t){return t-e>1e-9},r.prototype.lessThanOrEqualWithEpsilon=function(e,t){return e-t<1e-9},r.prototype.RBTree=function(){this.root=null},r.prototype.RBTree.prototype.rbInsertSuccessor=function(e,t){var n;if(e){if(t.rbPrevious=e,t.rbNext=e.rbNext,e.rbNext&&(e.rbNext.rbPrevious=t),e.rbNext=t,e.rbRight){for(e=e.rbRight;e.rbLeft;)e=e.rbLeft;e.rbLeft=t}else e.rbRight=t;n=e}else this.root?(e=this.getFirst(this.root),t.rbPrevious=null,t.rbNext=e,e.rbPrevious=t,e.rbLeft=t,n=e):(t.rbPrevious=t.rbNext=null,this.root=t,n=null);t.rbLeft=t.rbRight=null,t.rbParent=n,t.rbRed=!0;var r,i;for(e=t;n&&n.rbRed;)r=n.rbParent,n===r.rbLeft?(i=r.rbRight,i&&i.rbRed?(n.rbRed=i.rbRed=!1,r.rbRed=!0,e=r):(e===n.rbRight&&(this.rbRotateLeft(n),e=n,n=e.rbParent),n.rbRed=!1,r.rbRed=!0,this.rbRotateRight(r))):(i=r.rbLeft,i&&i.rbRed?(n.rbRed=i.rbRed=!1,r.rbRed=!0,e=r):(e===n.rbLeft&&(this.rbRotateRight(n),e=n,n=e.rbParent),n.rbRed=!1,r.rbRed=!0,this.rbRotateLeft(r))),n=e.rbParent;this.root.rbRed=!1},r.prototype.RBTree.prototype.rbRemoveNode=function(e){e.rbNext&&(e.rbNext.rbPrevious=e.rbPrevious),e.rbPrevious&&(e.rbPrevious.rbNext=e.rbNext),e.rbNext=e.rbPrevious=null;var t,n=e.rbParent,r=e.rbLeft,i=e.rbRight;t=r?i?this.getFirst(i):r:i,n?n.rbLeft===e?n.rbLeft=t:n.rbRight=t:this.root=t;var o;if(r&&i?(o=t.rbRed,t.rbRed=e.rbRed,t.rbLeft=r,r.rbParent=t,t!==i?(n=t.rbParent,t.rbParent=e.rbParent,e=t.rbRight,n.rbLeft=e,t.rbRight=i,i.rbParent=t):(t.rbParent=n,n=t,e=t.rbRight)):(o=e.rbRed,e=t),e&&(e.rbParent=n),!o){if(e&&e.rbRed)return void(e.rbRed=!1);var a;do{if(e===this.root)break;if(e===n.rbLeft){if(a=n.rbRight,a.rbRed&&(a.rbRed=!1,n.rbRed=!0,this.rbRotateLeft(n),a=n.rbRight),a.rbLeft&&a.rbLeft.rbRed||a.rbRight&&a.rbRight.rbRed){a.rbRight&&a.rbRight.rbRed||(a.rbLeft.rbRed=!1,a.rbRed=!0,this.rbRotateRight(a),a=n.rbRight),a.rbRed=n.rbRed,n.rbRed=a.rbRight.rbRed=!1,this.rbRotateLeft(n),e=this.root;break}}else if(a=n.rbLeft,a.rbRed&&(a.rbRed=!1,n.rbRed=!0,this.rbRotateRight(n),a=n.rbLeft),a.rbLeft&&a.rbLeft.rbRed||a.rbRight&&a.rbRight.rbRed){a.rbLeft&&a.rbLeft.rbRed||(a.rbRight.rbRed=!1,a.rbRed=!0,this.rbRotateLeft(a),a=n.rbLeft),a.rbRed=n.rbRed,n.rbRed=a.rbLeft.rbRed=!1,this.rbRotateRight(n),e=this.root;break}a.rbRed=!0,e=n,n=n.rbParent}while(!e.rbRed);e&&(e.rbRed=!1)}},r.prototype.RBTree.prototype.rbRotateLeft=function(e){var t=e,n=e.rbRight,r=t.rbParent;r?r.rbLeft===t?r.rbLeft=n:r.rbRight=n:this.root=n,n.rbParent=r,t.rbParent=n,t.rbRight=n.rbLeft,t.rbRight&&(t.rbRight.rbParent=t),n.rbLeft=t},r.prototype.RBTree.prototype.rbRotateRight=function(e){var t=e,n=e.rbLeft,r=t.rbParent;r?r.rbLeft===t?r.rbLeft=n:r.rbRight=n:this.root=n,n.rbParent=r,t.rbParent=n,t.rbLeft=n.rbRight,t.rbLeft&&(t.rbLeft.rbParent=t),n.rbRight=t},r.prototype.RBTree.prototype.getFirst=function(e){for(;e.rbLeft;)e=e.rbLeft;return e},r.prototype.RBTree.prototype.getLast=function(e){for(;e.rbRight;)e=e.rbRight;return e},r.prototype.Diagram=function(e){this.site=e},r.prototype.Cell=function(e){this.site=e,this.halfedges=[],this.closeMe=!1},r.prototype.Cell.prototype.init=function(e){return this.site=e,this.halfedges=[],this.closeMe=!1,this},r.prototype.createCell=function(e){var t=this.cellJunkyard.pop();return t?t.init(e):new this.Cell(e)},r.prototype.Cell.prototype.prepareHalfedges=function(){for(var e,t=this.halfedges,n=t.length;n--;)e=t[n].edge,e.vb&&e.va||t.splice(n,1);return t.sort(function(e,t){return t.angle-e.angle}),t.length},r.prototype.Cell.prototype.getNeighborIds=function(){for(var e,t=[],n=this.halfedges.length;n--;)e=this.halfedges[n].edge,null!==e.lSite&&e.lSite.voronoiId!=this.site.voronoiId?t.push(e.lSite.voronoiId):null!==e.rSite&&e.rSite.voronoiId!=this.site.voronoiId&&t.push(e.rSite.voronoiId);return t},r.prototype.Cell.prototype.getBbox=function(){for(var e,t,n,r=this.halfedges,i=r.length,o=1/0,a=1/0,s=-(1/0),u=-(1/0);i--;)e=r[i].getStartpoint(),t=e.x,n=e.y,t<o&&(o=t),n<a&&(a=n),t>s&&(s=t),n>u&&(u=n);return{x:o,y:a,width:s-o,height:u-a}},r.prototype.Cell.prototype.pointIntersection=function(e,t){for(var n,r,i,o,a=this.halfedges,s=a.length;s--;){if(n=a[s],r=n.getStartpoint(),i=n.getEndpoint(),o=(t-r.y)*(i.x-r.x)-(e-r.x)*(i.y-r.y),!o)return 0;if(o>0)return-1}return 1},r.prototype.Vertex=function(e,t){this.x=e,this.y=t},r.prototype.Edge=function(e,t){this.lSite=e,this.rSite=t,this.va=this.vb=null},r.prototype.Halfedge=function(e,t,n){if(this.site=t,this.edge=e,n)this.angle=Math.atan2(n.y-t.y,n.x-t.x);else{var r=e.va,i=e.vb;this.angle=e.lSite===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}},r.prototype.createHalfedge=function(e,t,n){return new this.Halfedge(e,t,n)},r.prototype.Halfedge.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},r.prototype.Halfedge.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},r.prototype.createVertex=function(e,t){var n=this.vertexJunkyard.pop();return n?(n.x=e,n.y=t):n=new this.Vertex(e,t),this.vertices.push(n),n},r.prototype.createEdge=function(e,t,n,r){var i=this.edgeJunkyard.pop();return i?(i.lSite=e,i.rSite=t,i.va=i.vb=null):i=new this.Edge(e,t),this.edges.push(i),n&&this.setEdgeStartpoint(i,e,t,n),r&&this.setEdgeEndpoint(i,e,t,r),this.cells[e.voronoiId].halfedges.push(this.createHalfedge(i,e,t)),this.cells[t.voronoiId].halfedges.push(this.createHalfedge(i,t,e)),i},r.prototype.createBorderEdge=function(e,t,n){var r=this.edgeJunkyard.pop();return r?(r.lSite=e,r.rSite=null):r=new this.Edge(e,null),r.va=t,r.vb=n,this.edges.push(r),r},r.prototype.setEdgeStartpoint=function(e,t,n,r){e.va||e.vb?e.lSite===n?e.vb=r:e.va=r:(e.va=r,e.lSite=t,e.rSite=n)},r.prototype.setEdgeEndpoint=function(e,t,n,r){this.setEdgeStartpoint(e,n,t,r)},r.prototype.Beachsection=function(){},r.prototype.createBeachsection=function(e){var t=this.beachsectionJunkyard.pop();return t||(t=new this.Beachsection),t.site=e,t},r.prototype.leftBreakPoint=function(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.rbPrevious;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,h=1/o-1/l,d=c/l;return h?(-d+this.sqrt(d*d-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2},r.prototype.rightBreakPoint=function(e,t){var n=e.rbNext;if(n)return this.leftBreakPoint(n,t);var r=e.site;return r.y===t?r.x:1/0},r.prototype.detachBeachsection=function(e){this.detachCircleEvent(e),this.beachline.rbRemoveNode(e),this.beachsectionJunkyard.push(e)},r.prototype.removeBeachsection=function(e){var t=e.circleEvent,n=t.x,r=t.ycenter,i=this.createVertex(n,r),o=e.rbPrevious,a=e.rbNext,s=[e],u=Math.abs;this.detachBeachsection(e);for(var l=o;l.circleEvent&&u(n-l.circleEvent.x)<1e-9&&u(r-l.circleEvent.ycenter)<1e-9;)o=l.rbPrevious,s.unshift(l),this.detachBeachsection(l),l=o;s.unshift(l),this.detachCircleEvent(l);for(var c=a;c.circleEvent&&u(n-c.circleEvent.x)<1e-9&&u(r-c.circleEvent.ycenter)<1e-9;)a=c.rbNext,s.push(c),this.detachBeachsection(c),c=a;s.push(c),this.detachCircleEvent(c);var h,d=s.length;for(h=1;h<d;h++)c=s[h],l=s[h-1],this.setEdgeStartpoint(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=this.createEdge(l.site,c.site,void 0,i),this.attachCircleEvent(l),this.attachCircleEvent(c)},r.prototype.addBeachsection=function(e){for(var t,n,r,i,o=e.x,a=e.y,s=this.beachline.root;s;)if(r=this.leftBreakPoint(s,a)-o,r>1e-9)s=s.rbLeft;else{if(i=o-this.rightBreakPoint(s,a),!(i>1e-9)){r>-1e-9?(t=s.rbPrevious,n=s):i>-1e-9?(t=s,n=s.rbNext):t=n=s;break}if(!s.rbRight){t=s;break}s=s.rbRight}var u=this.createBeachsection(e);if(this.beachline.rbInsertSuccessor(t,u),t||n){if(t===n)return this.detachCircleEvent(t),n=this.createBeachsection(t.site),this.beachline.rbInsertSuccessor(u,n),u.edge=n.edge=this.createEdge(t.site,u.site),this.attachCircleEvent(t),void this.attachCircleEvent(n);if(t&&!n)return void(u.edge=this.createEdge(t.site,u.site));if(t!==n){this.detachCircleEvent(t),this.detachCircleEvent(n);var l=t.site,c=l.x,h=l.y,d=e.x-c,f=e.y-h,p=n.site,g=p.x-c,v=p.y-h,y=2*(d*v-f*g),m=d*d+f*f,x=g*g+v*v,b=this.createVertex((v*m-f*x)/y+c,(d*x-g*m)/y+h);return this.setEdgeStartpoint(n.edge,l,p,b),u.edge=this.createEdge(l,e,void 0,b),n.edge=this.createEdge(e,p,void 0,b),this.attachCircleEvent(t),void this.attachCircleEvent(n)}}},r.prototype.CircleEvent=function(){this.arc=null,this.rbLeft=null,this.rbNext=null,this.rbParent=null,this.rbPrevious=null,this.rbRed=!1,this.rbRight=null,this.site=null,this.x=this.y=this.ycenter=0},r.prototype.attachCircleEvent=function(e){var t=e.rbPrevious,n=e.rbNext;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=o.y-s,d=2*(u*h-l*c);if(!(d>=-2e-12)){var f=u*u+l*l,p=c*c+h*h,g=(h*f-l*p)/d,v=(u*p-c*f)/d,y=v+s,m=this.circleEventJunkyard.pop();m||(m=new this.CircleEvent),m.arc=e,m.site=i,m.x=g+a,m.y=y+this.sqrt(g*g+v*v),m.ycenter=y,e.circleEvent=m;for(var x=null,b=this.circleEvents.root;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.rbLeft){x=b.rbPrevious;break}b=b.rbLeft}else{if(!b.rbRight){x=b;break}b=b.rbRight}this.circleEvents.rbInsertSuccessor(x,m),x||(this.firstCircleEvent=m)}}}},r.prototype.detachCircleEvent=function(e){var t=e.circleEvent;t&&(t.rbPrevious||(this.firstCircleEvent=t.rbNext),this.circleEvents.rbRemoveNode(t),this.circleEventJunkyard.push(t),e.circleEvent=null)},r.prototype.connectEdge=function(e,t){var n=e.vb;if(n)return!0;var r,i,o=e.va,a=t.xl,s=t.xr,u=t.yt,l=t.yb,c=e.lSite,h=e.rSite,d=c.x,f=c.y,p=h.x,g=h.y,v=(d+p)/2,y=(f+g)/2;if(this.cells[c.voronoiId].closeMe=!0,this.cells[h.voronoiId].closeMe=!0,g!==f&&(r=(d-p)/(g-f),i=y-r*v),void 0===r){if(v<a||v>=s)return!1;if(d>p){if(!o||o.y<u)o=this.createVertex(v,u);else if(o.y>=l)return!1;n=this.createVertex(v,l)}else{if(!o||o.y>l)o=this.createVertex(v,l);else if(o.y<u)return!1;n=this.createVertex(v,u)}}else if(r<-1||r>1)if(d>p){if(!o||o.y<u)o=this.createVertex((u-i)/r,u);else if(o.y>=l)return!1;n=this.createVertex((l-i)/r,l)}else{if(!o||o.y>l)o=this.createVertex((l-i)/r,l);else if(o.y<u)return!1;n=this.createVertex((u-i)/r,u)}else if(f<g){if(!o||o.x<a)o=this.createVertex(a,r*a+i);else if(o.x>=s)return!1;n=this.createVertex(s,r*s+i)}else{if(!o||o.x>s)o=this.createVertex(s,r*s+i);else if(o.x<a)return!1;n=this.createVertex(a,r*a+i)}return e.va=o,e.vb=n,!0},r.prototype.clipEdge=function(e,t){var n=e.va.x,r=e.va.y,i=e.vb.x,o=e.vb.y,a=0,s=1,u=i-n,l=o-r,c=n-t.xl;if(0===u&&c<0)return!1;var h=-c/u;if(u<0){if(h<a)return!1;h<s&&(s=h)}else if(u>0){if(h>s)return!1;h>a&&(a=h)}if(c=t.xr-n,0===u&&c<0)return!1;if(h=c/u,u<0){if(h>s)return!1;h>a&&(a=h)}else if(u>0){if(h<a)return!1;h<s&&(s=h)}if(c=r-t.yt,0===l&&c<0)return!1;if(h=-c/l,l<0){if(h<a)return!1;h<s&&(s=h)}else if(l>0){if(h>s)return!1;h>a&&(a=h)}if(c=t.yb-r,0===l&&c<0)return!1;if(h=c/l,l<0){if(h>s)return!1;h>a&&(a=h)}else if(l>0){if(h<a)return!1;h<s&&(s=h)}return a>0&&(e.va=this.createVertex(n+a*u,r+a*l)),s<1&&(e.vb=this.createVertex(n+s*u,r+s*l)),(a>0||s<1)&&(this.cells[e.lSite.voronoiId].closeMe=!0,this.cells[e.rSite.voronoiId].closeMe=!0),!0},r.prototype.clipEdges=function(e){for(var t,n=this.edges,r=n.length,i=Math.abs;r--;)t=n[r],(!this.connectEdge(t,e)||!this.clipEdge(t,e)||i(t.va.x-t.vb.x)<1e-9&&i(t.va.y-t.vb.y)<1e-9)&&(t.va=t.vb=null,n.splice(r,1))},r.prototype.closeCells=function(e){for(var t,n,r,i,o,a,s,u,l,c=e.xl,h=e.xr,d=e.yt,f=e.yb,p=this.cells,g=p.length,v=Math.abs;g--;)if(t=p[g],t.prepareHalfedges()&&t.closeMe){for(r=t.halfedges,i=r.length,n=0;n<i;){if(a=r[n].getEndpoint(),u=r[(n+1)%i].getStartpoint(),v(a.x-u.x)>=1e-9||v(a.y-u.y)>=1e-9)switch(!0){case this.equalWithEpsilon(a.x,c)&&this.lessThanWithEpsilon(a.y,f):if(l=this.equalWithEpsilon(u.x,c),s=this.createVertex(c,l?u.y:f),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,l)break;a=s;case this.equalWithEpsilon(a.y,f)&&this.lessThanWithEpsilon(a.x,h):if(l=this.equalWithEpsilon(u.y,f),s=this.createVertex(l?u.x:h,f),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,l)break;a=s;case this.equalWithEpsilon(a.x,h)&&this.greaterThanWithEpsilon(a.y,d):if(l=this.equalWithEpsilon(u.x,h),s=this.createVertex(h,l?u.y:d),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,l)break;a=s;case this.equalWithEpsilon(a.y,d)&&this.greaterThanWithEpsilon(a.x,c):if(l=this.equalWithEpsilon(u.y,d),s=this.createVertex(l?u.x:c,d),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,l)break;if(a=s,l=this.equalWithEpsilon(u.x,c),s=this.createVertex(c,l?u.y:f),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,l)break;if(a=s,l=this.equalWithEpsilon(u.y,f),s=this.createVertex(l?u.x:h,f),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,l)break;if(a=s,l=this.equalWithEpsilon(u.x,h),s=this.createVertex(h,l?u.y:d),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,l)break;default:throw"Voronoi.closeCells() > this makes no sense!"}n++}t.closeMe=!1}},r.prototype.quantizeSites=function(e){for(var t,n=this.,r=e.length;r--;)t=e[r],t.x=Math.floor(t.x/n)*n,t.y=Math.floor(t.y/n)*n},r.prototype.recycle=function(e){if(e){if(!(e instanceof this.Diagram))throw"Voronoi.recycleDiagram() > Need a Diagram object.";this.toRecycle=e}},r.prototype.compute=function(e,t){var n=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var r=e.slice(0);r.sort(function(e,t){var n=t.y-e.y;return n?n:t.x-e.x});for(var i,o,a,s=r.pop(),u=0,l=this.cells;;)if(a=this.firstCircleEvent,s&&(!a||s.y<a.y||s.y===a.y&&s.x<a.x))s.x===i&&s.y===o||(l[u]=this.createCell(s),s.voronoiId=u++,this.addBeachsection(s),o=s.y,i=s.x),s=r.pop();else{if(!a)break;this.removeBeachsection(a.arc)}this.clipEdges(t),this.closeCells(t);var c=new Date,h=new this.Diagram;return h.cells=this.cells,h.edges=this.edges,h.vertices=this.vertices,h.execTime=c.getTime()-n.getTime(),this.reset(),h},t.exports=r},{}]},{},[2])(2)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){!function(){"use strict";var e=function(e,t){function n(e){var t=this.options={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n]}if(e&&t){var r={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,randomize:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5,edgeLength:function(e){var t=e.data("length");if(void 0!==t&&!isNaN(t))return t}};n.prototype.run=function(){function e(e){var t=e.scratch("springy").model.id,n=b.layout.nodePoints[t].p,r=e.position(),i=null!=r.x&&null!=r.y?v(e.position()):{x:4*Math.random()-2,y:4*Math.random()-2};n.x=i.x,n.y=i.y}function n(){i.stopped=!1,o.ungrabifyWhileSimulating&&E.ungrabify(),b.start()}var r=this,i=this,o=this.options;o.random=o.randomize;var a=!1,s=o.cy;r.trigger({type:"layoutstart",layout:r});var u=o.eles,l=u.nodes().not(":parent"),c=u.edges(),h=o.boundingBox||{x1:0,y1:0,w:s.width(),h:s.height()};void 0===h.x2&&(h.x2=h.x1+h.w),void 0===h.w&&(h.w=h.x2-h.x1),void 0===h.y2&&(h.y2=h.y1+h.h),void 0===h.h&&(h.h=h.y2-h.y1);var d=new t.Graph;l.each(function(e,t){t.scratch("springy",{model:d.newNode({element:t})})}),c.each(function(e,t){var n=t.source().scratch("springy").model,r=t.target().scratch("springy").model;t.scratch("springy",{model:d.newEdge(n,r,{element:t,length:o.edgeLength.call(t,t)})})});var f=window.sim=new t.Layout.ForceDirected(d,o.stiffness,o.repulsion,o.damping);o.infinite&&(f.minEnergyThreshold=-(1/0));var p=f.getBoundingBox(),g=function(e){p=f.getBoundingBox();var n=p.topright.subtract(p.bottomleft),r=e.subtract(p.bottomleft).divide(n.x).x*h.w+h.x1,i=e.subtract(p.bottomleft).divide(n.y).y*h.h+h.x1;return new t.Vector(r,i)},v=function(e){p=f.getBoundingBox();var n=p.topright.subtract(p.bottomleft),r=(e.x-h.x1)/h.w*n.x+p.bottomleft.x,i=(e.y-h.y1)/h.h*n.y+p.bottomleft.y;return new t.Vector(r,i)},y=s.collection(),m=s.nodes().size(),x=1,b=new t.Renderer(f,function(){i.stopped||y.length>0&&o.animate&&(a=!0,y.positions(function(e,t){return t.scratch("springy").position}),o.fit&&s.fit(o.padding),y=s.collection(),a=!1)},function(e,t,n){},function(e,t){if(!i.stopped){var n=g(t),a=e.data.element;a.locked()||a.grabbed()||(a.scratch("springy").position={x:n.x,y:n.y},y.merge(a)),x==m&&(r.one("layoutready",o.ready),r.trigger({type:"layoutready",layout:r})),x++}});l.each(function(t,n){o.random||e(n)});var w;l.on("position",w=function(){a||e(this)});var E=l.filter(":grabbable");return i.stopSystem=function(){i.stopped=!0,d.filterNodes(function(){return!1}),o.ungrabifyWhileSimulating&&E.grabify(),o.fit&&s.fit(o.padding),l.off("drag position",w),r.one("layoutstop",o.stop),r.trigger({type:"layoutstop",layout:r}),i.stopSystem=null},n(),o.infinite||setTimeout(function(){i.stop()},o.maxSimulationTime),this},n.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},e("layout","springy",n)}};"undefined"!=typeof t&&t.exports&&(t.exports=e),"undefined"!=typeof define&&define.amd&&define("cytoscape-springy",function(){return e}),"undefined"!=typeof cytoscape&&"undefined"!=typeof Springy&&e(cytoscape,Springy)}()},{}],10:[function(e,t,n){"use strict"},{}],11:[function(e,t,n){"use strict";var r=e("./util"),i=e("./is"),o=e("./promise"),a=function(e,t,n){if(!(this instanceof a))return new a(e,t,n);var o=this._private=r.extend({duration:1e3},t,n);o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&i.fn(o.complete)&&o.completes.push(o.complete),this.length=1,this[0]=this},s=a.prototype;r.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;t=e.queue?n.queue:n.current,t.push(this),i.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];e[t]=e[n],e[n]=r};n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition");for(var r=0;r<e.style.length;r++){var i=e.style[r],o=i.name,a=e.startStyle[o];e.startStyle[o]=i,e.style[r]=a}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new o(function(e,n){t.push(function(){e()})})}}),s.complete=s.completed,t.exports=a},{"./is":92,"./promise":95,"./util":109}],12:[function(e,t,n){"use strict";var r=e("../../is"),i={aStar:function(e){var t=this;e=e||{};var n=function(e,t,r,i){if(e==t)return i.push(o.getElementById(t)),i;if(t in r){var a=r[t],s=p[t];return i.push(o.getElementById(t)),i.push(o.getElementById(s)),n(e,a,r,i)}},i=function(e,t){if(0!==e.length){for(var n=0,r=t[e[0]],i=1;i<e.length;i++){var o=t[e[i]];o<r&&(r=o,n=i)}return n}},o=this._private.cy;if(null!=e&&null!=e.root){var a=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var s=r.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&r.fn(e.heuristic))var u=e.heuristic;else var u=function(){return 0};if(null!=e.weight&&r.fn(e.weight))var l=e.weight;else var l=function(e){return 1};if(null!=e.directed)var c=e.directed;else var c=!1;var h=[],d=[a.id()],f={},p={},g={},v={};g[a.id()]=0,v[a.id()]=u(a);for(var y=this.edges().stdFilter(function(e){return!e.isLoop()}),m=this.nodes(),x=0;d.length>0;){var b=i(d,v),w=o.getElementById(d[b]);if(x++,w.id()==s.id()){var E=n(a.id(),s.id(),f,[]);return E.reverse(),{found:!0,distance:g[w.id()],path:t.spawn(E),steps:x}}h.push(w.id()),d.splice(b,1);var _=w.connectedEdges();c&&(_=_.stdFilter(function(e){return e.data("source")===w.id()})),_=_.intersect(y);for(var T=0;T<_.length;T++){var N=_[T],k=N.connectedNodes().stdFilter(function(e){return e.id()!==w.id()}).intersect(m);if(h.indexOf(k.id())==-1){var D=g[w.id()]+l.apply(N,[N]);d.indexOf(k.id())!=-1?D<g[k.id()]&&(g[k.id()]=D,v[k.id()]=D+u(k),f[k.id()]=w.id()):(g[k.id()]=D,v[k.id()]=D+u(k),d.push(k.id()),f[k.id()]=w.id(),p[k.id()]=N.id())}}}return{found:!1,distance:void 0,path:void 0,steps:x}}}}};t.exports=i},{"../../is":92}],13:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../util"),o={bellmanFord:function(e){var t=this;if(e=e||{},null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(e){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.root){if(r.string(e.root))var a=this.filter(e.root)[0];else var a=e.root[0];for(var s=this._private.cy,u=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),c=l.length,h={},d=0;d<c;d++)h[l[d].id()]=d;for(var f=[],p=[],g=[],d=0;d<c;d++)l[d].id()===a.id()?f[d]=0:f[d]=1/0,p[d]=void 0;for(var v=!1,d=1;d<c;d++){v=!1;for(var y=0;y<u.length;y++){var m=h[u[y].source().id()],x=h[u[y].target().id()],b=n.apply(u[y],[u[y]]),w=f[m]+b;if(w<f[x]&&(f[x]=w,p[x]=m,g[x]=u[y],v=!0),!o){var w=f[x]+b;w<f[m]&&(f[m]=w,p[m]=x,g[m]=u[y],v=!0)}}if(!v)break}if(v)for(var y=0;y<u.length;y++){var m=h[u[y].source().id()],x=h[u[y].target().id()],b=n.apply(u[y],[u[y]]);if(f[m]+b<f[x])return i.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var E=[],d=0;d<c;d++)E.push(l[d].id());var _={distanceTo:function(e){if(r.string(e))var t=s.filter(e)[0].id();else var t=e.id();return f[h[t]]},pathTo:function(e){var n=function(e,t,n,r,i,o){for(;;){if(i.push(s.getElementById(r[n])),i.push(o[n]),t===n)return i;var a=e[n];if("undefined"==typeof a)return;n=a}};if(r.string(e))var i=s.filter(e)[0].id();else var i=e.id();var o=[],u=n(p,h[a.id()],h[i],E,o,g);return null!=u&&u.reverse(),t.spawn(u)},hasNegativeWeightCycle:!1};return _}}};t.exports=o},{"../../is":92,"../../util":109}],14:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../heap"),o={betweennessCentrality:function(e){e=e||{};var t,n;r.fn(e.weight)?(n=e.weight,t=!0):t=!1;for(var o,a=null!=e.directed&&e.directed,s=this._private.cy,u=this.nodes(),l={},c={},h={set:function(e,t){c[e]=t,t>o&&(o=t)},get:function(e){return c[e]}},d=0;d<u.length;d++){var f=u[d],p=f.id();a?l[p]=f.outgoers().nodes():l[p]=f.openNeighborhood().nodes(),h.set(p,0)}for(var g=0;g<u.length;g++){for(var v=u[g].id(),y=[],m={},x={},b={},w=new i(function(e,t){return b[e]-b[t]}),d=0;d<u.length;d++){var p=u[d].id();m[p]=[],x[p]=0,b[p]=1/0}for(x[v]=1,b[v]=0,w.push(v);!w.empty();){var f=w.pop();if(y.push(f),t)for(var E=0;E<l[f].length;E++){var _,T=l[f][E],N=s.getElementById(f);_=N.edgesTo(T).length>0?N.edgesTo(T)[0]:T.edgesTo(N)[0];var k=n.apply(_,[_]);T=T.id(),b[T]>b[f]+k&&(b[T]=b[f]+k,w.nodes.indexOf(T)<0?w.push(T):w.updateItem(T),x[T]=0,m[T]=[]),b[T]==b[f]+k&&(x[T]=x[T]+x[f],m[T].push(f))}else for(var E=0;E<l[f].length;E++){var T=l[f][E].id();b[T]==1/0&&(w.push(T),b[T]=b[f]+1),b[T]==b[f]+1&&(x[T]=x[T]+x[f],m[T].push(f))}}for(var D={},d=0;d<u.length;d++)D[u[d].id()]=0;for(;y.length>0;)for(var T=y.pop(),E=0;E<m[T].length;E++){var f=m[T][E];D[f]=D[f]+x[f]/x[T]*(1+D[T]),T!=u[g].id()&&h.set(T,h.get(T)+D[T])}}var C={betweenness:function(e){if(r.string(e))var e=s.filter(e).id();else var e=e.id();return h.get(e)},betweennessNormalized:function(e){if(r.string(e))var e=s.filter(e).id();else var e=e.id();return h.get(e)/o}};return C.betweennessNormalised=C.betweennessNormalized,C}};o.bc=o.betweennessCentrality,t.exports=o},{"../../heap":90,"../../is":92}],15:[function(e,t,n){"use strict";var r=e("../../is"),i=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,i){var o,a,s;r.plainObject(t)&&!r.elementOrCollection(t)&&(o=t,t=o.roots||o.root,n=o.visit,i=o.directed,a=o.std,s=o.thisArg),i=2!==arguments.length||r.fn(n)?i:n,n=r.fn(n)?n:function(){};for(var u,l=this._private.cy,c=t=r.string(t)?this.filter(t):t,h=[],d=[],f={},p={},g={},v=0,y=this.nodes(),m=this.edges(),x=0;x<c.length;x++)c[x].isNode()&&(h.unshift(c[x]),e.bfs&&(g[c[x].id()]=!0,d.push(c[x])),p[c[x].id()]=0);for(;0!==h.length;){var c=e.bfs?h.shift():h.pop();if(e.dfs){if(g[c.id()])continue;g[c.id()]=!0,d.push(c)}var b,w=p[c.id()],E=f[c.id()],_=null==E?void 0:E.connectedNodes().not(c)[0];if(b=a?n.call(s,c,E,_,v++,w):n.call(c,v++,w,c,E,_),b===!0){u=c;break}if(b===!1)break;for(var T=c.connectedEdges(i?function(){return this.data("source")===c.id()}:void 0).intersect(m),x=0;x<T.length;x++){var N=T[x],k=N.connectedNodes(function(){return this.id()!==c.id()}).intersect(y);0===k.length||g[k.id()]||(k=k[0],h.push(k),e.bfs&&(g[k.id()]=!0,d.push(k)),f[k.id()]=N,p[k.id()]=p[c.id()]+1)}}for(var D=[],x=0;x<d.length;x++){var C=d[x],S=f[C.id()];S&&D.push(S),D.push(C)}return{path:l.collection(D,{unique:!0}),found:l.collection(u)}}},o={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};o.bfs=o.breadthFirstSearch,o.dfs=o.depthFirstSearch,t.exports=o},{"../../is":92}],16:[function(e,t,n){"use strict";var r=e("../../is"),i={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),n=e.harmonic;void 0===n&&(n=!0);for(var i={},o=0,a=this.nodes(),s=this.floydWarshall({weight:e.weight,directed:e.directed}),u=0;u<a.length;u++){for(var l=0,c=0;c<a.length;c++)if(u!=c){var h=s.distance(a[u],a[c]);l+=n?1/h:h}n||(l=1/l),o<l&&(o=l),i[a[u].id()]=l}return{closeness:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return i[e]/o}}},closenessCentrality:function(e){if(e=e||{},null!=e.root){if(r.string(e.root))var t=this.filter(e.root)[0];else var t=e.root[0];if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(){return 1};if(null!=e.directed&&r.bool(e.directed))var i=e.directed;else var i=!1;
var o=e.harmonic;void 0===o&&(o=!0);for(var a=this.dijkstra({root:t,weight:n,directed:i}),s=0,u=this.nodes(),l=0;l<u.length;l++)if(u[l].id()!=t.id()){var c=a.distanceTo(u[l]);s+=o?1/c:c}return o?s:1/s}}};i.cc=i.closenessCentrality,i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized,t.exports=i},{"../../is":92}],17:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../util"),o={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var n=e.directed;else var n=!1;var o=this.nodes(),a=o.length;if(n){for(var s={},u={},l=0,c=0,h=0;h<a;h++){var d=o[h],f=this.degreeCentrality(i.extend({},e,{root:d}));l<f.indegree&&(l=f.indegree),c<f.outdegree&&(c=f.outdegree),s[d.id()]=f.indegree,u[d.id()]=f.outdegree}return{indegree:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return s[e]/l},outdegree:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return u[e]/c}}}for(var p={},g=0,h=0;h<a;h++){var d=o[h],f=this.degreeCentrality(i.extend({},e,{root:d}));g<f.degree&&(g=f.degree),p[d.id()]=f.degree}return{degree:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return p[e]/g}}},degreeCentrality:function(e){e=e||{};var t=this;if(null!=e&&null!=e.root){var n=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&r.fn(e.weight))var i=e.weight;else var i=function(e){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.alpha&&r.number(e.alpha))var a=e.alpha;else a=0;if(o){for(var s=n.connectedEdges('edge[target = "'+n.id()+'"]').intersection(t),u=n.connectedEdges('edge[source = "'+n.id()+'"]').intersection(t),l=s.length,c=u.length,h=0,d=0,f=0;f<s.length;f++){var p=s[f];h+=i.apply(p,[p])}for(var f=0;f<u.length;f++){var p=u[f];d+=i.apply(p,[p])}return{indegree:Math.pow(l,1-a)*Math.pow(h,a),outdegree:Math.pow(c,1-a)*Math.pow(d,a)}}for(var g=n.connectedEdges().intersection(t),v=g.length,y=0,f=0;f<g.length;f++){var p=g[f];y+=i.apply(p,[p])}return{degree:Math.pow(v,1-a)*Math.pow(y,a)}}}};o.dc=o.degreeCentrality,o.dcn=o.degreeCentralityNormalised=o.degreeCentralityNormalized,t.exports=o},{"../../is":92,"../../util":109}],18:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../heap"),o={dijkstra:function(e,t,n){var o;r.plainObject(e)&&!r.elementOrCollection(e)&&(o=e,e=o.root,t=o.weight,n=o.directed);var a=this._private.cy;t=r.fn(t)?t:function(){return 1};for(var s=r.string(e)?this.filter(e)[0]:e[0],u={},l={},c={},h=this.edges().filter(function(){return!this.isLoop()}),d=this.nodes(),f=function(e){return u[e.id()]},p=function(e,t){u[e.id()]=t,g.updateItem(e)},g=new i(function(e,t){return f(e)-f(t)}),v=0;v<d.length;v++){var y=d[v];u[y.id()]=y.same(s)?0:1/0,g.push(y)}for(var m=function(e,r){for(var i,o=(n?e.edgesTo(r):e.edgesWith(r)).intersect(h),a=1/0,s=0;s<o.length;s++){var u=o[s],l=t.apply(u,[u]);(l<a||!i)&&(a=l,i=u)}return{edge:i,dist:a}};g.size()>0;){var x=g.pop(),b=f(x),w=x.id();if(c[w]=b,b===Math.Infinite)break;for(var E=x.neighborhood().intersect(d),v=0;v<E.length;v++){var _=E[v],T=_.id(),N=m(x,_),k=b+N.dist;k<f(_)&&(p(_,k),l[T]={node:x,edge:N.edge})}}return{distanceTo:function(e){var t=r.string(e)?d.filter(e)[0]:e[0];return c[t.id()]},pathTo:function(e){var t=r.string(e)?d.filter(e)[0]:e[0],n=[],i=t;if(t.length>0)for(n.unshift(t);l[i.id()];){var o=l[i.id()];n.unshift(o.edge),n.unshift(o.node),i=o.node}return a.collection(n)}}}};t.exports=o},{"../../heap":90,"../../is":92}],19:[function(e,t,n){"use strict";var r=e("../../is"),i={floydWarshall:function(e){e=e||{};var t=this.cy();if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(e){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;for(var o=this.edges().stdFilter(function(e){return!e.isLoop()}),a=this.nodes(),s=a.length,u={},l=0;l<s;l++)u[a[l].id()]=l;for(var c=[],l=0;l<s;l++){for(var h=new Array(s),d=0;d<s;d++)l==d?h[d]=0:h[d]=1/0;c.push(h)}var f=[],p=[],g=function(e){for(var t=0;t<s;t++){for(var n=new Array(s),r=0;r<s;r++)n[r]=void 0;e.push(n)}};g(f),g(p);for(var l=0;l<o.length;l++){var v=u[o[l].source().id()],y=u[o[l].target().id()],m=n.apply(o[l],[o[l]]);c[v][y]>m&&(c[v][y]=m,f[v][y]=y,p[v][y]=o[l])}if(!i)for(var l=0;l<o.length;l++){var v=u[o[l].target().id()],y=u[o[l].source().id()],m=n.apply(o[l],[o[l]]);c[v][y]>m&&(c[v][y]=m,f[v][y]=y,p[v][y]=o[l])}for(var x=0;x<s;x++)for(var l=0;l<s;l++)for(var d=0;d<s;d++)c[l][x]+c[x][d]<c[l][d]&&(c[l][d]=c[l][x]+c[x][d],f[l][d]=f[l][x]);for(var b=[],l=0;l<s;l++)b.push(a[l].id());var w={distance:function(e,n){if(r.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(r.string(n))var o=t.filter(n)[0].id();else var o=n.id();return c[u[i]][u[o]]},path:function(e,n){var i=function(e,n,r,i,o){if(e===n)return t.getElementById(i[e]);if(void 0!==r[e][n]){for(var a=[t.getElementById(i[e])],s=e;e!==n;){s=e,e=r[e][n];var u=o[s][e];a.push(u),a.push(t.getElementById(i[e]))}return a}};if(r.string(e))var o=t.filter(e)[0].id();else var o=e.id();if(r.string(n))var a=t.filter(n)[0].id();else var a=n.id();var s=i(u[o],u[a],f,b,p);return t.collection(s)}};return w}};t.exports=i},{"../../is":92}],20:[function(e,t,n){"use strict";var r=e("../../util"),i={};[e("./bfs-dfs"),e("./dijkstra"),e("./kruskal"),e("./a-star"),e("./floyd-warshall"),e("./bellman-ford"),e("./kerger-stein"),e("./page-rank"),e("./degree-centrality"),e("./closeness-centrality"),e("./betweenness-centrality")].forEach(function(e){r.extend(i,e)}),t.exports=i},{"../../util":109,"./a-star":12,"./bellman-ford":13,"./betweenness-centrality":14,"./bfs-dfs":15,"./closeness-centrality":16,"./degree-centrality":17,"./dijkstra":18,"./floyd-warshall":19,"./kerger-stein":21,"./kruskal":22,"./page-rank":23}],21:[function(e,t,n){"use strict";var r=e("../../util"),i={kargerStein:function(e){var t=this;e=e||{};var n=function(e,t,n){for(var r=n[e],i=r[1],o=r[2],a=t[i],s=t[o],u=n.filter(function(e){return(t[e[1]]!==a||t[e[2]]!==s)&&(t[e[1]]!==s||t[e[2]]!==a)}),l=0;l<u.length;l++){var c=u[l];c[1]===s?(u[l]=c.slice(0),u[l][1]=a):c[2]===s&&(u[l]=c.slice(0),u[l][2]=a)}for(var l=0;l<t.length;l++)t[l]===s&&(t[l]=a);return u},i=function(e,t,r,o){if(r<=o)return t;var a=Math.floor(Math.random()*t.length),s=n(a,e,t);return i(e,s,r-1,o)},o=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),u=s.length,l=a.length,c=Math.ceil(Math.pow(Math.log(u)/Math.LN2,2)),h=Math.floor(u/Math.sqrt(2));if(u<2)return void r.error("At least 2 nodes are required for Karger-Stein algorithm");for(var d={},f=0;f<u;f++)d[s[f].id()]=f;for(var p=[],f=0;f<l;f++){var g=a[f];p.push([f,d[g.source().id()],d[g.target().id()]])}for(var v,y=1/0,m=[],f=0;f<u;f++)m.push(f);for(var x=0;x<=c;x++){var b=m.slice(0),w=i(b,p,u,h),E=b.slice(0),_=i(b,w,h,2),T=i(E,w,h,2);_.length<=T.length&&_.length<y?(y=_.length,v=[_,b]):T.length<=_.length&&T.length<y&&(y=T.length,v=[T,E])}for(var N=v[0].map(function(e){return a[e[0]]}),k=[],D=[],C=v[1][0],f=0;f<v[1].length;f++){var S=v[1][f];S===C?k.push(s[f]):D.push(s[f])}var L={cut:t.spawn(o,N),partition1:t.spawn(k),partition2:t.spawn(D)};return L}};t.exports=i},{"../../util":109}],22:[function(e,t,n){"use strict";var r=e("../../is"),i={kruskal:function(e){function t(e){for(var t=0;t<o.length;t++){var n=o[t];if(n.anySame(e))return{eles:n,index:t}}}var n=this.cy();e=r.fn(e)?e:function(){return 1};for(var i=n.collection(n,[]),o=[],a=this.nodes(),s=0;s<a.length;s++)o.push(a[s].collection());for(var u=this.edges(),l=u.toArray().sort(function(t,n){var r=e.call(t,t),i=e.call(n,n);return r-i}),s=0;s<l.length;s++){var c=l[s],h=c.source()[0],d=c.target()[0],f=t(h),p=t(d);f.index!==p.index&&(i=i.add(c),o[f.index]=f.eles.add(p.eles),o.splice(p.index,1))}return a.add(i)}};t.exports=i},{"../../is":92}],23:[function(e,t,n){"use strict";var r=e("../../is"),i={pageRank:function(e){e=e||{};var t=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var r=0;r<t;r++)e[r]=e[r]/n};if(null!=e&&null!=e.dampingFactor)var n=e.dampingFactor;else var n=.8;if(null!=e&&null!=e.precision)var i=e.precision;else var i=1e-6;if(null!=e&&null!=e.iterations)var o=e.iterations;else var o=200;if(null!=e&&null!=e.weight&&r.fn(e.weight))var a=e.weight;else var a=function(e){return 1};for(var s=this._private.cy,u=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),c=l.length,h=u.length,d={},f=0;f<c;f++)d[l[f].id()]=f;for(var p=[],g=[],v=(1-n)/c,f=0;f<c;f++){for(var y=[],m=0;m<c;m++)y.push(0);p.push(y),g.push(0)}for(var f=0;f<h;f++){var x=u[f],b=d[x.source().id()],w=d[x.target().id()],E=a.apply(x,[x]);p[w][b]+=E,g[b]+=E}for(var _=1/c+v,m=0;m<c;m++)if(0===g[m])for(var f=0;f<c;f++)p[f][m]=_;else for(var f=0;f<c;f++)p[f][m]=p[f][m]/g[m]+v;for(var T,N=[],k=[],f=0;f<c;f++)N.push(1),k.push(0);for(var D=0;D<o;D++){for(var C=k.slice(0),f=0;f<c;f++)for(var m=0;m<c;m++)C[f]+=p[f][m]*N[m];t(C),T=N,N=C;for(var S=0,f=0;f<c;f++)S+=Math.pow(T[f]-N[f],2);if(S<i)break}var L={rank:function(e){if(r.string(e))var t=s.filter(e)[0].id();else var t=e.id();return N[d[t]]}};return L}};t.exports=i},{"../../is":92}],24:[function(e,t,n){"use strict";var r=e("../define"),i={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()};t.exports=i},{"../define":53}],25:[function(e,t,n){"use strict";var r=e("../util"),i={classes:function(e){e=e.match(/\S+/g)||[];for(var t=this,n=[],i={},o=0;o<e.length;o++){var a=e[o];i[a]=!0}for(var s=0;s<t.length;s++){for(var u=t[s],l=u._private,c=l.classes,h=!1,o=0;o<e.length;o++){var a=e[o],d=c[a];if(!d){h=!0;break}}if(!h)for(var e=Object.keys(c),o=0;o<e.length;o++){var f=e[o],d=c[f],p=i[f];if(d&&!p){h=!0;break}}h&&(l.classes=r.copy(i),n.push(u))}return n.length>0&&this.spawn(n).updateStyle().trigger("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return!(null==t||!t._private.classes[e])},toggleClass:function(e,t){for(var n=e.match(/\S+/g)||[],r=this,i=[],o=0,a=r.length;o<a;o++)for(var s=r[o],u=!1,l=0;l<n.length;l++){var c=n[l],h=s._private.classes,d=h[c],f=t||void 0===t&&!d;f?(h[c]=!0,d||u||(i.push(s),u=!0)):(h[c]=!1,d&&!u&&(i.push(s),u=!0))}return i.length>0&&this.spawn(i).updateStyle().trigger("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};t.exports=i},{"../util":109}],26:[function(e,t,n){"use strict";var r={allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var n=0;n<this.length;n++){var r=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(r)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var r=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!r)return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length===e.length&&this.intersect(e).length===this.length},anySame:function(e){return e=this.cy().collection(e),this.intersect(e).length>0},allAreNeighbors:function(e){return e=this.cy().collection(e),this.neighborhood().intersect(e).length===e.length}};r.allAreNeighbours=r.allAreNeighbors,t.exports=r},{}],27:[function(e,t,n){"use strict";var r={parent:function(e){for(var t=[],n=this._private.cy,r=0;r<this.length;r++){var i=this[r],o=n.getElementById(i._private.data.parent);o.size()>0&&t.push(o)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n],i=r.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];t=t.concat(r._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return 0!==e._private.children.length},isChild:function(){var e=this[0];if(e)return void 0!==e._private.data.parent&&0!==e.parent().length},descendants:function(e){function t(e){for(var r=0;r<e.length;r++){var i=e[r];n.push(i),i.children().nonempty()&&t(i.children())}}var n=[];return t(this.children()),this.spawn(n,{unique:!0}).filter(e)}};r.ancestors=r.parents,t.exports=r},{}],28:[function(e,t,n){"use strict";var r,i,o=e("../define");r=i={data:o.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:o.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:o.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:o.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:o.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:o.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}},r.attr=r.data,r.removeAttr=r.removeData,t.exports=i},{"../define":53}],29:[function(e,t,n){"use strict";function r(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!t&&s.isLoop()||(r+=e(i,s))}return r}}}function i(e,t){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[e](n);void 0===s||void 0!==r&&!t(s,r)||(r=s)}return r}}var o=e("../util"),a={};o.extend(a,{degree:r(function(e,t){return t.source().same(t.target())?2:1}),indegree:r(function(e,t){return t.target().same(e)?1:0}),outdegree:r(function(e,t){return t.source().same(e)?1:0})}),o.extend(a,{minDegree:i("degree",function(e,t){return e<t}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return e<t}),maxIndegree:i("indegree",function(e,t){return e>t}),minOutdegree:i("outdegree",function(e,t){return e<t}),maxOutdegree:i("outdegree",function(e,t){return e>t})}),o.extend(a,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}}),t.exports=a},{"../util":109}],30:[function(e,t,n){"use strict";var r,i,o=e("../define"),a=e("../is"),s=e("../util"),u=e("../math");r=i={position:o.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()&&!e.isParent()}}),silentPosition:o.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()&&!e.isParent()}}),positions:function(e,t){if(a.plainObject(e))this.position(e);else if(a.fn(e)){for(var n=e,r=0;r<this.length;r++){var i=this[r],e=n.apply(i,[r,i]);if(e&&!i.locked()&&!i.isParent()){var o=i._private.position;o.x=e.x,o.y=e.y}}var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;t?u.trigger("position"):u.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),o=r.pan(),s=a.plainObject(e)?e:void 0,u=void 0!==s||void 0!==t&&a.string(e);if(n&&n.isNode()){if(!u){var l=n._private.position;return s={x:l.x*i+o.x,y:l.y*i+o.y},void 0===e?s:s[e]}for(var c=0;c<this.length;c++){var n=this[c];void 0!==t?n._private.position[e]=(t-o[e])/i:void 0!==s&&(n._private.position={x:(s.x-o.x)/i,y:(s.y-o.y)/i})}this.rtrigger("position")}else if(!u)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=a.plainObject(e)?e:void 0,o=void 0!==i||void 0!==t&&a.string(e),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var u=n._private.position,l=s?n.parent():null,c=l&&l.length>0,h=c;c&&(l=l[0]);var d=h?l._private.position:{x:0,y:0};return i={x:u.x-d.x,y:u.y-d.y},void 0===e?i:i[e]}for(var f=0;f<this.length;f++){var n=this[f],l=s?n.parent():null,c=l&&l.length>0,h=c;c&&(l=l[0]);var d=h?l._private.position:{x:0,y:0};void 0!==t?n._private.position[e]=t+d[e]:void 0!==i&&(n._private.position={x:i.x+d.x,y:i.y+d.y})}this.rtrigger("position")}else if(!o)return;return this},renderedBoundingBox:function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),o=t.x1*r+i.x,a=t.x2*r+i.x,s=t.y1*r+i.y,u=t.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:u,w:a-o,h:u-s}},updateCompoundBounds:function(){function e(e){if(e.isParent()){var t=e._private,r=e.children(),i="include"===e.pstyle("compound-sizing-wrt-labels").value,o=r.boundingBox({includeLabels:i,includeShadows:!1,includeOverlays:!1,useCache:!1}),a={top:e.pstyle("padding-top").pfValue,bottom:e.pstyle("padding-bottom").pfValue,left:e.pstyle("padding-left").pfValue,right:e.pstyle("padding-right").pfValue},s=t.position;t.autoWidth=o.w,s.x=(o.x1+o.x2-a.left+a.right)/2,t.autoHeight=o.h,s.y=(o.y1+o.y2-a.top+a.bottom)/2,n.push(e)}}var t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return t.collection();for(var n=[],r=this;r.nonempty();){for(var i=0;i<r.length;i++){var o=r[i];e(o)}r=r.parent()}return this.spawn(n)}};var l=function(e){return e===1/0||e===-(1/0)?0:e},c=function(e,t,n,r,i){r-t!==0&&i-n!==0&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2)},h=function(e,t){return c(e,t.x1,t.y1,t.x2,t.y2)},d=function(e,t,n){return s.getPrefixedProperty(e,t,n)},f=function(e,t,n,r){var i,o,a=t._private,s=a.rstyle,u=s.arrowWidth/2,l=t.pstyle(n+"-arrow-shape").value;"none"!==l&&("source"===n?(i=s.srcX,o=s.srcY):"target"===n?(i=s.tgtX,o=s.tgtY):(i=s.midX,o=s.midY),c(e,i-u,o-u,i+u,o+u))},p=function(e,t,n,r){var i;i=n?n+"-":"";var o=t._private,a=o.rstyle,s=t.pstyle(i+"label").strValue;if(s){var u,l,h,f,p=t.pstyle("text-halign"),g=t.pstyle("text-valign"),v=d(a,"labelWidth",n),y=d(a,"labelHeight",n),m=d(a,"labelX",n),x=d(a,"labelY",n),b=t.pstyle(i+"text-margin-x").pfValue,w=t.pstyle(i+"text-margin-y").pfValue,E=t.isEdge(),_=t.pstyle(i+"text-rotation"),T=t.pstyle("text-shadow-blur").pfValue/2,N=t.pstyle("text-shadow-offset-x").pfValue,k=t.pstyle("text-shadow-offset-y").pfValue,D=t.pstyle("text-shadow-opacity").value,C=t.pstyle("text-outline-width").pfValue,S=t.pstyle("text-border-width").pfValue,L=S/2,A=y,I=v,M=I/2,P=A/2;if(E)u=m-M,l=m+M,h=x-P,f=x+P;else{switch(p.value){case"left":u=m-I,l=m;break;case"center":u=m-M,l=m+M;break;case"right":u=m,l=m+I}switch(g.value){case"top":h=x-A,f=x;break;case"center":h=x-P,f=x+P;break;case"bottom":h=x,f=x+A}}var O=E&&"autorotate"===_.strValue,R=null!=_.pfValue&&0!==_.pfValue;if(O||R){var F=O?d(o.rstyle,"labelAngle",n):_.pfValue,j=Math.cos(F),B=Math.sin(F),q=function(e,t){return e-=m,t-=x,{x:e*j-t*B+m,y:e*B+t*j+x}},z=q(u,h),V=q(u,f),Y=q(l,h),X=q(l,f);u=Math.min(z.x,V.x,Y.x,X.x),l=Math.max(z.x,V.x,Y.x,X.x),h=Math.min(z.y,V.y,Y.y,X.y),f=Math.max(z.y,V.y,Y.y,X.y)}u+=b-Math.max(C,L),l+=b+Math.max(C,L),h+=w-Math.max(C,L),f+=w+Math.max(C,L),c(e,u,h,l,f),r.includeShadows&&D>0&&(u+=-T+N,l+=+T+N,h+=-T+k,f+=+T+k,c(e,u,h,l,f))}return e},g=function(e,t){var n,r,i,o,a,s,h=e._private.cy,d=h._private,g=d.styleEnabled,v={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)},y=e._private,m=g?e.pstyle("display").value:"element",x=e.isNode(),b=e.isEdge(),w="none"!==m;if(w){var E=0,_=0;g&&t.includeOverlays&&(E=e.pstyle("overlay-opacity").value,0!==E&&(_=e.pstyle("overlay-padding").value));var T=0,N=0;if(g&&(T=e.pstyle("width").pfValue,N=T/2),x&&t.includeNodes){var k=y.position;a=k.x,s=k.y;var T=e.outerWidth(),D=T/2,C=e.outerHeight(),S=C/2;n=a-D-_,r=a+D+_,i=s-S-_,o=s+S+_,c(v,n,i,r,o)}else if(b&&t.includeEdges){var L=y.rstyle||{};if(g&&(n=Math.min(L.srcX,L.midX,L.tgtX),r=Math.max(L.srcX,L.midX,L.tgtX),i=Math.min(L.srcY,L.midY,L.tgtY),o=Math.max(L.srcY,L.midY,L.tgtY),n-=N,r+=N,i-=N,o+=N,c(v,n,i,r,o)),g&&"haystack"===e.pstyle("curve-style").strValue){var A=L.haystackPts;if(n=A[0].x,i=A[0].y,r=A[1].x,o=A[1].y,n>r){var I=n;n=r,r=I}if(i>o){var I=i;i=o,o=I}c(v,n-N,i-N,r+N,o+N)}else{for(var M=L.bezierPts||L.linePts||[],P=0;P<M.length;P++){var O=M[P];n=O.x-N,r=O.x+N,i=O.y-N,o=O.y+N,c(v,n,i,r,o)}if(0===M.length){var R=y.source,F=R._private,j=F.position,B=y.target,q=B._private,z=q.position;if(n=j.x,r=z.x,i=j.y,o=z.y,n>r){var I=n;n=r,r=I}if(i>o){var I=i;i=o,o=I}n-=N,r+=N,i-=N,o+=N,c(v,n,i,r,o)}}}if(g){if(n=v.x1,r=v.x2,i=v.y1,o=v.y2,t.includeShadows&&e.pstyle("shadow-opacity").value>0){var V=e.pstyle("shadow-blur").pfValue/2,Y=e.pstyle("shadow-offset-x").pfValue,X=e.pstyle("shadow-offset-y").pfValue;c(v,n-V+Y,i-V+X,r+V+Y,o+V+X)}c(v,n-_,i-_,r+_,o+_)}g&&t.includeEdges&&b&&(f(v,e,"mid-source",t),f(v,e,"mid-target",t),f(v,e,"source",t),f(v,e,"target",t)),g&&t.includeLabels&&(p(v,e,null,t),b&&(p(v,e,"source",t),p(v,e,"target",t)))}return v.x1=l(v.x1),v.y1=l(v.y1),v.x2=l(v.x2),v.y2=l(v.y2),v.w=l(v.x2-v.x1),v.h=l(v.y2-v.y1),v.w>0&&v.h>0&&w&&u.expandBoundingBox(v,1),v},v=function(e){return e?"t":"f"},y=function(e){var t="";return t+=v(e.incudeNodes),t+=v(e.includeEdges),t+=v(e.includeLabels),t+=v(e.includeShadows),t+=v(e.includeOverlays)},m=function(e,t){var n,r=e._private,i=e.cy().headless(),o=t===x?b:y(t);return t.useCache&&!i&&r.bbCache&&r.bbCache[o]?n=r.bbCache[o]:(n=g(e,t),i||(r.bbCache=r.bbCache||{},r.bbCache[o]=n)),n},x={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeShadows:!0,includeOverlays:!0,useCache:!0},b=y(x);i.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||e.useCache===!0))return void 0===e&&(e=x),m(this[0],e);var t={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)};e=e||s.staticEmptyObject();var n={includeNodes:s["default"](e.includeNodes,x.includeNodes),includeEdges:s["default"](e.includeEdges,x.includeEdges),includeLabels:s["default"](e.includeLabels,x.includeLabels),includeShadows:s["default"](e.includeShadows,x.includeShadows),includeOverlays:s["default"](e.includeOverlays,x.includeOverlays),useCache:s["default"](e.useCache,x.useCache)},r=this,i=r.cy(),o=r.cy().renderer(),a=i.styleEnabled();a&&o.recalculateRenderedStyle(r,n.useCache);for(var u=0;u<r.length;u++){var c=r[u];a&&c.isEdge()&&"bezier"===c.pstyle("curve-style").strValue&&o.recalculateRenderedStyle(c.parallelEdges(),n.useCache),h(t,m(c,n))}return t.x1=l(t.x1),t.y1=l(t.y1),t.x2=l(t.x2),t.y2=l(t.y2),t.w=l(t.x2-t.x1),t.h=l(t.y2-t.y1),t};var w=function(e){e.uppercaseName=s.capitalize(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=s.capitalize(e.outerName),r[e.name]=function(){var t=this[0],n=t._private,r=n.cy,i=r._private.styleEnabled;if(t){if(!i)return 1;if(t.isParent())return n[e.autoName]||0;var o=t.pstyle(e.name);switch(o.strValue){case"label":return n.rstyle[e.labelName]||0;default:return o.pfValue}}},r["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private,r=n.cy,i=r._private.styleEnabled;if(t){if(i){var o=t[e.name](),a=t.pstyle("border-width").pfValue,s=t.pstyle(e.paddings[0]).pfValue+t.pstyle(e.paddings[1]).pfValue;return o+a+s}return 1}},r["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){var n=t[e.name]();return n*this.cy().zoom()}},r["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){var n=t[e.outerName]();return n*this.cy().zoom()}}};w({name:"width",paddings:["padding-left","padding-right"]}),w({name:"height",paddings:["padding-top","padding-bottom"]}),r.modelPosition=r.point=r.position,r.modelPositions=r.points=r.positions,r.renderedPoint=r.renderedPosition,r.relativePoint=r.relativePosition,r.boundingbox=r.boundingBox,r.renderedBoundingbox=r.renderedBoundingBox,t.exports=i},{"../define":53,"../is":92,"../math":94,"../util":109}],31:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),o=function(e,t,n){var o=this;if(n=!(void 0!==n&&!n),void 0===e||void 0===t||!i.core(e))return void r.error("An element must have a core reference and parameters set");var a=t.group;if(null==a&&(a=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"!==a&&"edges"!==a)return void r.error("An element must be of type `nodes` or `edges`; you specified `"+a+"`");if(this.length=1,this[0]=this,this._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],traversalCache:{}},t.renderedPosition){var s=t.renderedPosition,u=e.pan(),l=e.zoom();this._private.position={x:(s.x-u.x)/l,y:(s.y-u.y)/l}}if(i.string(t.classes))for(var c=t.classes.split(/\s+/),h=0,d=c.length;h<d;h++){var f=c[h];f&&""!==f&&(o._private.classes[f]=!0)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css),(void 0===n||n)&&this.restore()};t.exports=o},{"../is":92,"../util":109}],32:[function(e,t,n){"use strict";var r=e("../define"),i={on:r.on(),one:r.on({unbindSelfOnTrigger:!0}),once:r.on({unbindAllBindersOnTrigger:!0}),off:r.off(),trigger:r.trigger(),rtrigger:function(e,t){if(0!==this.length)return this.cy().notify({type:e,eles:this}),this.trigger(e,t),this}};r.eventAliasesOn(i),t.exports=i},{"../define":53}],33:[function(e,t,n){"use strict";var r=e("../is"),i=e("../selector"),o={nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(e){if(void 0===e)return this;if(r.string(e)||r.elementOrCollection(e))return i(e).filter(this);if(r.fn(e)){for(var t=[],n=0;n<this.length;n++){var o=this[n];e.apply(o,[n,o])&&t.push(o)}return this.spawn(t)}return this.spawn()},not:function(e){if(e){r.string(e)&&(e=this.filter(e));for(var t=[],n=0;n<this.length;n++){var i=this[n],o=e._private.ids[i.id()];o||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){var e=this._private.cy;return e.mutableElements().not(this)},intersect:function(e){if(r.string(e)){var t=e;return this.filter(t)}for(var n=[],i=this,o=e,a=this.length<e.length,s=a?o._private.ids:i._private.ids,u=a?i:o,l=0;l<u.length;l++){var c=u[l]._private.data.id,h=s[c];h&&n.push(h)}return this.spawn(n)},xor:function(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],i=this,o=e,a=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id,a=t._private.ids[o];a||n.push(i)}};return a(i,o),a(o,i),this.spawn(n)},diff:function(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],i=[],o=[],a=this,s=e,u=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id,s=t._private.ids[a];s?o.push(i):n.push(i)}};return u(a,s,n),u(s,a,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(r.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var o=0;o<e.length;o++){var a=!this._private.ids[e[o].id()];a&&i.push(e[o])}return this.spawn(i)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&r.string(e)){var i=e;e=n.mutableElements().filter(i)}for(var o=0;o<e.length;o++){var a=e[o],s=a._private.data.id,u=!t.ids[s];if(u){var l=this.length++;this[l]=a,t.ids[s]=a,t.indexes[s]=l}else{var l=t.indexes[s];this[l]=a,t.ids[s]=a}}return this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.indexes[n];if(null==r)return this;this[r]=void 0,t.ids[n]=void 0,t.indexes[n]=void 0;var i=r===this.length-1;if(this.length>1&&!i){var o=this.length-1,a=this[o],s=a._private.data.id;this[o]=void 0,this[r]=a,t.indexes[s]=r}return this.length--,this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&r.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var o=r[i],a=t?e.apply(t,[o,i,r]):e(o,i,r);n.push(a)}return n},stdFilter:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var o=r[i],a=t?e.apply(t,[o,i,r]):e(o,i,r);a&&n.push(o)}return this.spawn(n)},max:function(e,t){for(var n,r=-(1/0),i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s>r&&(r=s,n=a)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s<r&&(r=s,n=a)}return{value:r,ele:n}}},a=o;a.u=a["|"]=a["+"]=a.union=a.or=a.add,a["\\"]=a["!"]=a["-"]=a.difference=a.relativeComplement=a.subtract=a.not,a.n=a["&"]=a["."]=a.and=a.intersection=a.intersect,a["^"]=a["(+)"]=a["(-)"]=a.symmetricDifference=a.symdiff=a.xor,a.fnFilter=a.filterFn=a.stdFilter,a.complement=a.abscomp=a.absoluteComplement,t.exports=o},{"../is":92,"../selector":96}],34:[function(e,t,n){"use strict";var r={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];if(e)return e._private.group}};t.exports=r},{}],35:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),o=e("./element"),a={generate:function(e,t,n){for(var i=null!=n?n:r.uuid();e.hasElementWithId(i);)i=r.uuid();return i}},s=function(e,t,n){if(void 0===e||!i.core(e))return void r.error("A collection must have a reference to the core");var s={},u={},l=!1;if(t){if(t.length>0&&i.plainObject(t[0])&&!i.element(t[0])){l=!0;for(var c=[],h={},d=0,f=t.length;d<f;d++){var p=t[d];null==p.data&&(p.data={});var g=p.data;if(null==g.id)g.id=a.generate(e,p);else if(e.hasElementWithId(g.id)||h[g.id])continue;var v=new o(e,p,(!1));c.push(v),h[g.id]=!0}t=c}}else t=[];this.length=0;for(var d=0,f=t.length;d<f;d++){var y=t[d];if(y){var m=y._private.data.id;(!n||n.unique&&!s[m])&&(s[m]=y,u[m]=this.length,this[this.length]=y,this.length++)}}this._private={cy:e,ids:s,indexes:u},l&&this.restore()},u=o.prototype=s.prototype;u.instanceString=function(){return"collection"},u.spawn=function(e,t,n){return i.core(e)||(n=t,t=e,e=this.cy()),new s(e,t,n)},u.spawnSelf=function(){return this.spawn(this)},u.cy=function(){return this._private.cy},u.element=function(){return this[0]},u.collection=function(){return i.collection(this)?this:new s(this._private.cy,[this])},u.unique=function(){return new s(this._private.cy,this,{unique:!0})},u.hasElementWithId=function(e){return!!this._private.ids[e]},u.getElementById=function(e){var t=this._private.cy,n=this._private.ids[e];return n?n:new s(t)},u.poolIndex=function(){var e=this._private.cy,t=e._private.elements,n=this._private.data.id;return t._private.indexes[n]},u.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var o=t._private;if(i.plainObject(e)){n.startBatch(),e.data&&t.data(e.data),e.position&&t.position(e.position);var a=function(n,r,i){var a=e[n];null!=a&&a!==o[n]&&(a?t[r]():t[i]())};return a("removed","remove","restore"),a("selected","select","unselect"),a("selectable","selectify","unselectify"),a("locked","lock","unlock"),a("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),
this}if(void 0===e){var s={data:r.copy(o.data),position:r.copy(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,classes:null};return s.classes=Object.keys(o.classes).filter(function(e){return o.classes[e]}).join(" "),s}}},u.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t],r=n.json();e.push(r)}return e},u.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),a=new o(e,i,(!1));t.push(a)}return new s(e,t)},u.copy=u.clone,u.restore=function(e){var t=this,n=t.cy(),o=n._private;void 0===e&&(e=!0);for(var u,l=[],c=[],h=0,d=t.length;h<d;h++){var f=t[h];f.removed()&&(f.isNode()?l.push(f):c.push(f))}u=l.concat(c);var h,p=function(){u.splice(h,1),h--};for(h=0;h<u.length;h++){var f=u[h],g=f._private,v=g.data;if(g.traversalCache=null,void 0===v.id)v.id=a.generate(n,f);else if(i.number(v.id))v.id=""+v.id;else{if(i.emptyString(v.id)||!i.string(v.id)){r.error("Can not create element with invalid string ID `"+v.id+"`"),p();continue}if(n.hasElementWithId(v.id)){r.error("Can not create second element with ID `"+v.id+"`"),p();continue}}var y=v.id;if(f.isNode()){var m=f,x=g.position;null==x.x&&(x.x=0),null==x.y&&(x.y=0)}if(f.isEdge()){for(var b=f,w=["source","target"],E=w.length,_=!1,T=0;T<E;T++){var N=w[T],k=v[N];i.number(k)&&(k=v[N]=""+v[N]),null==k||""===k?(r.error("Can not create edge `"+y+"` with unspecified "+N),_=!0):n.hasElementWithId(k)||(r.error("Can not create edge `"+y+"` with nonexistant "+N+" `"+k+"`"),_=!0)}if(_){p();continue}var D=n.getElementById(v.source),C=n.getElementById(v.target);D._private.edges.push(b),C._private.edges.push(b),b._private.source=D,b._private.target=C}g.ids={},g.ids[y]=f,g.indexes={},g.indexes[y]=f,g.removed=!1,n.addToPool(f)}for(var h=0;h<l.length;h++){var m=l[h],v=m._private.data;i.number(v.parent)&&(v.parent=""+v.parent);var S=v.parent,L=null!=S;if(L){var A=n.getElementById(S);if(A.empty())v.parent=void 0;else{for(var I=!1,M=A;!M.empty();){if(m.same(M)){I=!0,v.parent=void 0;break}M=M.parent()}I||(A[0]._private.children.push(m),m._private.parent=A[0],o.hasCompoundNodes=!0)}}}if(u.length>0){for(var P=new s(n,u),h=0;h<P.length;h++){var f=P[h];if(!f.isNode()){for(var O=f.parallelEdges(),T=0;T<O.length;T++)O[T]._private.traversalCache=null;f.source()[0]._private.traversalCache=null,f.target()[0]._private.traversalCache=null}}var R;R=o.hasCompoundNodes?P.add(P.connectedNodes()).add(P.parent()):P,R.updateStyle(e),e?P.rtrigger("add"):P.trigger("add")}return t},u.removed=function(){var e=this[0];return e&&e._private.removed},u.inside=function(){var e=this[0];return e&&!e._private.removed},u.remove=function(e){function t(e){for(var t=e._private.edges,n=0;n<t.length;n++)i(t[n])}function n(e){for(var t=e._private.children,n=0;n<t.length;n++)i(t[n])}function i(e){var r=d[e.id()];r||(d[e.id()]=!0,e.isNode()?(h.push(e),t(e),n(e)):h.unshift(e))}function o(e,t){var n=e._private.edges;r.removeFromArray(n,t),e._private.traversalCache=null}function a(e){for(var t=e.parallelEdges(),n=0;n<t.length;n++)t[n]._private.traversalCache=null}function u(e,t){t=t[0],e=e[0];var n=e._private.children,i=e.id();r.removeFromArray(n,t),y.ids[i]||(y.ids[i]=!0,y.push(e))}var l=this,c=[],h=[],d={},f=l._private.cy;void 0===e&&(e=!0);for(var p=0,g=l.length;p<g;p++){var v=l[p];i(v)}var y=[];y.ids={},f.removeFromPool(h);for(var p=0;p<h.length;p++){var v=h[p];if(v._private.removed=!0,c.push(v),v.isEdge()){var m=v.source()[0],x=v.target()[0];o(m,v),o(x,v),a(v)}else{var b=v.parent();0!==b.length&&u(b,v)}}var w=f._private.elements;f._private.hasCompoundNodes=!1;for(var p=0;p<w.length;p++){var v=w[p];if(v.isParent()){f._private.hasCompoundNodes=!0;break}}var E=new s(this.cy(),c);E.size()>0&&(e&&this.cy().notify({type:"remove",eles:E}),E.trigger("remove"));for(var p=0;p<y.length;p++){var v=y[p];v.removed()||v.updateStyle()}return new s(f,c)},u.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.hasElementWithId(n),o=t.hasElementWithId(r);if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var u=a[s];"edges"===u.group&&(i&&(u.data.source=n),o&&(u.data.target=r))}return t.add(a)}}else if(void 0!==e.parent){var l=e.parent,c=null===l||t.hasElementWithId(l);if(c){var a=this.jsons(),h=this.descendants(),d=h.union(h.union(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var u=a[s];"nodes"===u.group&&(u.data.parent=null===l?void 0:l)}return t.add(a).union(d.restore())}}return this},[e("./algorithms"),e("./animation"),e("./class"),e("./comparators"),e("./compounds"),e("./data"),e("./degree"),e("./dimensions"),e("./events"),e("./filter"),e("./group"),e("./index"),e("./iteration"),e("./layout"),e("./style"),e("./switch-functions"),e("./traversing")].forEach(function(e){r.extend(u,e)}),t.exports=s},{"../is":92,"../util":109,"./algorithms":20,"./animation":24,"./class":25,"./comparators":26,"./compounds":27,"./data":28,"./degree":29,"./dimensions":30,"./element":31,"./events":32,"./filter":33,"./group":34,"./index":35,"./iteration":36,"./layout":37,"./style":38,"./switch-functions":39,"./traversing":40}],36:[function(e,t,n){"use strict";var r=e("../is"),i=e("./zsort"),o={each:function(e){if(r.fn(e))for(var t=0;t<this.length;t++){var n=this[t],i=e.apply(n,[t,n]);if(i===!1)break}return this},forEach:function(e,t){if(r.fn(e))for(var n=0;n<this.length;n++){var i=this[n],o=t?e.apply(t,[i,n,this]):e(i,n,this);if(o===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!r.fn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if("nodes"===n){var r=t.data.parent?e.parents().size():0;return e.isParent()?r:Number.MAX_VALUE}var i=t.source,o=t.target,a=i.zDepth(),s=o.zDepth();return Math.max(a,s,0)}}};t.exports=o},{"../is":92,"./zsort":41}],37:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),o=e("../promise"),a={layoutPositions:function(e,t,n){var i=this.nodes(),a=this.cy();if(e.trigger({type:"layoutstart",layout:e}),e.animations=[],t.animate){for(var s=0;s<i.length;s++){var u=i[s],l=(s===i.length-1,n.call(u,s,u)),c=u.position();r.number(c.x)&&r.number(c.y)||u.silentPosition({x:0,y:0});var h=u.animation({position:l,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(h),h.play()}var d;a.on("step.*",d=function(){t.fit&&a.fit(t.eles,t.padding)}),e.one("layoutstop",function(){a.off("step.*",d)}),e.one("layoutready",t.ready),e.trigger({type:"layoutready",layout:e}),o.all(e.animations.map(function(e){return e.promise()})).then(function(){a.off("step.*",d),null!=t.zoom&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),t.fit&&a.fit(t.eles,t.padding),e.one("layoutstop",t.stop),e.trigger({type:"layoutstop",layout:e})})}else i.positions(n),t.fit&&a.fit(t.eles,t.padding),null!=t.zoom&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),e.one("layoutready",t.ready),e.trigger({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.trigger({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.layout(i.extend({},e,{eles:this})),this},makeLayout:function(e){var t=this.cy();return t.makeLayout(i.extend({},e,{eles:this}))}};a.createLayout=a.makeLayout,t.exports=a},{"../is":92,"../promise":95,"../util":109}],38:[function(e,t,n){"use strict";var r=e("../is"),i={updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){var n=t._private.batchStyleEles;return n.merge(this),this}var r=t.style();e=!(!e&&void 0!==e),r.apply(this);var i=this.updateCompoundBounds(),o=i.length>0?this.add(i):this;return e?o.rtrigger("style"):o.trigger("style"),this},updateMappers:function(e){var t=this._private.cy,n=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;n.updateMappers(this);var r=this.updateCompoundBounds(),i=r.length>0?this.add(r):this;return e?i.rtrigger("style"):i.trigger("style"),this},parsedStyle:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t._private.style[e]||t.cy().style().getDefaultProperty(e):void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n){var r=n.cy().style().getRenderedStyle(n);return void 0===e?r:r[e]}},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,o=n.style();if(r.plainObject(e)){var a=e;o.applyBypass(this,a,i);var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;u.rtrigger("style")}else if(r.string(e)){if(void 0===t){var l=this[0];return l?o.getStylePropertyValue(l,e):void 0}o.applyBypass(this,e,t,i);var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;u.rtrigger("style")}else if(void 0===e){var l=this[0];return l?o.getRawStyle(l):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),i=this;if(void 0===e)for(var o=0;o<i.length;o++){var a=i[o];r.removeAllBypasses(a,n)}else{e=e.split(/\s+/);for(var o=0;o<i.length;o++){var a=i[o];r.removeBypasses(a,e,n)}}var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;return u.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],n=e.hasCompoundNodes();if(t){if("visible"!==t.pstyle("visibility").value||"element"!==t.pstyle("display").value)return!1;if("nodes"===t._private.group){if(!n)return!0;var r=t._private.data.parent?t.parents():null;if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.pstyle("visibility").value,s=o.pstyle("display").value;if("visible"!==a||"element"!==s)return!1}return!0}var u=t._private.source,l=t._private.target;return u.visible()&&l.visible()}},hidden:function(){var e=this[0];if(e)return!e.visible()},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++){var s=o[a],u=s.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();return t?n?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};i.bypass=i.css=i.style,i.renderedCss=i.renderedStyle,i.removeBypass=i.removeCss=i.removeStyle,i.pstyle=i.parsedStyle,t.exports=i},{"../is":92}],39:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length){var i=t[0];this.on(e.event,i)}else if(0===t.length){for(var o=0;o<this.length;o++){var a=this[o],s=!e.ableField||a._private[e.ableField],u=a._private[e.field]!=e.value;if(e.overrideAble){var l=e.overrideAble(a);if(void 0!==l&&(s=l,!l))return this}s&&(a._private[e.field]=e.value,u&&n.push(a))}var c=this.spawn(n);c.updateStyle(),c.trigger(e.event)}return this}}function i(e){o[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},o[e.on]=r({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),o[e.off]=r({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}var o={};i({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),i({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),i({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),i({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),o.deselect=o.unselect,o.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},i({field:"active",on:"activate",off:"unactivate"}),o.inactive=function(){var e=this[0];if(e)return!e._private.active},t.exports=o},{}],40:[function(e,t,n){"use strict";function r(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,{unique:!0}).filter(t)}}function i(e){return function(t){var n=[],r=this._private.cy,i=e||{};s.string(t)&&(t=r.$(t));for(var o=this._private.ids,a=t._private.ids,u=0;u<t.length;u++)for(var l=t[u]._private.edges,c=0;c<l.length;c++){var h=l[c],d=h._private.data,f=o[d.source]&&a[d.target],p=a[d.source]&&o[d.target],g=f||p;if(g){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!f)continue;if(i.thisIsTgt&&!p)continue}n.push(h)}}return this.spawn(n,{unique:!0})}}function o(e){var t={codirected:!1};return e=a.extend({},t,e),function(t){for(var n=[],r=this.edges(),i=e,o=0;o<r.length;o++)for(var a=r[o],s=a._private,u=s.source,l=u._private.data.id,c=s.data.target,h=u._private.edges,d=0;d<h.length;d++){var f=h[d],p=f._private.data,g=p.target,v=p.source,y=g===c&&v===l,m=l===g&&c===v;(i.codirected&&y||!i.codirected&&(y||m))&&n.push(f)}return this.spawn(n,{unique:!0}).filter(t)}}var a=e("../util"),s=e("../is"),u={},l=function(e,t){return function(n,r,i,o){var a,u=n,l=this;if(null==u?a="null":s.elementOrCollection(u)&&1===u.length&&(a="#"+u.id()),1===l.length&&a){var c=l[0]._private,h=c.traversalCache=c.traversalCache||{},d=h[t]=h[t]||{},f=d[a];return f?f:d[a]=e.call(l,n,r,i,o)}return e.call(l,n,r,i,o)}},c=function(e){return function(t){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode()){for(var a=!1,s=o.connectedEdges(),u=0;u<s.length;u++){var l=s[u],c=l.source(),h=l.target();if(e.noIncomingEdges&&h===o&&c!==o||e.noOutgoingEdges&&c===o&&h!==o){a=!0;break}}a||r.push(o)}}return this.spawn(r,{unique:!0}).filter(t)}},h=function(e){return function(t){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var a=o.connectedEdges(),s=0;s<a.length;s++){var u=a[s],l=u.source(),c=u.target();e.outgoing&&l===o?(r.push(u),r.push(c)):e.incoming&&c===o&&(r.push(u),r.push(l))}}return this.spawn(r,{unique:!0}).filter(t)}},d=function(e){return function(t){for(var n=this,r=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var u=o[s],l=u.id();i[l]||(i[l]=!0,r.push(u),a=!0)}if(!a)break;n=o}return this.spawn(r,{unique:!0}).filter(t)}};a.extend(u,{roots:c({noIncomingEdges:!0}),leaves:c({noOutgoingEdges:!0}),outgoers:l(h({outgoing:!0}),"outgoers"),successors:d({outgoing:!0}),incomers:l(h({incoming:!0}),"incomers"),predecessors:d({incoming:!0})}),a.extend(u,{neighborhood:l(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],u=s.source(),l=s.target(),c=i===u?l:u;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),u.neighbourhood=u.neighborhood,u.closedNeighbourhood=u.closedNeighborhood,u.openNeighbourhood=u.openNeighborhood,a.extend(u,{source:l(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:l(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:r({attr:"source"}),targets:r({attr:"target"})}),a.extend(u,{edgesWith:l(i(),"edgesWith",!0),edgesTo:l(i({thisIsSrc:!0}),"edgesTo",!0)}),a.extend(u,{connectedEdges:l(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var s=o[a];t.push(s)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:l(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:l(o(),"parallelEdges"),codirectedEdges:l(o({codirected:!0}),"codirectedEdges")}),a.extend(u,{components:function(){var e=this,t=e.cy(),n=e.spawn(),r=e.nodes().spawnSelf(),i=[],o=function(e,t){n.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return e.spawn();do{var a=t.collection();i.push(a);var s=r[0];o(s,a),e.bfs({directed:!1,roots:s,visit:function(e,t,n,r,i){o(n,a)}})}while(r.length>0);return i.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}}),t.exports=u},{"../is":92,"../util":109}],41:[function(e,t,n){"use strict";var r=function(e,t){var n=e.cy(),r=e.pstyle("z-index").value-t.pstyle("z-index").value,i=0,o=0,a=n.hasCompoundNodes(),s=e.isNode(),u=!s,l=t.isNode(),c=!l;a&&(i=e.zDepth(),o=t.zDepth());var h=i-o,d=0===h;return d?s&&c?1:u&&l?-1:0===r?e.poolIndex()-t.poolIndex():r:h};t.exports=r},{}],42:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),o=e("../collection"),a=e("../collection/element"),s={add:function(e){var t,n=this;if(r.elementOrCollection(e)){var s=e;if(s._private.cy===n)t=s.restore();else{for(var u=[],l=0;l<s.length;l++){var c=s[l];u.push(c.json())}t=new o(n,u)}}else if(r.array(e)){var u=e;t=new o(n,u)}else if(r.plainObject(e)&&(r.array(e.nodes)||r.array(e.edges))){for(var h=e,u=[],d=["nodes","edges"],l=0,f=d.length;l<f;l++){var p=d[l],g=h[p];if(r.array(g))for(var v=0,y=g.length;v<y;v++){var m=i.extend({group:p},g[v]);u.push(m)}}t=new o(n,u)}else{var m=e;t=new a(n,m).collection()}return t},remove:function(e){if(r.elementOrCollection(e))e=e;else if(r.string(e)){var t=e;e=this.$(t)}return e.remove()},load:function(e,t,n){var o=this;o.notifications(!1);var a=o.mutableElements();a.length>0&&a.remove(),null!=e&&(r.plainObject(e)||r.array(e))&&o.add(e),o.one("layoutready",function(e){o.notifications(!0),o.trigger(e),o.notify({type:"load",eles:o.mutableElements()}),o.one("load",t),o.trigger("load")}).one("layoutstop",function(){o.one("done",n),o.trigger("done")});var s=i.extend({},o._private.options.layout);return s.eles=o.elements(),o.layout(s),this}};t.exports=s},{"../collection":35,"../collection/element":31,"../is":92,"../util":109}],43:[function(e,t,n){"use strict";var r=e("../define"),i=e("../util"),o=e("../is"),a={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function e(){c._private.animationsRunning&&i.requestAnimationFrame(function(n){t(n),e()})}function t(e){function t(t,i){var s=t._private,u=s.animation.current,l=s.animation.queue,c=!1;if(0===u.length){var h=l.shift();h&&u.push(h)}for(var d=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];n()}e.splice(0,e.length)},f=u.length-1;f>=0;f--){var p=u[f],g=p._private;g.stopped?(u.splice(f,1),g.hooked=!1,g.playing=!1,g.started=!1,d(g.frames)):(g.playing||g.applying)&&(g.playing&&g.applying&&(g.applying=!1),g.started||n(t,p,e),r(t,p,e,i),o.fn(g.step)&&g.step.call(t,e),g.applying&&(g.applying=!1),d(g.frames),p.completed()&&(u.splice(f,1),g.hooked=!1,g.playing=!1,g.started=!1,d(g.completes)),c=!0)}return i||0!==u.length||0!==l.length||a.push(t),c}for(var i=c._private.aniEles,a=[],s=!1,u=0;u<i.length;u++){var l=i[u],h=t(l);s=s||h}var d=t(c,!0);if(s||d)if(i.length>0){var f=i.updateCompoundBounds().spawnSelf().merge(i);c.notify({type:"draw",eles:f})}else c.notify({type:"draw"});i.unmerge(a),c.trigger("step")}function n(e,t,n){var r=o.core(e),i=!r,a=e,s=c._private.style,u=t._private;if(i){var l=a._private.position;u.startPosition=u.startPosition||{x:l.x,y:l.y},u.startStyle=u.startStyle||s.getAnimationStartStyle(a,u.style)}if(r){var h=c._private.pan;u.startPan=u.startPan||{x:h.x,y:h.y},u.startZoom=null!=u.startZoom?u.startZoom:c._private.zoom}u.started=!0,u.startTime=n-u.progress*u.duration}function r(e,t,n,r){var i=c._private.style,s=!r,u=e._private,h=t._private,d=h.easing,p=h.startTime;if(!h.easingImpl)if(null==d)h.easingImpl=f.linear;else{var g;if(o.string(d)){var v=i.parse("transition-timing-function",d);g=v.value}else g=d;var y,m;o.string(g)?(y=g,m=[]):(y=g[1],m=g.slice(2).map(function(e){return+e})),m.length>0?("spring"===y&&m.push(h.duration),h.easingImpl=f[y].apply(null,m)):h.easingImpl=f[y]}var x,b=h.easingImpl;if(x=0===h.duration?1:(n-p)/h.duration,h.applying&&(x=h.progress),x<0?x=0:x>1&&(x=1),null==h.delay){var w=h.startPosition,E=h.position,_=u.position;E&&s&&(a(w.x,E.x)&&(_.x=l(w.x,E.x,x,b)),a(w.y,E.y)&&(_.y=l(w.y,E.y,x,b)),e.trigger("position"));var T=h.startPan,N=h.pan,k=u.pan,D=null!=N&&r;D&&(a(T.x,N.x)&&(k.x=l(T.x,N.x,x,b)),a(T.y,N.y)&&(k.y=l(T.y,N.y,x,b)),e.trigger("pan"));var C=h.startZoom,S=h.zoom,L=null!=S&&r;L&&(a(C,S)&&(u.zoom=l(C,S,x,b)),e.trigger("zoom")),(D||L)&&e.trigger("viewport");var A=h.style;if(A&&A.length>0&&s){for(var I=0;I<A.length;I++){var M=A[I],y=M.name,P=M,O=h.startStyle[y],R=l(O,P,x,b);i.overrideBypass(e,y,R)}e.trigger("style")}}return h.progress=x,x}function a(e,t){return null!=e&&null!=t&&(!(!o.number(e)||!o.number(t))||!(!e||!t))}function s(e,t,n){var r=1-n,i=n*n;return 3*r*r*n*e+3*r*i*t+i*n}function u(e,t){return function(n,r,i){return n+(r-n)*s(e,t,i)}}function l(e,t,n,r){n<0?n=0:n>1&&(n=1);var i,a;if(i=null!=e.pfValue||null!=e.value?null!=e.pfValue?e.pfValue:e.value:e,a=null!=t.pfValue||null!=t.value?null!=t.pfValue?t.pfValue:t.value:t,o.number(i)&&o.number(a))return r(i,a,n);if(o.array(i)&&o.array(a)){for(var s=[],u=0;u<a.length;u++){var l=i[u],c=a[u];if(null!=l&&null!=c){var h=r(l,c,n);e.roundValue&&(h=Math.round(h)),s.push(h)}else s.push(c)}return s}}var c=this;if(c._private.animationsRunning=!0,c.styleEnabled()){var h=c.renderer();h&&h.beforeRender?h.beforeRender(function(e,n){t(n)},h.beforeRenderPriorities.animations):e();var d=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),a=t(n,.5*r,o),s=t(n,r,a),u=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),l=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+u*r,n.v=n.v+l*r,n}return function r(e,t,i){var o,a,s,u={x:-1,v:0,tension:null,friction:null},l=[0],c=0,h=1e-4,d=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,u.tension=e,u.friction=t,o=null!==i,o?(c=r(e,t),a=c/i*d):a=d;;)if(s=n(s||u,a),l.push(1+s.x),c+=16,!(Math.abs(s.x)>h&&Math.abs(s.v)>h))break;return o?function(e){return l[e*(l.length-1)|0]}:c}}(),f={linear:function(e,t,n){return e+(t-e)*n},ease:u(.25,.1,.25,1),"ease-in":u(.42,0,1,1),"ease-out":u(0,0,.58,1),"ease-in-out":u(.42,0,.58,1),"ease-in-sine":u(.47,0,.745,.715),"ease-out-sine":u(.39,.575,.565,1),"ease-in-out-sine":u(.445,.05,.55,.95),"ease-in-quad":u(.55,.085,.68,.53),"ease-out-quad":u(.25,.46,.45,.94),"ease-in-out-quad":u(.455,.03,.515,.955),"ease-in-cubic":u(.55,.055,.675,.19),"ease-out-cubic":u(.215,.61,.355,1),"ease-in-out-cubic":u(.645,.045,.355,1),"ease-in-quart":u(.895,.03,.685,.22),"ease-out-quart":u(.165,.84,.44,1),"ease-in-out-quart":u(.77,0,.175,1),"ease-in-quint":u(.755,.05,.855,.06),"ease-out-quint":u(.23,1,.32,1),"ease-in-out-quint":u(.86,0,.07,1),"ease-in-expo":u(.95,.05,.795,.035),"ease-out-expo":u(.19,1,.22,1),"ease-in-out-expo":u(1,0,0,1),"ease-in-circ":u(.6,.04,.98,.335),"ease-out-circ":u(.075,.82,.165,1),"ease-in-out-circ":u(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return f.linear;var r=d(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":function(e,t,n,r){return u(e,t,n,r)}}}}};t.exports=a},{"../define":53,"../is":92,"../util":109}],44:[function(e,t,n){"use strict";var r=e("../define"),i={on:r.on(),one:r.on({unbindSelfOnTrigger:!0}),once:r.on({unbindAllBindersOnTrigger:!0}),off:r.off(),trigger:r.trigger()};r.eventAliasesOn(i),t.exports=i},{"../define":53}],45:[function(e,t,n){"use strict";var r={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};r.jpeg=r.jpg,t.exports=r},{}],46:[function(e,t,n){"use strict";var r=e("../window"),i=e("../util"),o=e("../collection"),a=e("../is"),s=e("../promise"),u=e("../define"),l=function(e){var t=this;e=i.extend({},e);var n=e.container;n&&!a.htmlElement(n)&&a.htmlElement(n[0])&&(n=n[0]);var u=n?n._cyreg:null;u=u||{},u&&u.cy&&(u.cy.destroy(),u={});var l=u.readies=u.readies||[];n&&(n._cyreg=u),u.cy=t;var c=void 0!==r&&void 0!==n&&!e.headless,h=e;h.layout=i.extend({name:c?"grid":"null"},h.layout),h.renderer=i.extend({name:c?"canvas":"null"},h.renderer);var d=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},f=this._private={container:n,ready:!1,initrender:!1,options:h,elements:new o(this),listeners:[],aniEles:new o(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,h.zoomingEnabled),userZoomingEnabled:d(!0,h.userZoomingEnabled),panningEnabled:d(!0,h.panningEnabled),userPanningEnabled:d(!0,h.userPanningEnabled),boxSelectionEnabled:d(!0,h.boxSelectionEnabled),autolock:d(!1,h.autolock,h.autolockNodes),autoungrabify:d(!1,h.autoungrabify,h.autoungrabifyNodes),autounselectify:d(!1,h.autounselectify),styleEnabled:void 0===h.styleEnabled?c:h.styleEnabled,zoom:a.number(h.zoom)?h.zoom:1,pan:{x:a.plainObject(h.pan)&&a.number(h.pan.x)?h.pan.x:0,y:a.plainObject(h.pan)&&a.number(h.pan.y)?h.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1},p=h.selectionType;void 0===p||"additive"!==p&&"single"!==p?f.selectionType="single":f.selectionType=p,a.number(h.minZoom)&&a.number(h.maxZoom)&&h.minZoom<h.maxZoom?(f.minZoom=h.minZoom,f.maxZoom=h.maxZoom):a.number(h.minZoom)&&void 0===h.maxZoom?f.minZoom=h.minZoom:a.number(h.maxZoom)&&void 0===h.minZoom&&(f.maxZoom=h.maxZoom);var g=function(e,t){var n=e.some(a.promise);return n?s.all(e).then(t):void t(e)};t.initRenderer(i.extend({hideEdgesOnViewport:h.hideEdgesOnViewport,textureOnViewport:h.textureOnViewport,wheelSensitivity:a.number(h.wheelSensitivity)&&h.wheelSensitivity>0?h.wheelSensitivity:1,motionBlur:void 0!==h.motionBlur&&h.motionBlur,motionBlurOpacity:void 0===h.motionBlurOpacity?.05:h.motionBlurOpacity,pixelRatio:a.number(h.pixelRatio)&&h.pixelRatio>0?h.pixelRatio:void 0,desktopTapThreshold:void 0===h.desktopTapThreshold?4:h.desktopTapThreshold,touchTapThreshold:void 0===h.touchTapThreshold?8:h.touchTapThreshold},h.renderer)),g([h.style,h.elements],function(e){var n=e[0],r=e[1];f.styleEnabled&&t.setStyle(n),h.initrender&&(t.on("initrender",h.initrender),t.on("initrender",function(){f.initrender=!0})),t.load(r,function(){t.startAnimationLoop(),f.ready=!0,a.fn(h.ready)&&t.on("ready",h.ready);for(var e=0;e<l.length;e++){var n=l[e];t.on("ready",n)}u&&(u.readies=[]),t.trigger("ready")},h.done)})},c=l.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},ready:function(e){return this.isReady()?this.trigger("ready",[],e):this.on("ready",e),this},initrender:function(){return this._private.initrender},destroy:function(){var e=this;e.stopAnimationLoop(),e.notify({type:"destroy"});var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);return e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(a.plainObject(e)){if(t.startBatch(),e.elements){var o={},s=function(e,n){for(var r=0;r<e.length;r++){var a=e[r],s=a.data.id,u=t.getElementById(s);o[s]=!0,0!==u.length?u.json(a):n?t.add(i.extend({group:n},a)):t.add(a)}};if(a.array(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],h=e.elements[c];a.array(h)&&s(h,c)}r.stdFilter(function(e){return!o[e.id()]}).remove()}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan));for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],l=0;l<d.length;l++){var f=d[l];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}if(void 0===e){var p={};return p.elements={},r.forEach(function(e){var t=e.group();p.elements[t]||(p.elements[t]=[]),p.elements[t].push(e.json())}),this._private.styleEnabled&&(p.style=t.style().json()),p.zoomingEnabled=t._private.zoomingEnabled,p.userZoomingEnabled=t._private.userZoomingEnabled,p.zoom=t._private.zoom,p.minZoom=t._private.minZoom,p.maxZoom=t._private.maxZoom,p.panningEnabled=t._private.panningEnabled,p.userPanningEnabled=t._private.userPanningEnabled,p.pan=i.copy(t._private.pan),p.boxSelectionEnabled=t._private.boxSelectionEnabled,p.renderer=i.copy(t._private.options.renderer),p.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport,p.textureOnViewport=t._private.options.textureOnViewport,p.wheelSensitivity=t._private.options.wheelSensitivity,p.motionBlur=t._private.options.motionBlur,p}},scratch:u.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:u.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),[e("./add-remove"),e("./animation"),e("./events"),e("./export"),e("./layout"),e("./notification"),e("./renderer"),e("./search"),e("./style"),e("./viewport")].forEach(function(e){i.extend(c,e)}),t.exports=l},{"../collection":35,"../define":53,"../is":92,"../promise":95,"../util":109,"../window":116,"./add-remove":42,"./animation":43,"./events":44,"./export":45,"./layout":47,"./notification":48,"./renderer":49,"./search":50,"./style":51,"./viewport":52}],47:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),o={layout:function(e){var t=this._private.prevLayout=null==e?this._private.prevLayout:this.makeLayout(e);return t.run(),this},makeLayout:function(e){var t=this;if(null==e)return void r.error("Layout options must be specified to make a layout");if(null==e.name)return void r.error("A `name` must be specified to make a layout");var n=e.name,o=t.extension("layout",n);if(null==o)return void r.error("Can not apply layout: No such layout `"+n+"` found; did you include its JS file?");var a;a=i.string(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var s=new o(r.extend({},e,{cy:t,eles:a}));return s}};o.createLayout=o.makeLayout,t.exports=o},{"../is":92,"../util":109}],48:[function(e,t,n){"use strict";var r={notify:function(e){var t=this._private;if(t.batchingNotify){var n=t.batchNotifyEles,r=t.batchNotifyTypes;return e.eles&&n.merge(e.eles),void(r.ids[e.type]||(r.push(e.type),r.ids[e.type]=!0));
}if(t.notificationsEnabled){var i=this.renderer();i.notify(e)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:void(t.notificationsEnabled=!!e)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=this.collection(),e.batchNotifyEles=this.collection(),e.batchNotifyTypes=[],e.batchNotifyTypes.ids={}),e.batchCount++,this},endBatch:function(){var e=this._private;return e.batchCount--,0===e.batchCount&&(e.batchingStyle=!1,e.batchStyleEles.updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var n=id[r],i=e[id],o=t.getElementById(id);o.data(i)}})}};t.exports=r},{}],49:[function(e,t,n){"use strict";var r=e("../util"),i={renderTo:function(e,t,n,r){var i=this._private.renderer;return i.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null==n)return void r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name);var i=r.extend({},e,{cy:t});t._private.renderer=new n(i)},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i.invalidateDimensions=i.resize,t.exports=i},{"../util":109}],50:[function(e,t,n){"use strict";var r=e("../is"),i=e("../collection"),o={collection:function(e,t){return r.string(e)?this.$(e):r.elementOrCollection(e)?e.collection():r.array(e)?new i(this,e,t):new i(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};o.elements=o.filter=o.$,t.exports=o},{"../collection":35,"../is":92}],51:[function(e,t,n){"use strict";var r=e("../is"),i=e("../style"),o={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return r.stylesheet(e)?t.style=e.generateStyle(this):r.array(e)?t.style=i.fromJson(this,e):r.string(e)?t.style=i.fromString(this,e):t.style=i(this),t.style}};t.exports=o},{"../is":92,"../style":101}],52:[function(e,t,n){"use strict";var r=e("../is"),i={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,i,o,a=arguments,s=this._private.pan;switch(a.length){case 0:return s;case 1:if(r.string(a[0]))return e=a[0],s[e];if(r.plainObject(a[0])){if(!this._private.panningEnabled)return this;n=a[0],i=n.x,o=n.y,r.number(i)&&(s.x=i),r.number(o)&&(s.y=o),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=a[0],t=a[1],"x"!==e&&"y"!==e||!r.number(t)||(s[e]=t),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e){var t,n,i,o,a,s=arguments,u=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:r.plainObject(s[0])&&(i=s[0],o=i.x,a=i.y,r.number(o)&&(u.x+=o),r.number(a)&&(u.y+=a),this.trigger("pan viewport"));break;case 2:t=s[0],n=s[1],"x"!==t&&"y"!==t||!r.number(n)||(u[t]+=n),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(r.number(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n;if(r.string(e)){var i=e;e=this.$(i)}else if(r.boundingBox(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else r.elementOrCollection(e)||(e=this.mutableElements());n=n||e.boundingBox();var a,s=this.width(),u=this.height();if(t=r.number(t)?t:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){a=Math.min((s-2*t)/n.w,(u-2*t)/n.h),a=a>this._private.maxZoom?this._private.maxZoom:a,a=a<this._private.minZoom?this._private.minZoom:a;var l={x:(s-a*(n.x1+n.x2))/2,y:(u-a*(n.y1+n.y2))/2};return{zoom:a,pan:l}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(r.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(r.number(e)&&(this._private.maxZoom=e),this)},zoom:function(e){var t,n;if(void 0===e)return this._private.zoom;if(r.number(e))n=e;else if(r.plainObject(e)){if(n=e.level,e.position){var i=e.position,o=this._private.pan,a=this._private.zoom;t={x:i.x*a+o.x,y:i.y*a+o.y}}else e.renderedPosition&&(t=e.renderedPosition);if(t&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!r.number(n)||t&&(!r.number(t.x)||!r.number(t.y)))return this;if(n=n>this._private.maxZoom?this._private.maxZoom:n,n=n<this._private.minZoom?this._private.minZoom:n,t){var s=this._private.pan,u=this._private.zoom,l=n,c={x:-l/u*(t.x-s.x)+t.x,y:-l/u*(t.y-s.y)+t.y};this._private.zoom=n,this._private.pan=c;var h=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(h?" pan ":"")+" viewport ")}else this._private.zoom=n,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(e){var t=this._private,n=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(r.number(e.zoom)||(n=!1),r.plainObject(e.pan)||(i=!1),!n&&!i)return this;if(n){var u=e.zoom;u<t.minZoom||u>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=u,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;r.number(l.x)&&(t.pan.x=l.x,s=!1),r.number(l.y)&&(t.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.trigger(o.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(r.string(e)){var n=e;e=this.mutableElements().filter(n)}else r.elementOrCollection(e)||(e=this.mutableElements());var i=e.boundingBox(),o=this.width(),a=this.height();t=void 0===t?this._private.zoom:t;var s={x:(o-t*(i.x1+i.x2))/2,y:(a-t*(i.y1+i.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?{width:t.clientWidth,height:t.clientHeight}:{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};i.centre=i.center,i.autolockNodes=i.autolock,i.autoungrabifyNodes=i.autoungrabify,t.exports=i},{"../is":92}],53:[function(e,t,n){"use strict";var r=e("./util"),i=e("./is"),o=e("./selector"),a=e("./promise"),s=e("./event"),u=e("./animation"),l={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};return e=r.extend({},t,e),function(t,n){var r=e,o=this,a=void 0!==o.length,s=a?o:[o],u=a?o[0]:o;if(i.string(t)){if(r.allowGetting&&void 0===n){var l;return u&&(l=u._private[r.field][t]),l}if(r.allowSetting&&void 0!==n){var c=!r.immutableKeys[t];if(c){for(var h=0,d=s.length;h<d;h++)r.canSet(s[h])&&(s[h]._private[r.field][t]=n);r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}}}else if(r.allowSetting&&i.plainObject(t)){for(var f,p,g=t,v=Object.keys(g),h=0;h<v.length;h++){f=v[h],p=g[f];var c=!r.immutableKeys[f];if(c)for(var y=0;y<s.length;y++){var m=s[y];r.canSet(m)&&(m._private[r.field][f]=p)}}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&i.fn(t)){var x=t;o.on(r.bindingEvent,x)}else if(r.allowGetting&&void 0===t){var l;return u&&(l=u._private[r.field]),l}return o}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=r.extend({},t,e),function(t){var n=e,r=this,o=void 0!==r.length,a=o?r:[r];if(i.string(t)){for(var s=t.split(/\s+/),u=s.length,l=0;l<u;l++){var c=s[l];if(!i.emptyString(c)){var h=!n.immutableKeys[c];if(h)for(var d=0,f=a.length;d<f;d++)a[d]._private[n.field][c]=void 0}}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var d=0,f=a.length;d<f;d++)for(var p=a[d]._private[n.field],s=Object.keys(p),l=0;l<s.length;l++){var c=s[l],g=!n.immutableKeys[c];g&&(p[c]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}},event:{regex:/(\w+)(\.(?:\w+|\*))?/,universalNamespace:".*",optionalTypeRegex:/(\w+)?(\.(?:\w+|\*))?/,falseCallback:function(){return!1}},on:function(e){var t={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return e=r.extend({},t,e),function(t,n,r,a){var s=this,u=void 0!==s.length,c=u?s:[s],h=i.string(t),d=e;if(i.plainObject(n)?(a=r,r=n,n=void 0):(i.fn(n)||n===!1)&&(a=n,r=void 0,n=void 0),(i.fn(r)||r===!1)&&(a=r,r=void 0),!i.fn(a)&&a!==!1&&h)return s;if(h){var f={};f[t]=a,t=f}for(var p=Object.keys(t),g=0;g<p.length;g++){var v=p[g];if(a=t[v],a===!1&&(a=l.event.falseCallback),i.fn(a)){v=v.split(/\s+/);for(var y=0;y<v.length;y++){var m=v[y];if(!i.emptyString(m)){var x=m.match(l.event.regex);if(x)for(var b=x[1],w=x[2]?x[2]:void 0,E={callback:a,data:r,delegated:!!n,selector:n,selObj:new o(n),type:b,namespace:w,unbindSelfOnTrigger:d.unbindSelfOnTrigger,unbindAllBindersOnTrigger:d.unbindAllBindersOnTrigger,binders:c},_=0;_<c.length;_++){var T=c[_]._private=c[_]._private||{};T.listeners=T.listeners||[],T.listeners.push(E)}}}}}return s}},eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.removeListener=t.unlisten=t.unbind=t.off,t.emit=t.trigger,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new a(function(e,t){var i=function(t){n.off.apply(n,a),e(t)},o=r.concat([i]),a=o.concat([]);n.on.apply(n,o)})}},off:function(e){var t={};return e=r.extend({},t,e),function(e,t,n){var r=this,o=void 0!==r.length,a=o?r:[r],s=i.string(e);if(0===arguments.length){for(var u=0;u<a.length;u++)a[u]._private=a[u]._private||{},x.listeners=[];return r}if((i.fn(t)||t===!1)&&(n=t,t=void 0),s){var c={};c[e]=n,e=c}for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n=e[f],n===!1&&(n=l.event.falseCallback),f=f.split(/\s+/);for(var p=0;p<f.length;p++){var g=f[p];if(!i.emptyString(g)){var v=g.match(l.event.optionalTypeRegex);if(v)for(var y=v[1]?v[1]:void 0,m=v[2]?v[2]:void 0,u=0;u<a.length;u++)for(var x=a[u]._private=a[u]._private||{},b=x.listeners=x.listeners||[],w=0;w<b.length;w++){var E=b[w],_=!m||m===E.namespace,T=!y||E.type===y,N=!n||n===E.callback,k=_&&T&&N;k&&(b.splice(w,1),w--)}}}}return r}},trigger:function(e){var t={};return e=r.extend({},t,e),function(t,n,r){var o=this,a=void 0!==o.length,u=a?o:[o],c=i.string(t),h=i.plainObject(t),d=i.event(t),f=this._private=this._private||{},p=f.cy||(i.core(this)?this:null),g=!!p&&p.hasCompoundNodes();if(c){var v=t.split(/\s+/);t=[];for(var y=0;y<v.length;y++){var m=v[y];if(!i.emptyString(m)){var x=m.match(l.event.regex),b=x[1],w=x[2]?x[2]:void 0;t.push({type:b,namespace:w})}}}else if(h){var E=t;t=[E]}n?i.array(n)||(n=[n]):n=[];for(var y=0;y<t.length;y++)for(var _=t[y],T=0;T<u.length;T++){var m,N=u[T],f=N._private=N._private||{},k=f.listeners=f.listeners||[],D=i.element(N),C=D||e.layout;if(d?(m=_,m.cyTarget=m.cyTarget||N,m.cy=m.cy||p):m=new s(_,{cyTarget:N,cy:p,namespace:_.namespace}),_.layout&&(m.layout=_.layout),e.layout&&(m.layout=N),m.cyPosition){var S=m.cyPosition,L=p.zoom(),A=p.pan();m.cyRenderedPosition={x:S.x*L+A.x,y:S.y*L+A.y}}r&&(k=[{namespace:m.namespace,type:m.type,callback:r}]);for(var I=0;I<k.length;I++){var M=k[I],P=!M.namespace||M.namespace===m.namespace||M.namespace===l.event.universalNamespace,O=M.type===m.type,R=!M.delegated||N!==m.cyTarget&&i.element(m.cyTarget)&&M.selObj.matches(m.cyTarget),F=P&&O&&R;if(F){var j=[m];if(j=j.concat(n),M.data?m.data=M.data:m.data=void 0,(M.unbindSelfOnTrigger||M.unbindAllBindersOnTrigger)&&(k.splice(I,1),I--),M.unbindAllBindersOnTrigger)for(var B=M.binders,q=0;q<B.length;q++){var z=B[q];if(z&&z!==N)for(var V=z._private.listeners,Y=0;Y<V.length;Y++){var X=V[Y];X===M&&(V.splice(Y,1),Y--)}}var U=M.delegated?m.cyTarget:N,G=M.callback.apply(U,j);(G===!1||m.isPropagationStopped())&&(C=!1,G===!1&&(m.stopPropagation(),m.preventDefault()))}}if(C){var H=g?N._private.parent:null,W=null!=H&&0!==H.length;W?(H=H[0],H.trigger(m)):p.trigger(m)}}return o}},animated:function(e){var t={};return e=r.extend({},t,e),function(){var e=this,t=void 0!==e.length,n=t?e:[e],r=this._private.cy||this;if(!r.styleEnabled())return!1;var i=n[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(e){var t={};return e=r.extend({},t,e),function(){var e=this,t=void 0!==e.length,n=t?e:[e],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){var o=n[i];o._private.animation.queue=[]}return this}},delay:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this._private.cy||this;return n.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this._private.cy||this;return n.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this,i=void 0!==n.length,o=i?n:[n],a=this._private.cy||this,s=!i,l=!s;if(!a.styleEnabled())return this;var c=a.style();switch(e=r.extend({},e,t),void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}var h=0===Object.keys(e).length;if(h)return new u(o[0],e);if(l&&(e.style=c.getPropsList(e.style||e.css),e.css=void 0),e.renderedPosition&&l){var d=e.renderedPosition,f=a.pan(),p=a.zoom();e.position={x:(d.x-f.x)/p,y:(d.y-f.y)/p}}if(e.panBy&&s){var g=e.panBy,v=a.pan();e.pan={x:v.x+g.x,y:v.y+g.y}}var y=e.center||e.centre;if(y&&s){var m=a.getCenterPan(y.eles,e.zoom);m&&(e.pan=m)}if(e.fit&&s){var x=e.fit,b=a.getFitViewport(x.eles||x.boundingBox,x.padding);b&&(e.pan=b.pan,e.zoom=b.zoom)}return new u(o[0],e)}},animate:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this,i=void 0!==n.length,o=i?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;t&&(e=r.extend({},e,t));for(var s=0;s<o.length;s++){var u=o[s],l=u.animated()&&(void 0===e.queue||e.queue),c=u.animation(e,l?{queue:!0}:void 0);c.play()}return this}},stop:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){for(var s=i[a],u=s._private,l=u.animation.current,c=0;c<l.length;c++){var h=l[c],d=h._private;t&&(d.duration=0)}e&&(u.animation.queue=[]),t||(u.animation.current=[])}return o.notify({eles:this,type:"draw"}),this}}};t.exports=l},{"./animation":11,"./event":54,"./is":92,"./promise":95,"./selector":96,"./util":109}],54:[function(e,t,n){"use strict";function r(){return!1}function i(){return!0}var o=function(e,t){return this instanceof o?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?i:r):this.type=e,t&&(this.type=void 0!==t.type?t.type:this.type,this.cy=t.cy,this.cyTarget=t.cyTarget,this.cyPosition=t.cyPosition,this.cyRenderedPosition=t.cyRenderedPosition,this.namespace=t.namespace,this.layout=t.layout,this.data=t.data,this.message=t.message),void(this.timeStamp=e&&e.timeStamp||Date.now())):new o(e,t)};o.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=i;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=i;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},t.exports=o},{}],55:[function(e,t,n){"use strict";function r(e,t,n){var r=n,o=function(n){s.error("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(c.prototype[t])return o(t);c.prototype[t]=n}else if("collection"===e){if(l.prototype[t])return o(t);l.prototype[t]=n}else if("layout"===e){for(var a=function(e){this.options=e,n.call(this,e),d.plainObject(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[]},h=a.prototype=Object.create(n.prototype),p=[],g=0;g<p.length;g++){var v=p[g];h[v]=h[v]||function(){return this}}h.start&&!h.run?h.run=function(){return this.start(),this}:!h.start&&h.run&&(h.start=function(){return this.run(),this}),h.stop||(h.stop=function(){var e=this.options;if(e&&e.animate)for(var t=this.animations,n=0;n<t.length;n++)t[n].stop();return this.trigger("layoutstop"),this}),h.destroy||(h.destroy=function(){return this}),h.on=u.on({layout:!0}),h.one=u.on({layout:!0,unbindSelfOnTrigger:!0}),h.once=u.on({layout:!0,unbindAllBindersOnTrigger:!0}),h.off=u.off({layout:!0}),h.trigger=u.trigger({layout:!0}),u.eventAliasesOn(h),r=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var y=i("renderer","base"),m=y.prototype,x=n,b=n.prototype,w=function(){y.apply(this,arguments),x.apply(this,arguments)},E=w.prototype;for(var _ in m){var T=m[_],N=null!=b[_];if(N)return o(_);E[_]=T}for(var _ in b)E[_]=b[_];m.clientFunctions.forEach(function(e){E[e]=E[e]||function(){s.error("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=w}return s.setMap({map:f,keys:[e,t],value:r})}function i(e,t){return s.getMap({map:f,keys:[e,t]})}function o(e,t,n,r,i){return s.setMap({map:p,keys:[e,t,n,r],value:i})}function a(e,t,n,r){return s.getMap({map:p,keys:[e,t,n,r]})}var s=e("./util"),u=e("./define"),l=e("./collection"),c=e("./core"),h=e("./extensions"),d=e("./is"),f={},p={},g=function(){return 2===arguments.length?i.apply(null,arguments):3===arguments.length?r.apply(null,arguments):4===arguments.length?a.apply(null,arguments):5===arguments.length?o.apply(null,arguments):void s.error("Invalid extension access syntax")};c.prototype.extension=g,h.forEach(function(e){e.extensions.forEach(function(t){r(e.type,t.name,t.impl)})}),t.exports=g},{"./collection":35,"./core":46,"./define":53,"./extensions":56,"./is":92,"./util":109}],56:[function(e,t,n){"use strict";t.exports=[{type:"layout",extensions:e("./layout")},{type:"renderer",extensions:e("./renderer")}]},{"./layout":62,"./renderer":87}],57:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},s,e)}var i=e("../../util"),o=e("../../math"),a=e("../../is"),s={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,i=n.eles,s=i.nodes().not(":parent"),u=i,l=o.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.elementOrCollection(n.roots))e=n.roots;else if(a.array(n.roots)){for(var c=[],h=0;h<n.roots.length;h++){var d=n.roots[h],f=r.getElementById(d);c.push(f)}e=r.collection(c)}else if(a.string(n.roots))e=r.$(n.roots);else if(n.directed)e=s.roots();else{for(var p=[],g=s;g.length>0;){var v=r.collection();i.bfs({roots:g[0],visit:function(e,t,n,r,i){v=v.add(n)},directed:!1}),g=g.not(v),p.push(v)}e=r.collection();for(var h=0;h<p.length;h++){var y=p[h],m=y.maxDegree(!1),x=y.filter(function(){return this.degree(!1)===m});e=e.add(x)}}var b=[],w={},E={},_={},T={},N={};u.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,i){var o=this[0],a=o.id();if(b[t]||(b[t]=[]),b[t].push(o),w[a]=!0,E[a]=t,_[a]=i,T[a]=r,i){var s=i.id(),u=N[s]=N[s]||[];u.push(n)}}});for(var k=[],h=0;h<s.length;h++){var f=s[h];w[f.id()]||k.push(f)}for(var D=3*k.length,C=0;0!==k.length&&C<D;){for(var S=k.shift(),L=S.neighborhood().nodes(),A=!1,h=0;h<L.length;h++){var I=E[L[h].id()];if(void 0!==I){b[I].push(S),A=!0;break}}A||k.push(S),C++}for(;0!==k.length;){var S=k.shift(),A=!1;A||(0===b.length&&b.push([]),b[0].push(S))}var M=function(){for(var e=0;e<b.length;e++)for(var t=b[e],n=0;n<t.length;n++){var r=t[n];r._private.scratch.breadthfirst={depth:e,index:n}}};M();for(var P=function(e){for(var t,n=e.connectedEdges(function(){return this.data("target")===e.id()}),r=e._private.scratch.breadthfirst,i=0,o=0;o<n.length;o++){var a=n[o],s=a.source()[0],u=s._private.scratch.breadthfirst;r.depth<=u.depth&&i<u.depth&&(i=u.depth,t=s)}return t},O=0;O<n.maximalAdjustments;O++){for(var R=b.length,F=[],h=0;h<R;h++)for(var I=b[h],j=I.length,B=0;B<j;B++){var f=I[B],q=f._private.scratch.breadthfirst,z=P(f);z&&(q.intEle=z,F.push(f))}for(var h=0;h<F.length;h++){var f=F[h],q=f._private.scratch.breadthfirst,z=q.intEle,V=z._private.scratch.breadthfirst;b[q.depth].splice(q.index,1);for(var Y=V.depth+1;Y>b.length-1;)b.push([]);b[Y].push(f),q.depth=Y,q.index=b[Y].length-1}M()}var X=0;if(n.avoidOverlap){for(var h=0;h<s.length;h++){var U=s[h],G=U.boundingBox(),H=G.w,W=G.h;X=Math.max(X,H,W)}X*=n.spacingFactor}for(var $={},Z=function(e){if($[e.id()])return $[e.id()];for(var t=e._private.scratch.breadthfirst.depth,n=e.neighborhood().nodes().not(":parent"),r=0,i=0,o=0;o<n.length;o++){var a=n[o],s=a._private.scratch.breadthfirst,u=s.index,l=s.depth,c=b[l].length;(t>l||0===t)&&(r+=u/c,i++)}return i=Math.max(1,i),r/=i,0===i&&(r=void 0),$[e.id()]=r,r},Q=function(e,t){var n=Z(e),r=Z(t);return n-r},K=0;K<3;K++){for(var h=0;h<b.length;h++)b[h]=b[h].sort(Q);M()}for(var J=0,h=0;h<b.length;h++)J=Math.max(b[h].length,J);for(var ee={x:l.x1+l.w/2,y:l.x1+l.h/2},te=function(e,t){var r=e._private.scratch.breadthfirst,i=r.depth,o=r.index,a=b[i].length,s=Math.max(l.w/(a+1),X),u=Math.max(l.h/(b.length+1),X),c=Math.min(l.w/2/b.length,l.h/2/b.length);if(c=Math.max(c,X),n.circle){if(n.circle){var h=c*i+c-(b.length>0&&b[0].length<=3?c/2:0),d=2*Math.PI/b[i].length*o;return 0===i&&1===b[0].length&&(h=1),{x:ee.x+h*Math.cos(d),y:ee.y+h*Math.sin(d)}}return{x:ee.x+(o+1-(a+1)/2)*s,y:(i+1)*u}}var f={x:ee.x+(o+1-(a+1)/2)*s,y:(i+1)*u};return t?f:f},ne={},h=b.length-1;h>=0;h--)for(var I=b[h],B=0;B<I.length;B++){var S=I[B];ne[S.id()]=te(S,h===b.length-1)}return s.layoutPositions(this,n,function(){return ne[this.id()]}),this},t.exports=r},{"../../is":92,"../../math":94,"../../util":109}],58:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},s,e)}var i=e("../../util"),o=e("../../math"),a=e("../../is"),s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=r.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var u,l=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),c={x:l.x1+l.w/2,y:l.y1+l.h/2},h=void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep,d=h/Math.max(1,s.length-1),f=0,p=0;p<s.length;p++){var g=s[p],v=g.boundingBox(),y=v.w,m=v.h;f=Math.max(f,y,m)}if(u=a.number(t.radius)?t.radius:s.length<=1?0:Math.min(l.h,l.w)/2-f,s.length>1&&t.avoidOverlap){f*=1.75;var x=Math.cos(d)-Math.cos(0),b=Math.sin(d)-Math.sin(0),w=Math.sqrt(f*f/(x*x+b*b));u=Math.max(w,u)}var E=function(e,n){var r=t.startAngle+e*d*(i?1:-1),o=u*Math.cos(r),a=u*Math.sin(r),s={x:c.x+o,y:c.y+a};return s};return s.layoutPositions(this,t,E),this},t.exports=r},{"../../is":92,"../../math":94,"../../util":109}],59:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=e("../../util"),o=e("../../math"),a={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],c=t.startAngle,h=0,d=0;d<a.length;d++){var f,p=a[d];f=t.concentric.apply(p,[p]),l.push({value:f,node:p}),p._private.scratch.concentric=f}a.updateStyle();for(var d=0;d<a.length;d++){var p=a[d],g=p.boundingBox();h=Math.max(h,g.w,g.h)}l.sort(function(e,t){return t.value-e.value});for(var v=t.levelWidth(a),y=[[]],m=y[0],d=0;d<l.length;d++){var x=l[d];if(m.length>0){var b=Math.abs(m[0].value-x.value);b>=v&&(m=[],y.push(m))}m.push(x)}var w=h+t.minNodeSpacing;if(!t.avoidOverlap){var E=y.length>0&&y[0].length>1,_=Math.min(s.w,s.h)/2-w,T=_/(y.length+E?1:0);w=Math.min(w,T)}for(var N=0,d=0;d<y.length;d++){var k=y[d],D=void 0===t.sweep?2*Math.PI-2*Math.PI/k.length:t.sweep,C=k.dTheta=D/Math.max(1,k.length-1);if(k.length>1&&t.avoidOverlap){var S=Math.cos(C)-Math.cos(0),L=Math.sin(C)-Math.sin(0),A=Math.sqrt(w*w/(S*S+L*L));N=Math.max(A,N)}k.r=N,N+=w}if(t.equidistant){for(var I=0,N=0,d=0;d<y.length;d++){var k=y[d],M=k.r-N;I=Math.max(I,M)}N=0;for(var d=0;d<y.length;d++){var k=y[d];0===d&&(N=k.r),k.r=N,N+=I}}for(var P={},d=0;d<y.length;d++)for(var k=y[d],C=k.dTheta,N=k.r,O=0;O<k.length;O++){var x=k[O],c=t.startAngle+(n?1:-1)*C*O,R={x:u.x+N*Math.cos(c),y:u.y+N*Math.sin(c)};P[x.node.id()]=R}return a.layoutPositions(this,t,function(){var e=this.id();return P[e]}),this},t.exports=r},{"../../math":94,"../../util":109}],60:[function(e,t,n){"use strict";function r(e){this.options=o.extend({},l,e),this.options.layout=this}var i,o=e("../../util"),a=e("../../math"),s=e("../../thread"),u=e("../../is"),l={ready:function(){},stop:function(){},animate:!0,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,componentSpacing:100,nodeRepulsion:function(e){return 4e5},nodeOverlap:10,idealEdgeLength:function(e){return 10},edgeElasticity:function(e){return 100},nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1,useMultitasking:!0};r.prototype.run=function(){var e=this.options,t=e.cy,n=this,r=this.thread;r&&!r.stopped()||(r=this.thread=s({disabled:!e.useMultitasking})),n.stopped=!1,n.trigger({type:"layoutstart",layout:n}),i=!0===e.debug;var a=c(t,n,e);i&&f(a),p(a,t);var u=Date.now(),l=!1,h=function(n){n=n||{},l&&!n.next||!n.force&&Date.now()-u<e.animationThreshold||(l=!0,o.requestAnimationFrame(function(){g(a,t,e),!0===e.fit&&t.fit(e.padding),l=!1,n.next&&n.next()}))};r.on("message",function(e){var t=e.message;a.layoutNodes=t,h()}),r.pass({layoutInfo:a,options:{animate:e.animate,refresh:e.refresh,componentSpacing:e.componentSpacing,nodeOverlap:e.nodeOverlap,nestingFactor:e.nestingFactor,gravity:e.gravity,numIter:e.numIter,initialTemp:e.initialTemp,coolingFactor:e.coolingFactor,minTemp:e.minTemp}}).run(function(e){var t,n=e.layoutInfo,r=e.options,i=!1,o=function(e,t,n){a(e,t),c(e,t),h(e,t),d(e,t),f(e,t)},a=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=e.layoutNodes[e.idToIndex[r[o]]],u=o+1;u<i;u++){var l=e.layoutNodes[e.idToIndex[r[u]]];s(a,l,e,t)}},s=function(e,t,n,r){var i=e.cmptId,o=t.cmptId;if(i===o||n.isCompound){var a=t.positionX-e.positionX,s=t.positionY-e.positionY;if(0!==a||0!==s){var c=u(e,t,a,s);if(c>0)var h=r.nodeOverlap*c,d=Math.sqrt(a*a+s*s),f=h*a/d,p=h*s/d;else var g=l(e,a,s),v=l(t,-1*a,-1*s),y=v.x-g.x,m=v.y-g.y,x=y*y+m*m,d=Math.sqrt(x),h=(e.nodeRepulsion+t.nodeRepulsion)/x,f=h*y/d,p=h*m/d;e.isLocked||(e.offsetX-=f,e.offsetY-=p),t.isLocked||(t.offsetX+=f,t.offsetY+=p)}}},u=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(r>0)var o=e.maxY-t.minY;else var o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},l=function(e,t,n){var r=e.positionX,i=e.positionY,o=e.height||1,a=e.width||1,s=n/t,u=o/a,l={};do{if(0===t&&0<n){l.x=r,l.y=i+o/2;break}if(0===t&&0>n){l.x=r,l.y=i+o/2;break}if(0<t&&-1*u<=s&&s<=u){l.x=r+a/2,l.y=i+a*n/2/t;break}if(0>t&&-1*u<=s&&s<=u){l.x=r-a/2,l.y=i-a*n/2/t;break}if(0<n&&(s<=-1*u||s>=u)){l.x=r+o*t/2/n,l.y=i+o/2;break}if(0>n&&(s<=-1*u||s>=u)){l.x=r-o*t/2/n,l.y=i-o/2;break}}while(!1);return l},c=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],o=e.layoutNodes[i],a=e.idToIndex[r.targetId],s=e.layoutNodes[a],u=s.positionX-o.positionX,c=s.positionY-o.positionY;if(0===u&&0===c)return;var h=l(o,u,c),d=l(s,-1*u,-1*c),f=d.x-h.x,p=d.y-h.y,g=Math.sqrt(f*f+p*p),v=Math.pow(r.idealLength-g,2)/r.elasticity;if(0!==g)var y=v*f/g,m=v*p/g;else var y=0,m=0;o.isLocked||(o.offsetX+=y,o.offsetY+=m),s.isLocked||(s.offsetX-=y,s.offsetY-=m)}},h=function(e,t){for(var n=1,r=0;r<e.graphSet.length;r++){var i=e.graphSet[r],o=i.length;if(0===r)var a=e.clientHeight/2,s=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],l=e.layoutNodes[e.idToIndex[u.parentId]],a=l.positionX,s=l.positionY;for(var c=0;c<o;c++){var h=e.layoutNodes[e.idToIndex[i[c]]];if(!h.isLocked){var d=a-h.positionX,f=s-h.positionY,p=Math.sqrt(d*d+f*f);if(p>n){var g=t.gravity*d/p,v=t.gravity*f/p;h.offsetX+=g,h.offsetY+=v}}}}},d=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var o=n[r++],a=e.idToIndex[o],s=e.layoutNodes[a],u=s.children;if(0<u.length&&!s.isLocked){for(var l=s.offsetX,c=s.offsetY,h=0;h<u.length;h++){var d=e.layoutNodes[e.idToIndex[u[h]]];d.offsetX+=l,d.offsetY+=c,n[++i]=u[h]}s.offsetX=0,s.offsetY=0}}},f=function(e,t){for(var n=0;n<e.nodeSize;n++){var r=e.layoutNodes[n];0<r.children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var r=e.layoutNodes[n];if(!(0<r.children.length||r.isLocked)){var i=p(r.offsetX,r.offsetY,e.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,g(r,e)}}for(var n=0;n<e.nodeSize;n++){var r=e.layoutNodes[n];0<r.children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,
r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},p=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else var i={x:e,y:t};return i},g=function(e,t){var n=e.parentId;if(null!=n){var r=t.layoutNodes[t.idToIndex[n]],i=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,i=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,i=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,i=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,i=!0),i?g(r,t):void 0}},v=function(e,t){for(var r=n.layoutNodes,i=[],o=0;o<r.length;o++){var a=r[o],s=a.cmptId,u=i[s]=i[s]||[];u.push(a)}for(var l=0,o=0;o<i.length;o++){var c=i[o];if(c){c.x1=1/0,c.x2=-(1/0),c.y1=1/0,c.y2=-(1/0);for(var h=0;h<c.length;h++){var d=c[h];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(e,t){return t.w*t.h-e.w*e.h});for(var f=0,p=0,g=0,v=0,y=Math.sqrt(l)*n.clientWidth/n.clientHeight,o=0;o<i.length;o++){var c=i[o];if(c){for(var h=0;h<c.length;h++){var d=c[h];d.isLocked||(d.positionX+=f,d.positionY+=p)}f+=c.w+t.componentSpacing,g+=c.w+t.componentSpacing,v=Math.max(v,c.h),g>y&&(p+=v+t.componentSpacing,f=0,g=0,v=0)}}},y=function(e){return!i&&(o(n,r,e),n.temperature=n.temperature*r.coolingFactor,!(n.temperature<r.minTemp))},m=0;do{for(var x=0;x<r.refresh&&m<r.numIter;){var t=y(m);if(!t)break;x++,m++}r.animate&&broadcast(n.layoutNodes)}while(t&&m+1<r.numIter);return v(n,r),n}).then(function(e){a.layoutNodes=e.layoutNodes,r.stop(),d()});var d=function(){h({force:!0,next:function(){n.one("layoutstop",e.stop),n.trigger({type:"layoutstop",layout:n})}})};return this},r.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.trigger("layoutstop"),this},r.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:a.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},s=n.eles.components(),l={},c=0;c<s.length;c++)for(var d=s[c],f=0;f<d.length;f++){var p=d[f];l[p.id()]=c}for(var c=0;c<o.nodeSize;c++){var g=i[c],v=g.boundingBox(),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=l[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=v.w,y.width=v.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding-left")),y.padRight=parseFloat(g.style("padding-right")),y.padTop=parseFloat(g.style("padding-top")),y.padBottom=parseFloat(g.style("padding-bottom")),y.nodeRepulsion=u.fn(n.nodeRepulsion)?n.nodeRepulsion.call(g,g):n.nodeRepulsion,o.layoutNodes.push(y),o.idToIndex[y.id]=c}for(var m=[],x=0,b=-1,w=[],c=0;c<o.nodeSize;c++){var g=o.layoutNodes[c],E=g.parentId;null!=E?o.layoutNodes[o.idToIndex[E]].children.push(g.id):(m[++b]=g.id,w.push(g.id))}for(o.graphSet.push(w);x<=b;){var _=m[x++],T=o.idToIndex[_],p=o.layoutNodes[T],N=p.children;if(N.length>0){o.graphSet.push(N);for(var c=0;c<N.length;c++)m[++b]=N[c]}}for(var c=0;c<o.graphSet.length;c++)for(var k=o.graphSet[c],f=0;f<k.length;f++){var D=o.idToIndex[k[f]];o.indexToGraph[D]=c}for(var c=0;c<o.edgeSize;c++){var C=r[c],S={};S.id=C.data("id"),S.sourceId=C.data("source"),S.targetId=C.data("target");var L=u.fn(n.idealEdgeLength)?n.idealEdgeLength.call(C,C):n.idealEdgeLength,A=u.fn(n.edgeElasticity)?n.edgeElasticity.call(C,C):n.edgeElasticity,I=o.idToIndex[S.sourceId],M=o.idToIndex[S.targetId],P=o.indexToGraph[I],O=o.indexToGraph[M];if(P!=O){for(var R=h(S.sourceId,S.targetId,o),F=o.graphSet[R],j=0,y=o.layoutNodes[I];-1===F.indexOf(y.id);)y=o.layoutNodes[o.idToIndex[y.parentId]],j++;for(y=o.layoutNodes[M];-1===F.indexOf(y.id);)y=o.layoutNodes[o.idToIndex[y.parentId]],j++;L*=j*n.nestingFactor}S.idealLength=L,S.elasticity=A,o.layoutEdges.push(S)}return o},h=function(e,t,n){var r=d(e,t,0,n);return 2>r.count?0:r.graph},d=function(e,t,n,r){var i=r.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:n};for(var o=0,a=0;a<i.length;a++){var s=i[a],u=r.idToIndex[s],l=r.layoutNodes[u].children;if(0!==l.length){var c=r.indexToGraph[r.idToIndex[l[0]]],h=d(e,t,c,r);if(0!==h.count){if(1!==h.count)return h;if(o++,2===o)break}}}return{count:o,graph:n}},f=function(e){if(i){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],r="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(r)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var o=e.graphSet,t=0;t<o.length;t++)console.debug("Set : "+t+": "+o[t].toString());for(var r="IndexToGraph",t=0;t<e.indexToGraph.length;t++)r+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(r),r="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var a=e.layoutEdges[t];r+="\nEdge Index: "+t+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(r),r="nodeSize: "+e.nodeSize,r+="\nedgeSize: "+e.edgeSize,r+="\ntemperature: "+e.temperature,console.debug(r)}},p=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},g=function(e,t,n){var r=n.layout,i=n.eles.nodes(),o=e.boundingBox,a={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};n.boundingBox&&(i.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions(function(t,r){var i=e.layoutNodes[e.idToIndex[r.data("id")]];if(n.boundingBox){var s=(i.positionX-a.x1)/a.w,u=(i.positionY-a.y1)/a.h;return{x:o.x1+s*o.w,y:o.y1+u*o.h}}return{x:i.positionX,y:i.positionY}}),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.trigger({type:"layoutready",layout:this}))};t.exports=r},{"../../is":92,"../../math":94,"../../thread":107,"../../util":109}],61:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=e("../../util"),o=e("../../math"),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===a.h||0===a.w)i.layoutPositions(this,t,function(){return{x:a.x1,y:a.y1}});else{var s=i.size(),u=Math.sqrt(s*a.h/a.w),l=Math.round(u),c=Math.round(a.w/a.h*u),h=function(e){if(null==e)return Math.min(l,c);var t=Math.min(l,c);t==l?l=e:c=e},d=function(e){if(null==e)return Math.max(l,c);var t=Math.max(l,c);t==l?l=e:c=e},f=t.rows,p=null!=t.cols?t.cols:t.columns;if(null!=f&&null!=p)l=f,c=p;else if(null!=f&&null==p)l=f,c=Math.ceil(s/l);else if(null==f&&null!=p)c=p,l=Math.ceil(s/c);else if(c*l>s){var g=h(),v=d();(g-1)*v>=s?h(g-1):(v-1)*g>=s&&d(v-1)}else for(;c*l<s;){var g=h(),v=d();(v+1)*g>=s?d(v+1):h(g+1)}var y=a.w/c,m=a.h/l;if(t.condense&&(y=0,m=0),t.avoidOverlap)for(var x=0;x<i.length;x++){var b=i[x],w=b._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var E=b.boundingBox(),_=t.avoidOverlapPadding,T=E.w+_,N=E.h+_;y=Math.max(y,T),m=Math.max(m,N)}for(var k={},D=function(e,t){return!!k["c-"+e+"-"+t]},C=function(e,t){k["c-"+e+"-"+t]=!0},S=0,L=0,A=function(){L++,L>=c&&(L=0,S++)},I={},x=0;x<i.length;x++){var b=i[x],M=t.position(b);if(M&&(void 0!==M.row||void 0!==M.col)){var w={row:M.row,col:M.col};if(void 0===w.col)for(w.col=0;D(w.row,w.col);)w.col++;else if(void 0===w.row)for(w.row=0;D(w.row,w.col);)w.row++;I[b.id()]=w,C(w.row,w.col)}}var P=function(e,t){var n,r;if(t.locked()||t.isParent())return!1;var i=I[t.id()];if(i)n=i.col*y+y/2+a.x1,r=i.row*m+m/2+a.y1;else{for(;D(S,L);)A();n=L*y+y/2+a.x1,r=S*m+m/2+a.y1,C(S,L),A()}return{x:n,y:r}};i.layoutPositions(this,t,P)}return this},t.exports=r},{"../../math":94,"../../util":109}],62:[function(e,t,n){"use strict";t.exports=[{name:"breadthfirst",impl:e("./breadthfirst")},{name:"circle",impl:e("./circle")},{name:"concentric",impl:e("./concentric")},{name:"cose",impl:e("./cose")},{name:"grid",impl:e("./grid")},{name:"null",impl:e("./null")},{name:"preset",impl:e("./preset")},{name:"random",impl:e("./random")}]},{"./breadthfirst":57,"./circle":58,"./concentric":59,"./cose":60,"./grid":61,"./null":63,"./preset":64,"./random":65}],63:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=e("../../util"),o={ready:function(){},stop:function(){}};r.prototype.run=function(){var e=this.options,t=e.eles,n=this;e.cy;return n.trigger("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.trigger("layoutready"),n.one("layoutstop",e.stop),n.trigger("layoutstop"),this},r.prototype.stop=function(){return this},t.exports=r},{"../../util":109}],64:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=e("../../util"),o=e("../../is"),a={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){function e(e){if(null==t.positions)return null;if(i)return t.positions.apply(e,[e]);var n=t.positions[e._private.data.id];return null==n?null:n}var t=this.options,n=t.eles,r=n.nodes(),i=o.fn(t.positions);return r.layoutPositions(this,t,function(t,n){var r=e(n);return!n.locked()&&null!=r&&r}),this},t.exports=r},{"../../is":92,"../../util":109}],65:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=e("../../util"),o=e("../../math"),a={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=n.nodes().not(":parent"),i=o.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}};return r.layoutPositions(this,e,a),this},t.exports=r},{"../../math":94,"../../util":109}],66:[function(e,t,n){"use strict";var r=e("../../../math"),i=e("../../../is"),o=e("../../../util"),a={};a.arrowShapeWidth=.3,a.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,o){var a=i.x-n/2-o,s=i.x+n/2+o,u=i.y-n/2-o,l=i.y+n/2+o,c=a<=e&&e<=s&&u<=t&&t<=l;return c},a=function(e,t,n,r,i){var o=e*Math.cos(r)-t*Math.sin(r),a=e*Math.sin(r)+t*Math.cos(r),s=o*n,u=a*n,l=s+i.x,c=u+i.y;return{x:l,y:c}},s=function(e,t,n,r){for(var i=[],o=0;o<e.length;o+=2){var s=e[o],u=e[o+1];i.push(a(s,u,t,n,r))}return i},u=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},l=function(a,l){i.string(l)&&(l=e[l]),e[a]=o.extend({name:a,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,i,o,a){var l=u(s(this.points,n+2*a,i,o)),c=r.pointInsidePolygonPoints(e,t,l);return c},roughCollide:n,draw:function(e,n,r,i){var o=s(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:function(e){return 2*e.pstyle("width").pfValue}},l)};l("none",{collide:o.falsify,roughCollide:o.falsify,draw:o.noop,spacing:o.zeroify,gap:o.zeroify}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,r,i){var o=s(this.points,n,r,i),u=this.controlPoint,l=a(u[0],u[1],n,r,i);t.arrowShapeImpl(this.name)(e,o,l)},gap:function(e){return e.pstyle("width").pfValue}}),l("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,i,o,a){var l=u(s(this.points,n+2*a,i,o)),c=u(s(this.pointsTee,n+2*a,i,o)),h=r.pointInsidePolygonPoints(e,t,l)||r.pointInsidePolygonPoints(e,t,c);return h},draw:function(e,n,r,i){var o=s(this.points,n,r,i),a=s(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,o,a)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return e.pstyle("width").pfValue}}),l("circle",{radius:.15,collide:function(e,t,n,r,i,o){var a=i,s=Math.pow(a.x-e,2)+Math.pow(a.y-t,2)<=Math.pow((n+2*o)*this.radius,2);return s},draw:function(e,n,r,i){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue)*this.radius}}),l("inhibitor",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),l("tee","inhibitor"),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue}})},t.exports=a},{"../../../is":92,"../../../math":94,"../../../util":109}],67:[function(e,t,n){"use strict";function r(e,t,n){for(var r=function(e,t,n,r){return i.qbezierAt(e,t,n,r)},o=t._private,a=o.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var u=e.bezierProjPcts[s];a.push({x:r(n[0],n[2],n[4],u),y:r(n[1],n[3],n[5],u)})}}var i=e("../../../math"),o=e("../../../is"),a=e("../../../util"),s=e("../../../collection/zsort"),u={};u.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),n=this,r=function(e,n){t.merge(e);for(var r=0;r<e.length;r++){var i=e[r],o=i._private,a=o.rstyle;a.clean=!1,o.bbCache=null;var s=a.dirtyEvents=a.dirtyEvents||{length:0};s[n.type]||(s[n.type]=!0,s.length++)}};n.binder(e).on("position.* style.* free.*","node",function(t){var n=t.cyTarget;if(r(n,t),r(n.connectedEdges(),t),e.hasCompoundNodes()){var i=n.parents();r(i,t),r(i.connectedEdges(),t)}}).on("add.* background.*","node",function(e){var t=e.cyTarget;r(t,e)}).on("add.* style.*","edge",function(e){var t=e.cyTarget;r(t,e),r(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var t=e.cyTarget,n=t.parallelEdges(),i=0;i<n.length;i++){var o=n[i];o.removed()||r(o,e)}});var i=function(r){if(r){var i=n.onUpdateEleCalcsFns;if(i)for(var o=0;o<i.length;o++){var a=i[o];a(r,t)}n.recalculateRenderedStyle(t,!1);for(var o=0;o<t.length;o++)t[o]._private.rstyle.dirtyEvents=null;t=e.collection()}};n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},u.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)},u.recalculateRenderedStyle=function(e,t){var n=[],r=[];void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.rstyle;if(!(t&&s.clean||o.removed())){if("nodes"===a.group){var u=a.position;r.push(o),s.nodeX=u.x,s.nodeY=u.y,s.nodeW=o.pstyle("width").pfValue,s.nodeH=o.pstyle("height").pfValue}else n.push(o);s.clean=!0}}this.recalculateEdgeProjections(n),this.recalculateLabelProjections(r,n);for(var i=0;i<n.length;i++){var o=n[i],a=o._private,s=a.rstyle,l=a.rscratch;s.srcX=l.arrowStartX,s.srcY=l.arrowStartY,s.tgtX=l.arrowEndX,s.tgtY=l.arrowEndY,s.midX=l.midX,s.midY=l.midY}},u.projectIntoViewport=function(e,t){var n=this.findContainerClientCoords(),r=n[0],i=n[1],o=e-r,a=t-i;return o-=this.cy.pan().x,a-=this.cy.pan().y,o/=this.cy.zoom(),a/=this.cy.zoom(),[o,a]},u.findContainerClientCoords=function(){var e=this.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]},u.invalidateContainerClientCoordsCache=function(){this.containerBB=null},u.findNearestElement=function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},u.findNearestElements=function(e,t,n,r){function o(e,t){if(e.isNode()){if(d)return;d=e,v.push(e)}if(e.isEdge()&&(null==t||t<E))if(h){if(h.pstyle("z-index").value===e.pstyle("z-index").value)for(var n=0;n<v.length;n++)if(v[n].isEdge()){v[n]=e,h=e,E=null!=t?t:E;break}}else v.push(e),h=e,E=null!=t?t:E}function s(r){var i=r._private;if("no"!==r.pstyle("events").strValue){var a=r.outerWidth()+2*b,s=r.outerHeight()+2*b,u=a/2,l=s/2,c=i.position;if(c.x-u<=e&&e<=c.x+u&&c.y-l<=t&&t<=c.y+l){var h=!n||r.visible()&&!r.transparent();if(n&&!h)return;var d=p.nodeShapes[f.getNodeShape(r)];d.checkPoint(e,t,0,a,s,c.x,c.y)&&o(r,0)}}}function u(r){var a=r._private;if("no"!==r.pstyle("events").strValue){var u,l,c=a.rscratch,h=r.pstyle("width").pfValue/2+x,d=h*h,g=2*h,y=a.source,b=a.target,w=!1,E=function(){if(void 0!==l)return l;if(!n)return l=!0,!0;var e=r.visible()&&!r.transparent();return e?(l=!0,!0):(l=!1,!1)};if("segments"===c.edgeType||"straight"===c.edgeType||"haystack"===c.edgeType)for(var _=c.allpts,T=0;T+3<_.length;T+=2)(w=i.inLineVicinity(e,t,_[T],_[T+1],_[T+2],_[T+3],g))&&E()&&d>(u=i.sqdistToFiniteLine(e,t,_[T],_[T+1],_[T+2],_[T+3]))&&o(r,u);else if("bezier"===c.edgeType||"multibezier"===c.edgeType||"self"===c.edgeType||"compound"===c.edgeType)for(var _=c.allpts,T=0;T+5<c.allpts.length;T+=4)(w=i.inBezierVicinity(e,t,_[T],_[T+1],_[T+2],_[T+3],_[T+4],_[T+5],g))&&E()&&d>(u=i.sqdistToQuadraticBezier(e,t,_[T],_[T+1],_[T+2],_[T+3],_[T+4],_[T+5]))&&o(r,u);if(w&&E())for(var y=y||a.source,b=b||a.target,N=r.pstyle("width").pfValue,k=f.getArrowWidth(N),D=[{name:"source",x:c.arrowStartX,y:c.arrowStartY,angle:c.srcArrowAngle},{name:"target",x:c.arrowEndX,y:c.arrowEndY,angle:c.tgtArrowAngle},{name:"mid-source",x:c.midX,y:c.midY,angle:c.midsrcArrowAngle},{name:"mid-target",x:c.midX,y:c.midY,angle:c.midtgtArrowAngle}],T=0;T<D.length;T++){var C=D[T],S=p.arrowShapes[r.pstyle(C.name+"-arrow-shape").value];if(S.roughCollide(e,t,k,C.angle,{x:C.x,y:C.y},x)&&S.collide(e,t,k,C.angle,{x:C.x,y:C.y},x)){o(r);break}}m&&v.length>0&&(s(y),s(b))}}function l(e,t,n){return a.getPrefixedProperty(e,t,n)}function c(n,r){var a,s=n._private,u=w;if(a=r?r+"-":"","no"!==n.pstyle("text-events").strValue){var c=n.pstyle(a+"text-rotation");if("autorotate"===c.strValue||c.pfValue){var h=s.rstyle,d=n.pstyle("text-border-width").pfValue,f=l(h,"labelWidth",r)+d/2+2*u,p=l(h,"labelHeight",r)+d/2+2*u,g=l(h,"labelX",r),v=l(h,"labelY",r),y=l(s.rscratch,"labelAngle",r),m=Math.cos(y),x=Math.sin(y),b=function(e,t){return e-=g,t-=v,{x:e*m-t*x+g,y:e*x+t*m+v}},E=g-f/2,_=g+f/2,T=v-p/2,N=v+p/2,k=b(E,T),D=b(E,N),C=b(_,T),S=b(_,N),L=[k.x,k.y,C.x,C.y,S.x,S.y,D.x,D.y];i.pointInsidePolygonPoints(e,t,L)&&o(n)}else{var A=n.boundingBox({includeLabels:!0,includeNodes:!1,includeEdges:!1});A.x1-=u,A.y1-=u,A.x2+=u,A.y2+=u,A.w=A.x2-A.x1,A.h=A.y2-A.y1,i.inBoundingBox(A,e,t)&&o(n)}}}for(var h,d,f=this,p=this,g=p.getCachedZSortedEles(),v=[],y=p.cy.zoom(),m=p.cy.hasCompoundNodes(),x=(r?24:8)/y,b=(r?8:2)/y,w=(r?8:2)/y,E=1/0,_=g.length-1;_>=0;_--){var T=g[_];T.isNode()?(s(T),c(T)):(u(T),c(T),c(T,"source"),c(T,"target"))}return v},u.getAllInBox=function(e,t,n,r){var o=this.getCachedZSortedEles(),a=o.nodes,s=o.edges,u=[],l=Math.min(e,n),c=Math.max(e,n),h=Math.min(t,r),d=Math.max(t,r);e=l,n=c,t=h,r=d;for(var f=i.makeBoundingBox({x1:e,y1:t,x2:n,y2:r}),p=0;p<a.length;p++){var g=a[p],v=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1,includeShadows:!1});i.boundingBoxesIntersect(f,v)&&u.push(a[p])}for(var y=0;y<s.length;y++){var m=s[y],x=m._private,b=x.rscratch;if((null==b.startX||null==b.startY||i.inBoundingBox(f,b.startX,b.startY))&&(null==b.endX||null==b.endY||i.inBoundingBox(f,b.endX,b.endY)))if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var w=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,E=!0,p=0;p<w.length;p++)if(!i.pointInBoundingBox(f,w[p])){E=!1;break}E&&u.push(m)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||u.push(m)}return u},u.getNodeShape=function(e){var t=this,n=e.pstyle("shape").value;if(e.isParent())return"rectangle"===n||"roundrectangle"===n?n:"rectangle";if("polygon"===n){var r=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(r).name}return n},u.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},u.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;e.drag=[],e.nondrag=[];for(var t,n=0;n<e.length;n++){var r=e[n],i=r._private.rscratch;i.isGrabTarget&&!r.isParent()?t=r:i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}t&&e.drag.push(t)},u.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements(),n=[];n.nodes=[],n.edges=[];for(var r=0;r<t.length;r++){var i=t[r];(i.animated()||i.visible()&&!i.transparent())&&(n.push(i),i.isNode()?n.nodes.push(i):n.edges.push(i))}n.sort(s),this.cachedZSortedEles=n,this.updateCachedGrabbedEles()}else n=this.cachedZSortedEles;return n},u.projectLines=function(e){var t=e._private,n=t.rscratch,i=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i)for(var o=(t.rstyle.bezierPts=[],0);o+5<n.allpts.length;o+=4)r(this,e,n.allpts.slice(o,o+6));else if("segments"===i)for(var a=t.rstyle.linePts=[],o=0;o+1<n.allpts.length;o+=2)a.push({x:n.allpts[o],y:n.allpts[o+1]});else if("haystack"===i){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue)*this.arrowShapeWidth},u.projectBezier=u.projectLines,u.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!o.emptyString(t)){var n,r,i=e._private,a=e.width(),s=e.height(),u=e.pstyle("padding-left").pfValue,l=e.pstyle("padding-right").pfValue,c=e.pstyle("padding-top").pfValue,h=e.pstyle("padding-bottom").pfValue,d=i.position,f=e.pstyle("text-halign").strValue,p=e.pstyle("text-valign").strValue,g=i.rscratch,v=i.rstyle;switch(f){case"left":n=d.x-a/2-u;break;case"right":n=d.x+a/2+l;break;default:n=d.x}switch(p){case"top":r=d.y-s/2-c;break;case"bottom":r=d.y+s/2+h;break;default:r=d.y}g.labelX=n,g.labelY=r,v.labelX=n,v.labelY=r,this.applyLabelDimensions(e)}},u.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,o=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:r.midX,y:r.midY};var u=function(e,t,r){a.setPrefixedProperty(n.rscratch,e,t,r),a.setPrefixedProperty(n.rstyle,e,t,r)};u("labelX",null,t.x),u("labelY",null,t.y);var l=function(){function e(e,t,n,r,o){var a=i.dist(t,n),s=e.segments[e.segments.length-1],u={p0:t,p1:n,t0:r,t1:o,startDist:s?s.startDist+s.length:0,length:a};e.segments.push(u),e.length+=a}if(l.cache)return l.cache;for(var t=[],a=0;a+5<r.allpts.length;a+=4){var s={x:r.allpts[a],y:r.allpts[a+1]},u={x:r.allpts[a+2],y:r.allpts[a+3]},c={x:r.allpts[a+4],y:r.allpts[a+5]};t.push({p0:s,p1:u,p2:c,startDist:0,length:0,segments:[]})}for(var h=n.rstyle.bezierPts,d=o.bezierProjPcts.length,a=0;a<t.length;a++){var f=t[a],p=t[a-1];p&&(f.startDist=p.startDist+p.length),e(f,f.p0,h[a*d],0,o.bezierProjPcts[0]);for(var g=0;g<d-1;g++)e(f,h[a*d+g],h[a*d+g+1],o.bezierProjPcts[g],o.bezierProjPcts[g+1]);e(f,h[a*d+d-1],f.p2,o.bezierProjPcts[d-1],1)}return l.cache=t},c=function(n){var o,a="source"===n;if(s[n]){var c=e.pstyle(n+"-text-offset").pfValue,h=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan(r/n)},d=function(e,t,n,r){var o=i.bound(0,r-.001,1),a=i.bound(0,r+.001,1),s=i.qbezierPtAt(e,t,n,o),u=i.qbezierPtAt(e,t,n,a);return h(s,u)};switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var f,p=l(),g=0,v=0,y=0;y<p.length;y++){for(var m=p[a?y:p.length-1-y],x=0;x<m.segments.length;x++){var b=m.segments[a?x:m.segments.length-1-x],w=y===p.length-1&&x===m.segments.length-1;if(g=v,v+=b.length,v>=c||w){f={cp:m,segment:b};break}}if(f)break}var m=f.cp,b=f.segment,E=(c-g)/b.length,_=b.t1-b.t0,T=a?b.t0+_*E:b.t1-_*E;T=i.bound(0,T,1),t=i.qbezierPtAt(m.p0,m.p1,m.p2,T),o=d(m.p0,m.p1,m.p2,T,t);break;case"straight":case"segments":case"haystack":for(var N,k,D,C,S=0,L=r.allpts.length,y=0;y+3<L&&(a?(D={x:r.allpts[y],y:r.allpts[y+1]},C={x:r.allpts[y+2],y:r.allpts[y+3]}):(D={x:r.allpts[L-2-y],y:r.allpts[L-1-y]},C={x:r.allpts[L-4-y],y:r.allpts[L-3-y]}),N=i.dist(D,C),k=S,S+=N,!(S>=c));y+=2);var A=c-k,T=A/N;T=i.bound(0,T,1),t=i.lineAt(D,C,T),o=h(D,C)}u("labelX",n,t.x),u("labelY",n,t.y),u("labelAutoAngle",n,o)}};c("source"),c("target"),this.applyLabelDimensions(e)}},u.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},u.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r);a.setPrefixedProperty(n.rstyle,"labelWidth",t,i.width),a.setPrefixedProperty(n.rscratch,"labelWidth",t,i.width),a.setPrefixedProperty(n.rstyle,"labelHeight",t,i.height),a.setPrefixedProperty(n.rscratch,"labelHeight",t,i.height)},u.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,o=e.pstyle("text-transform").value,s=function(e,r){return r?(a.setPrefixedProperty(n.rscratch,e,t,r),r):a.getPrefixedProperty(n.rscratch,e,t)};if("none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase())),"wrap"===e.pstyle("text-wrap").value){var u=s("labelKey");if(u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var l=i.split("\n"),c=e.pstyle("text-max-width").pfValue,h=[],d=0;d<l.length;d++){var f=l[d],p=this.calculateLabelDimensions(e,f,"line="+f),g=p.width;if(g>c){for(var v=f.split(/\s+/),y="",m=0;m<v.length;m++){var x=v[m],b=0===y.length?x:y+" "+x,w=this.calculateLabelDimensions(e,b,"testLine="+b),E=w.width;E<=c?y+=x+" ":(h.push(y),y=x+" ")}y.match(/^\s+$/)||h.push(y)}else h.push(f)}s("labelWrapCachedLines",h),i=s("labelWrapCachedText",h.join("\n")),s("labelWrapKey",u)}return i},u.calculateLabelDimensions=function(e,t,n){var r=this,i=e._private.labelStyleKey+"$@$"+t;n&&(i+="$@$"+n);var o=r.labelDimCache||(r.labelDimCache={});if(o[i])return o[i];var a=e.pstyle("font-style").strValue,s=e.pstyle("font-size").pfValue+"px",u=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,c=this.labelCalcDiv;c||(c=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(c));var h=c.style;return h.fontFamily=u,h.fontStyle=a,h.fontSize=s,h.fontWeight=l,h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none",h.padding="0",h.lineHeight="1","wrap"===e.pstyle("text-wrap").value?h.whiteSpace="pre":h.whiteSpace="normal",c.textContent=t,o[i]={width:c.clientWidth,height:c.clientHeight},o[i]},u.recalculateLabelProjections=function(e,t){for(var n=0;n<e.length;n++)this.recalculateNodeLabelProjection(e[n]);for(var n=0;n<t.length;n++)this.recalculateEdgeLabelProjections(t[n])},u.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},u.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,n=this,r=n.cy,a=r.hasCompoundNodes(),s={},u=[],l=[],c=0;c<e.length;c++){var h=e[c],d=h._private,f=d.data,p=h.pstyle("curve-style").value,g="unbundled-bezier"===p||"segments"===p;if("none"!==h.pstyle("display").value)if("haystack"!==p){var v=f.source,y=f.target;t=v>y?y+"$-$"+v:v+"$-$"+y,g&&(t="unbundled$-$"+f.id),null==s[t]&&(s[t]=[],u.push(t)),s[t].push(h),g&&(s[t].hasUnbundled=!0)}else l.push(h)}for(var m,x,b,w,E,_,T,N,k,D,C,S,L,A,I=0;I<u.length;I++){t=u[I];var M=s[t];if(M.sort(function(e,t){return e.poolIndex()-t.poolIndex()}),m=M[0]._private.source,x=M[0]._private.target,b=m._private,w=x._private,b.data.id>w.data.id){var P=m;m=x,x=P}if(E=b.position,_=w.position,T=m.outerWidth(),N=m.outerHeight(),k=x.outerWidth(),D=x.outerHeight(),C=n.nodeShapes[this.getNodeShape(m)],S=n.nodeShapes[this.getNodeShape(x)],A=!1,M.length>1&&m!==x||M.hasUnbundled){var O=C.intersectLine(E.x,E.y,T,N,_.x,_.y,0),R=S.intersectLine(_.x,_.y,k,D,E.x,E.y,0),F={x1:O[0],x2:R[0],y1:O[1],y2:R[1]},j={x1:E.x,x2:_.x,y1:E.y,y2:_.y},B=R[1]-O[1],q=R[0]-O[0],z=Math.sqrt(q*q+B*B),V={x:q,y:B},Y={x:V.x/z,y:V.y/z};L={x:-Y.y,y:Y.x},S.checkPoint(O[0],O[1],0,k,D,_.x,_.y)&&C.checkPoint(R[0],R[1],0,T,N,E.x,E.y)&&(L={},A=!0)}for(var h,X,U,c=0;c<M.length;c++){h=M[c],X=h._private,U=X.rscratch;var G=U.lastEdgeIndex,H=c,W=U.lastNumEdges,$=M.length,p=h.pstyle("curve-style").value,Z=h.pstyle("control-point-distances"),Q=h.pstyle("control-point-weights"),K=Z&&Q?Math.min(Z.value.length,Q.value.length):1,J=h.pstyle("control-point-step-size").pfValue,ee=Z?Z.pfValue[0]:void 0,te=Q.value[0],g="unbundled-bezier"===p||"segments"===p,ne=X.source!==m;ne&&g&&(ee*=-1);var re=U.lastSrcCtlPtX,ie=E.x,oe=U.lastSrcCtlPtY,ae=E.y,se=U.lastSrcCtlPtW,ue=m.outerWidth(),le=U.lastSrcCtlPtH,ce=m.outerHeight(),he=U.lastTgtCtlPtX,de=_.x,fe=U.lastTgtCtlPtY,pe=_.y,ge=U.lastTgtCtlPtW,ve=x.outerWidth(),ye=U.lastTgtCtlPtH,me=x.outerHeight(),xe=U.lastW,be=h.pstyle("control-point-step-size").pfValue,we=h.pstyle("edge-distances").value;if(A?U.badBezier=!0:U.badBezier=!1,re!==ie||oe!==ae||se!==ue||le!==ce||he!==de||fe!==pe||ge!==ve||ye!==me||xe!==be||!(G===H&&W===$||g)){if(U.lastSrcCtlPtX=ie,U.lastSrcCtlPtY=ae,U.lastSrcCtlPtW=ue,U.lastSrcCtlPtH=ce,U.lastTgtCtlPtX=de,U.lastTgtCtlPtY=pe,U.lastTgtCtlPtW=ve,U.lastTgtCtlPtH=me,U.lastEdgeIndex=H,U.lastNumEdges=$,U.lastWidth=be,m===x){U.edgeType="self";var Ee=c,_e=J;g&&(Ee=0,_e=ee),U.ctrlpts=[E.x,E.y-(1+Math.pow(N,1.12)/100)*_e*(Ee/3+1),E.x-(1+Math.pow(T,1.12)/100)*_e*(Ee/3+1),E.y]}else if(a&&(m.isParent()||m.isChild()||x.isParent()||x.isChild())&&(m.parents().anySame(x)||x.parents().anySame(m))){U.edgeType="compound",U.badBezier=!1;var Ee=c,_e=J;g&&(Ee=0,_e=ee);var Te=50,Ne={x:E.x-T/2,y:E.y-N/2},ke={x:_.x-k/2,y:_.y-D/2},De={x:Math.min(Ne.x,ke.x),y:Math.min(Ne.y,ke.y)},Ce=.5,Se=Math.max(Ce,Math.log(.01*T)),Le=Math.max(Ce,Math.log(.01*k));U.ctrlpts=[De.x,De.y-(1+Math.pow(Te,1.12)/100)*_e*(Ee/3+1)*Se,De.x-(1+Math.pow(Te,1.12)/100)*_e*(Ee/3+1)*Le,De.y]}else if("segments"===p){U.edgeType="segments",U.segpts=[];for(var Ae=h.pstyle("segment-weights").pfValue,Ie=h.pstyle("segment-distances").pfValue,Me=Math.min(Ae.length,Ie.length),Pe=0;Pe<Me;Pe++){var Oe=Ae[Pe],Re=Ie[Pe],Fe=1-Oe,je=Oe,Be="node-position"===we?j:F,qe={x:Be.x1*Fe+Be.x2*je,y:Be.y1*Fe+Be.y2*je};U.segpts.push(qe.x+L.x*Re,qe.y+L.y*Re)}}else if(M.length%2!==1||c!==Math.floor(M.length/2)||g){var ze=g;U.edgeType=ze?"multibezier":"bezier",U.ctrlpts=[];for(var Ve=0;Ve<K;Ve++){var Ye,Xe=(.5-M.length/2+c)*J,Ue=i.signum(Xe);ze&&(ee=Z?Z.pfValue[Ve]:J,te=Q.value[Ve]),Ye=g?ee:void 0!==ee?Ue*ee:void 0;var Ge=void 0!==Ye?Ye:Xe,Fe=!ne||g?1-te:te,je=!ne||g?te:1-te,Be="node-position"===we?j:F,qe={x:Be.x1*Fe+Be.x2*je,y:Be.y1*Fe+Be.y2*je};U.ctrlpts.push(qe.x+L.x*Ge,qe.y+L.y*Ge)}}else U.edgeType="straight";this.findEndpoints(h);var He=!o.number(U.startX)||!o.number(U.startY),We=!o.number(U.arrowStartX)||!o.number(U.arrowStartY),$e=!o.number(U.endX)||!o.number(U.endY),Ze=!o.number(U.arrowEndX)||!o.number(U.arrowEndY),Qe=3,Ke=this.getArrowWidth(h.pstyle("width").pfValue)*this.arrowShapeWidth,Je=Qe*Ke;if("bezier"===U.edgeType){var et=i.dist({x:U.ctrlpts[0],y:U.ctrlpts[1]},{x:U.startX,y:U.startY}),tt=et<Je,nt=i.dist({x:U.ctrlpts[0],y:U.ctrlpts[1]},{x:U.endX,y:U.endY}),rt=nt<Je,it=!1;if(He||We||tt){it=!0;var ot={x:U.ctrlpts[0]-E.x,y:U.ctrlpts[1]-E.y},at=Math.sqrt(ot.x*ot.x+ot.y*ot.y),st={x:ot.x/at,y:ot.y/at},ut=Math.max(T,N),lt={x:U.ctrlpts[0]+2*st.x*ut,y:U.ctrlpts[1]+2*st.y*ut},ct=C.intersectLine(E.x,E.y,T,N,lt.x,lt.y,0);tt?(U.ctrlpts[0]=U.ctrlpts[0]+st.x*(Je-et),
U.ctrlpts[1]=U.ctrlpts[1]+st.y*(Je-et)):(U.ctrlpts[0]=ct[0]+st.x*Je,U.ctrlpts[1]=ct[1]+st.y*Je)}if($e||Ze||rt){it=!0;var ot={x:U.ctrlpts[0]-_.x,y:U.ctrlpts[1]-_.y},at=Math.sqrt(ot.x*ot.x+ot.y*ot.y),st={x:ot.x/at,y:ot.y/at},ut=Math.max(T,N),lt={x:U.ctrlpts[0]+2*st.x*ut,y:U.ctrlpts[1]+2*st.y*ut},ht=S.intersectLine(_.x,_.y,k,D,lt.x,lt.y,0);rt?(U.ctrlpts[0]=U.ctrlpts[0]+st.x*(Je-nt),U.ctrlpts[1]=U.ctrlpts[1]+st.y*(Je-nt)):(U.ctrlpts[0]=ht[0]+st.x*Je,U.ctrlpts[1]=ht[1]+st.y*Je)}it&&this.findEndpoints(h)}if("multibezier"===U.edgeType||"bezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType){U.allpts=[],U.allpts.push(U.startX,U.startY);for(var Ve=0;Ve+1<U.ctrlpts.length;Ve+=2)U.allpts.push(U.ctrlpts[Ve],U.ctrlpts[Ve+1]),Ve+3<U.ctrlpts.length&&U.allpts.push((U.ctrlpts[Ve]+U.ctrlpts[Ve+2])/2,(U.ctrlpts[Ve+1]+U.ctrlpts[Ve+3])/2);U.allpts.push(U.endX,U.endY);var dt,ft;U.ctrlpts.length/2%2===0?(dt=U.allpts.length/2-1,U.midX=U.allpts[dt],U.midY=U.allpts[dt+1]):(dt=U.allpts.length/2-3,ft=.5,U.midX=i.qbezierAt(U.allpts[dt],U.allpts[dt+2],U.allpts[dt+4],ft),U.midY=i.qbezierAt(U.allpts[dt+1],U.allpts[dt+3],U.allpts[dt+5],ft))}else if("straight"===U.edgeType)U.allpts=[U.startX,U.startY,U.endX,U.endY],U.midX=(U.startX+U.endX+U.arrowStartX+U.arrowEndX)/4,U.midY=(U.startY+U.endY+U.arrowStartY+U.arrowEndY)/4;else if("segments"===U.edgeType)if(U.allpts=[],U.allpts.push(U.startX,U.startY),U.allpts.push.apply(U.allpts,U.segpts),U.allpts.push(U.endX,U.endY),U.segpts.length%4===0){var pt=U.segpts.length/2,gt=pt-2;U.midX=(U.segpts[gt]+U.segpts[pt])/2,U.midY=(U.segpts[gt+1]+U.segpts[pt+1])/2}else{var gt=U.segpts.length/2-1;U.midX=U.segpts[gt],U.midY=U.segpts[gt+1]}this.projectLines(h),this.calculateArrowAngles(h),this.recalculateEdgeLabelProjections(h),this.calculateLabelAngles(h)}}}for(var c=0;c<l.length;c++){var h=l[c],d=h._private,vt=d.rscratch,U=vt;if(!vt.haystack){var yt=2*Math.random()*Math.PI;vt.source={x:Math.cos(yt),y:Math.sin(yt)};var yt=2*Math.random()*Math.PI;vt.target={x:Math.cos(yt),y:Math.sin(yt)}}var m=d.source,x=d.target,E=m._private.position,_=x._private.position,T=m.width(),k=x.width(),N=m.height(),D=x.height(),ut=h.pstyle("haystack-radius").value,mt=ut/2;U.haystackPts=U.allpts=[U.source.x*T*mt+E.x,U.source.y*N*mt+E.y,U.target.x*k*mt+_.x,U.target.y*D*mt+_.y],U.midX=(U.allpts[0]+U.allpts[2])/2,U.midY=(U.allpts[1]+U.allpts[3])/2,vt.edgeType="haystack",vt.haystack=!0,this.projectLines(h),this.calculateArrowAngles(h),this.recalculateEdgeLabelProjections(h),this.calculateLabelAngles(h)}return s}};var l=function(e,t){return Math.atan2(t,e)-Math.PI/2};u.calculateArrowAngles=function(e){var t,n,r,o,a,s,u=e._private.rscratch,c="haystack"===u.edgeType,h="multibezier"===u.edgeType,d="segments"===u.edgeType,f="compound"===u.edgeType,p="self"===u.edgeType,g=e._private.source._private.position,v=e._private.target._private.position;c?(r=u.haystackPts[0],o=u.haystackPts[1],a=u.haystackPts[2],s=u.haystackPts[3]):(r=u.arrowStartX,o=u.arrowStartY,a=u.arrowEndX,s=u.arrowEndY),t=g.x-r,n=g.y-o,u.srcArrowAngle=l(t,n);var y=u.midX,m=u.midY;if(c&&(y=(r+a)/2,m=(o+s)/2),t=a-r,n=s-o,p)t=-1,n=1;else if(d){var x=u.allpts;if(x.length/2%2===0){var b=x.length/2,w=b-2;t=x[b]-x[w],n=x[b+1]-x[w+1]}else{var b=x.length/2-1,w=b-2,E=b+2;t=x[b]-x[w],n=x[b+1]-x[w+1]}}else if(h||f){var _,T,N,k,x=u.allpts,D=u.ctrlpts;if(D.length/2%2===0){var C=x.length/2-1,S=C+2,L=S+2;_=i.qbezierAt(x[C],x[S],x[L],0),T=i.qbezierAt(x[C+1],x[S+1],x[L+1],0),N=i.qbezierAt(x[C],x[S],x[L],1e-4),k=i.qbezierAt(x[C+1],x[S+1],x[L+1],1e-4)}else{var S=x.length/2-1,C=S-2,L=S+2;_=i.qbezierAt(x[C],x[S],x[L],.4999),T=i.qbezierAt(x[C+1],x[S+1],x[L+1],.4999),N=i.qbezierAt(x[C],x[S],x[L],.5),k=i.qbezierAt(x[C+1],x[S+1],x[L+1],.5)}t=N-_,n=k-T}if(u.midtgtArrowAngle=l(t,n),u.midDispX=t,u.midDispY=n,t*=-1,n*=-1,d){var x=u.allpts;if(x.length/2%2===0);else{var b=x.length/2-1,E=b+2;t=-(x[E]-x[b]),n=-(x[E+1]-x[b+1])}}u.midsrcArrowAngle=l(t,n),t=v.x-a,n=v.y-s,u.tgtArrowAngle=l(t,n)},u.calculateLabelAngles=function(e){var t=e._private,n=t.rscratch,r=e.isEdge(),i=e.pstyle("text-rotation"),o=i.strValue;"none"===o?n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=0:r&&"autorotate"===o?(n.labelAngle=Math.atan(n.midDispY/n.midDispX),n.sourceLabelAngle=n.sourceLabelAutoAngle,n.targetLabelAngle=n.targetLabelAutoAngle):"autorotate"===o?n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=0:n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=i.pfValue},u.findEndpoints=function(e){var t,n,r,a=this,s=e.source()[0],u=e.target()[0],l=s._private,c=u._private,h=l.position,d=c.position,f=e.pstyle("target-arrow-shape").value,p=e.pstyle("source-arrow-shape").value,g=e._private.rscratch,v=g.edgeType,y="bezier"===v||"multibezier"===v||"self"===v||"compound"===v,m="bezier"!==v,x="straight"===v||"segments"===v,b="segments"===v,w=y||m||x;if(y){var E=[g.ctrlpts[0],g.ctrlpts[1]],_=m?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:E;n=_,r=E}else if(x){var T=b?g.segpts.slice(0,2):[d.x,d.y],N=b?g.segpts.slice(g.segpts.length-2):[h.x,h.y];n=N,r=T}t=a.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),n[0],n[1],0);var k=i.shortenIntersection(t,n,a.arrowShapes[f].spacing(e)),D=i.shortenIntersection(t,n,a.arrowShapes[f].gap(e));g.endX=D[0],g.endY=D[1],g.arrowEndX=k[0],g.arrowEndY=k[1],t=a.nodeShapes[this.getNodeShape(s)].intersectLine(h.x,h.y,s.outerWidth(),s.outerHeight(),r[0],r[1],0);var C=i.shortenIntersection(t,r,a.arrowShapes[p].spacing(e)),S=i.shortenIntersection(t,r,a.arrowShapes[p].gap(e));g.startX=S[0],g.startY=S[1],g.arrowStartX=C[0],g.arrowStartY=C[1],w&&(o.number(g.startX)&&o.number(g.startY)&&o.number(g.endX)&&o.number(g.endY)?g.badLine=!1:g.badLine=!0)},u.getArrowWidth=u.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[e];return n?n:(n=Math.max(Math.pow(13.37*e,.9),29),t[e]=n,n)},t.exports=u},{"../../../collection/zsort":41,"../../../is":92,"../../../math":94,"../../../util":109}],68:[function(e,t,n){"use strict";var r={};r.getCachedImage=function(e,t){var n=this,r=n.imageCache=n.imageCache||{};if(r[e]&&r[e].image)return r[e].image;var i=r[e]=r[e]||{},o=i.image=new Image;return o.addEventListener("load",t),o.crossOrigin="Anonymous",o.src=e,o},t.exports=r},{}],69:[function(e,t,n){"use strict";var r=e("../../../is"),i=e("../../../util"),o=function(e){this.init(e)},a=o,s=a.prototype;s.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],s.init=function(e){var t=this;t.options=e,t.cy=e.cy,t.container=e.cy.container(),t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners(),t.load()},s.notify=function(e){var t,n=this;t=r.array(e.type)?e.type:[e.type];for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=!0}return i.destroy?void n.destroy():((i.add||i.remove||i.load||i.style)&&n.updateCachedZSortedEles(),i.viewport&&n.redrawHint("select",!0),(i.load||i.resize)&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),void this.redraw())},s.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(o){}},[e("./arrow-shapes"),e("./coord-ele-math"),e("./images"),e("./load-listeners"),e("./node-shapes"),e("./redraw")].forEach(function(e){i.extend(s,e)}),t.exports=a},{"../../../is":92,"../../../util":109,"./arrow-shapes":66,"./coord-ele-math":67,"./images":68,"./load-listeners":70,"./node-shapes":71,"./redraw":72}],70:[function(e,t,n){"use strict";var r=e("../../../is"),i=e("../../../util"),o=e("../../../math"),a=e("../../../event"),s={};s.registerBinding=function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(e);return o.on.apply(o,i)},s.binder=function(e){var t=this,n=function(){var n=arguments;return t.bindings.push({target:e,args:n}),(e.addEventListener||e.on).apply(e,n),this};return{on:n,addEventListener:n,addListener:n,bind:n}},s.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},s.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&0!==e.pstyle("opacity").value&&"visible"===e.pstyle("visibility").value&&"element"===e.pstyle("display").value},s.load=function(){var e=this,t=function(t,n,r,o){null==t&&(t=e.cy);for(var s=0;s<n.length;s++){var u=n[s],l=new a(r,i.extend({type:u},o));t.trigger(l)}},n=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},s=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;n&&i<n.length;i++){var t=n[i];if(t.isNode()&&t.isParent()){r=!1;break}}else r=!0;return r},u=function(t){var n;if(t.addToList&&e.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var r=0;r<t.addToList.length;r++){var i=t.addToList[r];t.addToList.hasId[i.id()]=!0}}n=t.addToList.hasId}return n||{}},l=function(e){e[0]._private.grabbed=!0},c=function(e){e[0]._private.grabbed=!1},h=function(e){e[0]._private.rscratch.inDragLayer=!0},d=function(e){e[0]._private.rscratch.inDragLayer=!1},f=function(e){e[0]._private.rscratch.isGrabTarget=!0},p=function(e){e[0]._private.rscratch.isGrabTarget=!1},g=function(e,t){var n=u(t);n[e.id()]||(t.addToList.push(e),n[e.id()]=!0,l(e))},v=function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(h),n.connectedEdges().forEach(h)),t.addToList&&n.forEach(function(e){g(e,t)})}},y=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(h),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(h)),n.addToList&&t.forEach(function(e){g(e,n)}),v(t,n),b(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},m=y,x=function(t){t&&(t.hasId={},e.getCachedZSortedEles().forEach(function(e){c(e),d(e),p(e)}),e.updateCachedGrabbedEles())},b=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(h),r.forEach(h)),t.addToList&&r.forEach(function(e){g(e,t)})}}},w="undefined"!=typeof MutationObserver;w?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n],i=r.removedNodes;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var E=i.debounce(function(){e.cy.invalidateSize(),e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);w&&(e.styleObserver=new MutationObserver(E),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",E);for(var _=function(t){e.registerBinding(t,"scroll",function(t){e.invalidateContainerClientCoordsCache()})},T=e.cy.container();_(T),T.parentNode;)T=T.parentNode;e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var N=function(){return 0!==e.selection[4]};e.registerBinding(e.container,"mousedown",function(n){n.preventDefault(),e.hoverData.capture=!0,e.hoverData.which=n.which;var r=e.cy,i=[n.clientX,n.clientY],o=e.projectIntoViewport(i[0],i[1]),s=e.selection,u=e.findNearestElements(o[0],o[1],!0,!1),l=u[0],c=e.dragData.possibleDragElements;e.hoverData.mdownPos=o,e.hoverData.mdownGPos=i;var h=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.trigger(new a(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}})):r.trigger(new a(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}}))}},e.tapholdDuration)};if(3==n.which){e.hoverData.cxtStarted=!0;var d=new a(n,{type:"cxttapstart",cyPosition:{x:o[0],y:o[1]}});l?(l.activate(),l.trigger(d),e.hoverData.down=l):r.trigger(d),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==n.which){if(l&&l.activate(),null!=l&&e.nodeIsGrabbable(l)){var p=new a(n,{type:"grab",cyPosition:{x:o[0],y:o[1]}});if(f(l),l.selected()){if(l.selected()){c=e.dragData.possibleDragElements=[];var g=r.$(function(){return this.isNode()&&this.selected()&&e.nodeIsGrabbable(this)});y(g,{addToList:c}),l.trigger(p)}}else c=e.dragData.possibleDragElements=[],m(l,{addToList:c}),l.trigger(p);e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=l,e.hoverData.downs=u,e.hoverData.downTime=(new Date).getTime(),t(l,["mousedown","tapstart","vmousedown"],n,{cyPosition:{x:o[0],y:o[1]}}),null==l?(s[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):l.isEdge()&&(s[4]=1),h()}s[0]=s[2]=o[0],s[1]=s[3]=o[1]},!1),e.registerBinding(window,"mousemove",function(i){var u=!1,l=e.hoverData.capture;if(!l){var c=e.findContainerClientCoords();if(!(i.clientX>c[0]&&i.clientX<c[0]+e.canvasWidth&&i.clientY>c[1]&&i.clientY<c[1]+e.canvasHeight))return;for(var h=e.container,d=i.target,f=d.parentNode,p=!1;f;){if(f===h){p=!0;break}f=f.parentNode}if(!p)return}var g=e.cy,v=g.zoom(),m=[i.clientX,i.clientY],x=e.projectIntoViewport(m[0],m[1]),b=e.hoverData.mdownPos,w=e.hoverData.mdownGPos,E=e.selection,_=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(_=e.findNearestElement(x[0],x[1],!0,!1));var T,N=e.hoverData.last,k=e.hoverData.down,D=[x[0]-E[2],x[1]-E[3]],C=e.dragData.possibleDragElements;if(w){var S=m[0]-w[0],L=S*S,A=m[1]-w[1],I=A*A,M=L+I;T=M>=e.desktopTapThreshold2}var P=n(i);T&&(e.hoverData.tapholdCancelled=!0);var O=function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(D[0]),t.push(D[1])):(t[0]+=D[0],t[1]+=D[1])};if(u=!0,t(_,["mousemove","vmousemove","tapdrag"],i,{cyPosition:{x:x[0],y:x[1]}}),3===e.hoverData.which){if(T){var R=new a(i,{type:"cxtdrag",cyPosition:{x:x[0],y:x[1]}});k?k.trigger(R):g.trigger(R),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&_===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.trigger(new a(i,{type:"cxtdragout",cyPosition:{x:x[0],y:x[1]}})),e.hoverData.cxtOver=_,_&&_.trigger(new a(i,{type:"cxtdragover",cyPosition:{x:x[0],y:x[1]}})))}}else if(e.hoverData.dragging){if(u=!0,g.panningEnabled()&&g.userPanningEnabled()){var F;if(e.hoverData.justStartedPan){var j=e.hoverData.mdownPos;F={x:(x[0]-j[0])*v,y:(x[1]-j[1])*v},e.hoverData.justStartedPan=!1}else F={x:D[0]*v,y:D[1]*v};g.panBy(F),e.hoverData.dragged=!0}x=e.projectIntoViewport(i.clientX,i.clientY)}else if(1!=E[4]||null!=k&&!k.isEdge()){if(k&&k.isEdge()&&k.active()&&k.unactivate(),k&&k.grabbed()||_==N||(N&&t(N,["mouseout","tapdragout"],i,{cyPosition:{x:x[0],y:x[1]}}),_&&t(_,["mouseover","tapdragover"],i,{cyPosition:{x:x[0],y:x[1]}}),e.hoverData.last=_),k&&e.nodeIsDraggable(k))if(T){var B=!e.dragData.didDrag;B&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var q=[];e.hoverData.draggingEles||y(g.collection(C),{inDragLayer:!0});for(var z=0;z<C.length;z++){var V=C[z];if(e.nodeIsDraggable(V)&&V.grabbed()){var Y=V._private.position;if(q.push(V),r.number(D[0])&&r.number(D[1])){var X=!V.isParent();if(X&&(Y.x+=D[0],Y.y+=D[1]),B){var U=e.hoverData.dragDelta;X&&U&&r.number(U[0])&&r.number(U[1])&&(Y.x+=U[0],Y.y+=U[1])}}}}e.hoverData.draggingEles=!0;var G=g.collection(q);G.updateCompoundBounds(),G.trigger("position drag"),e.redrawHint("drag",!0),e.redraw()}else O();u=!0}else if(T){if(e.hoverData.dragging||!g.boxSelectionEnabled()||!P&&g.panningEnabled()&&g.userPanningEnabled()){if(!e.hoverData.selecting&&g.panningEnabled()&&g.userPanningEnabled()){var H=s(k,e.hoverData.downs);H&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,E[4]=0,e.data.bgActivePosistion=o.array2point(b),e.redrawHint("select",!0),e.redraw())}}else e.data.bgActivePosistion=void 0,e.hoverData.selecting||g.trigger("boxstart"),e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw();k&&k.isEdge()&&k.active()&&k.unactivate()}if(E[2]=x[0],E[3]=x[1],u)return i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1},!1),e.registerBinding(window,"mouseup",function(r){var i=e.hoverData.capture;if(i){e.hoverData.capture=!1;var o=e.cy,s=e.projectIntoViewport(r.clientX,r.clientY),u=e.selection,l=e.findNearestElement(s[0],s[1],!0,!1),c=e.dragData.possibleDragElements,h=e.hoverData.down,d=n(r);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,h&&h.unactivate(),3===e.hoverData.which){var f=new a(r,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(h?h.trigger(f):o.trigger(f),!e.hoverData.cxtDragged){var p=new a(r,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});h?h.trigger(p):o.trigger(p)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(null!=h||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||n(r)||(o.$(function(){return this.selected()}).unselect(),c.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=c=[]),t(l,["mouseup","tapend","vmouseup"],r,{cyPosition:{x:s[0],y:s[1]}}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||t(h,["click","tap","vclick"],r,{cyPosition:{x:s[0],y:s[1]}}),l!=h||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||d?l.selected()?l.unselect():l.select():d||(o.$(":selected").unmerge(l).unselect(),l.select())),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=o.collection(e.getAllInBox(u[0],u[1],u[2],u[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),o.trigger("boxend");var v=function(e){return e.selectable()&&!e.selected()};"additive"===o.selectionType()?g.trigger("box").stdFilter(v).select().trigger("boxselect"):(d||o.$(":selected").unmerge(g).unselect(),g.trigger("box").stdFilter(v).select().trigger("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!u[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var y=h&&h.grabbed();x(c),y&&h.trigger("free")}}u[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);var k=function(t){if(!e.scrollingPage){var n=e.cy,r=e.projectIntoViewport(t.clientX,t.clientY),i=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||N())return void t.preventDefault();if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var o=t.deltaY/-250||t.wheelDeltaY/1e3||t.wheelDelta/1e3;o*=e.wheelSensitivity;var a=1===t.deltaMode;a&&(o*=33),n.zoom({level:n.zoom()*Math.pow(10,o),renderedPosition:{x:i[0],y:i[1]}})}}};e.registerBinding(e.container,"wheel",k,!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(new a(t,{type:"mouseout",cyPosition:{x:n[0],y:n[1]}}))},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(new a(t,{type:"mouseover",cyPosition:{x:n[0],y:n[1]}}))},!1);var D,C,S,L,A,I,M,P,O,R,F,j,B,q,z=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},V=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};e.registerBinding(e.container,"touchstart",q=function(n){e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,o=e.touchData.earlier;if(n.touches[0]){var s=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(n.touches[1]){var s=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(n.touches[2]){var s=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);i[4]=s[0],i[5]=s[1]}if(n.touches[1]){x(e.dragData.touchDragEles);var u=e.findContainerClientCoords();O=u[0],R=u[1],F=u[2],j=u[3],D=n.touches[0].clientX-O,C=n.touches[0].clientY-R,S=n.touches[1].clientX-O,L=n.touches[1].clientY-R,B=0<=D&&D<=F&&0<=S&&S<=F&&0<=C&&C<=j&&0<=L&&L<=j;var l=r.pan(),c=r.zoom();A=z(D,C,S,L),I=V(D,C,S,L),M=[(D+S)/2,(C+L)/2],P=[(M[0]-l.x)/c,(M[1]-l.y)/c];var h=200,d=h*h;if(I<d&&!n.touches[2]){var p=e.findNearestElement(i[0],i[1],!0,!0),g=e.findNearestElement(i[2],i[3],!0,!0);return p&&p.isNode()?(p.activate().trigger(new a(n,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),e.touchData.start=p):g&&g.isNode()?(g.activate().trigger(new a(n,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),e.touchData.start=g):(r.trigger(new a(n,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),e.touchData.start=null),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var v=e.findNearestElements(i[0],i[1],!0,!0),b=v[0];if(null!=b&&(b.activate(),e.touchData.start=b,e.touchData.starts=v,e.nodeIsGrabbable(b))){var w=e.dragData.touchDragEles=[];if(e.redrawHint("eles",!0),e.redrawHint("drag",!0),b.selected()){var E=r.$(function(){return this.selected()&&e.nodeIsGrabbable(this)});y(E,{addToList:w})}else m(b,{addToList:w});f(b),b.trigger(new a(n,{type:"grab",cyPosition:{x:i[0],y:i[1]}}))}t(b,["touchstart","tapstart","vmousedown"],n,{cyPosition:{x:i[0],y:i[1]}}),null==b&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.startPosition=[];for(var _=0;_<i.length;_++)o[_]=i[_],e.touchData.startPosition[_]=i[_];e.touchData.startGPosition=[n.touches[0].clientX,n.touches[0].clientY],e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved!==!1||e.pinching||e.touchData.selecting||(t(e.touchData.start,["taphold"],n,{cyPosition:{x:i[0],y:i[1]}}),e.touchData.start||r.$(":selected").unselect())},e.tapholdDuration)}},!1);var Y;e.registerBinding(window,"touchmove",Y=function(n){var i=e.selection,u=e.touchData.capture,l=e.cy,c=e.touchData.now,h=e.touchData.earlier,d=l.zoom();if(n.touches[0]){var f=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=f[0],c[1]=f[1]}if(n.touches[1]){var f=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);c[2]=f[0],c[3]=f[1]}if(n.touches[2]){var f=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);c[4]=f[0],c[5]=f[1]}var p;if(u&&n.touches[0]){for(var g=[],v=0;v<c.length;v++)g[v]=c[v]-h[v];var m=e.touchData.startGPosition,b=n.touches[0].clientX-m[0],w=b*b,E=n.touches[0].clientY-m[1],_=E*E,T=w+_;p=T>=e.touchTapThreshold2}if(u&&e.touchData.cxt){n.preventDefault();var N=n.touches[0].clientX-O,k=n.touches[0].clientY-R,M=n.touches[1].clientX-O,F=n.touches[1].clientY-R,j=V(N,k,M,F),q=j/I,Y=150,X=Y*Y,U=1.5,G=U*U;if(q>=G||j>=X){e.touchData.cxt=!1,e.touchData.start&&(e.touchData.start.unactivate(),e.touchData.start=null),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var H=new a(n,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}});e.touchData.start?e.touchData.start.trigger(H):l.trigger(H)}}if(u&&e.touchData.cxt){var H=new a(n,{type:"cxtdrag",cyPosition:{x:c[0],y:c[1]}});e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.trigger(H):l.trigger(H),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var W=e.findNearestElement(c[0],c[1],!0,!0);e.touchData.cxtOver&&W===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.trigger(new a(n,{type:"cxtdragout",cyPosition:{x:c[0],y:c[1]}})),e.touchData.cxtOver=W,W&&W.trigger(new a(n,{type:"cxtdragover",cyPosition:{x:c[0],y:c[1]}})))}else if(u&&n.touches[2]&&l.boxSelectionEnabled())n.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||l.trigger("boxstart"),e.touchData.selecting=!0,e.redrawHint("select",!0),i&&0!==i.length&&void 0!==i[0]?(i[2]=(c[0]+c[2]+c[4])/3,i[3]=(c[1]+c[3]+c[5])/3):(i[0]=(c[0]+c[2]+c[4])/3,i[1]=(c[1]+c[3]+c[5])/3,i[2]=(c[0]+c[2]+c[4])/3+1,i[3]=(c[1]+c[3]+c[5])/3+1),i[4]=1,e.touchData.selecting=!0,e.redraw();else if(u&&n.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){n.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var $=e.dragData.touchDragEles;if($){e.redrawHint("drag",!0);for(var Z=0;Z<$.length;Z++)$[Z]._private.grabbed=!1,$[Z]._private.rscratch.inDragLayer=!1}var N=n.touches[0].clientX-O,k=n.touches[0].clientY-R,M=n.touches[1].clientX-O,F=n.touches[1].clientY-R,Q=z(N,k,M,F),K=Q/A;if(1!=K&&B){var J=N-D,ee=k-C,te=M-S,ne=F-L,re=(J+te)/2,ie=(ee+ne)/2,oe=l.zoom(),ae=oe*K,se=l.pan(),ue=P[0]*oe+se.x,le=P[1]*oe+se.y,ce={x:-ae/oe*(ue-se.x-re)+ue,y:-ae/oe*(le-se.y-ie)+le};if(e.touchData.start){var $=e.dragData.touchDragEles;x($),e.redrawHint("drag",!0),e.redrawHint("eles",!0),e.touchData.start.trigger("free").unactivate()}l.viewport({zoom:ae,pan:ce,cancelOnFailedZoom:!0}),A=Q,D=N,C=k,S=M,L=F,e.pinching=!0}if(n.touches[0]){var f=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=f[0],c[1]=f[1]}if(n.touches[1]){var f=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);c[2]=f[0],c[3]=f[1]}if(n.touches[2]){var f=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);c[4]=f[0],c[5]=f[1]}}else if(n.touches[0]){var W,he=e.touchData.start,de=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(W=e.findNearestElement(c[0],c[1],!0,!0)),u&&null!=he&&n.preventDefault(),u&&null!=he&&e.nodeIsDraggable(he))if(p){var $=e.dragData.touchDragEles,fe=!e.dragData.didDrag;fe&&y(l.collection($),{inDragLayer:!0});for(var pe=0;pe<$.length;pe++){var ge=$[pe];if(e.nodeIsDraggable(ge)&&ge.grabbed()){e.dragData.didDrag=!0;var ve=ge._private.position,ye=!ge.isParent();if(ye&&r.number(g[0])&&r.number(g[1])&&(ve.x+=g[0],ve.y+=g[1]),fe){e.redrawHint("eles",!0);var me=e.touchData.dragDelta;ye&&me&&r.number(me[0])&&r.number(me[1])&&(ve.x+=me[0],ve.y+=me[1])}}}var xe=l.collection($);xe.updateCompoundBounds(),xe.trigger("position drag"),e.hoverData.draggingEles=!0,e.redrawHint("drag",!0),e.touchData.startPosition[0]==h[0]&&e.touchData.startPosition[1]==h[1]&&e.redrawHint("eles",!0),e.redraw()}else{var me=e.touchData.dragDelta=e.touchData.dragDelta||[];0===me.length?(me.push(g[0]),me.push(g[1])):(me[0]+=g[0],me[1]+=g[1])}if(t(he||W,["touchmove","tapdrag","vmousemove"],n,{cyPosition:{x:c[0],y:c[1]}}),he&&he.grabbed()||W==de||(de&&de.trigger(new a(n,{type:"tapdragout",cyPosition:{x:c[0],y:c[1]}})),W&&W.trigger(new a(n,{type:"tapdragover",cyPosition:{x:c[0],y:c[1]}}))),e.touchData.last=W,u)for(var Z=0;Z<c.length;Z++)c[Z]&&e.touchData.startPosition[Z]&&p&&(e.touchData.singleTouchMoved=!0);if(u&&(null==he||he.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()){var be=s(he,e.touchData.starts);be&&(n.preventDefault(),e.swipePanning?l.panBy({x:g[0]*d,y:g[1]*d}):p&&(e.swipePanning=!0,l.panBy({x:b*d,y:E*d}),he&&(he.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=o.array2point(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null)));var f=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=f[0],c[1]=f[1]}}for(var v=0;v<c.length;v++)h[v]=c[v]},!1);var X;e.registerBinding(window,"touchcancel",X=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()});var U;if(e.registerBinding(window,"touchend",U=function(n){var r=e.touchData.start,i=e.touchData.capture;if(i){e.touchData.capture=!1,n.preventDefault();var o=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var s=e.cy,u=s.zoom(),l=e.touchData.now,c=e.touchData.earlier;if(n.touches[0]){var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=h[0],l[1]=h[1]}if(n.touches[1]){var h=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=h[0],l[3]=h[1]}if(n.touches[2]){var h=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=h[0],l[5]=h[1]}r&&r.unactivate();var d;if(e.touchData.cxt){if(d=new a(n,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}}),r?r.trigger(d):s.trigger(d),!e.touchData.cxtDragged){var f=new a(n,{type:"cxttap",cyPosition:{x:l[0],y:l[1]}});r?r.trigger(f):s.trigger(f)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!n.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var p=s.collection(e.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,e.redrawHint("select",!0),s.trigger("boxend");var g=function(e){return e.selectable()&&!e.selected()};p.trigger("box").stdFilter(g).select().trigger("boxselect"),p.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=r&&r.unactivate(),n.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var v=e.dragData.touchDragEles;if(null!=r){var y=r._private.grabbed;x(v),e.redrawHint("drag",!0),e.redrawHint("eles",!0),y&&r.trigger("free"),t(r,["touchend","tapend","vmouseup","tapdragout"],n,{cyPosition:{x:l[0],y:l[1]}}),r.unactivate(),e.touchData.start=null}else{var m=e.findNearestElement(l[0],l[1],!0,!0);t(m,["touchend","tapend","vmouseup","tapdragout"],n,{cyPosition:{x:l[0],y:l[1]}})}var b=e.touchData.startPosition[0]-l[0],w=b*b,E=e.touchData.startPosition[1]-l[1],_=E*E,T=w+_,N=T*u*u;null!=r&&!e.dragData.didDrag&&r._private.selectable&&N<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(":selected").unmerge(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved||t(r,["tap","vclick"],n,{cyPosition:{x:l[0],y:l[1]}}),e.touchData.singleTouchMoved=!0}for(var k=0;k<l.length;k++)c[k]=l[k];e.dragData.didDrag=!1,0===n.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,
e.touchData.startGPosition=null),n.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var G=[],H=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},W=function(e){return{event:e,touch:H(e)}},$=function(e){G.push(W(e))},Z=function(e){for(var t=0;t<G.length;t++){var n=G[t];if(n.event.pointerId===e.pointerId)return void G.splice(t,1)}},Q=function(e){var t=G.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=H(e)},K=function(e){e.touches=G.map(function(e){return e.touch})};e.registerBinding(e.container,"pointerdown",function(e){"mouse"!==e.pointerType&&(e.preventDefault(),$(e),K(e),q(e))}),e.registerBinding(e.container,"pointerup",function(e){"mouse"!==e.pointerType&&(Z(e),K(e),U(e))}),e.registerBinding(e.container,"pointercancel",function(e){"mouse"!==e.pointerType&&(Z(e),K(e),X(e))}),e.registerBinding(e.container,"pointermove",function(e){"mouse"!==e.pointerType&&(e.preventDefault(),Q(e),K(e),Y(e))})}},t.exports=s},{"../../../event":54,"../../../is":92,"../../../math":94,"../../../util":109}],71:[function(e,t,n){"use strict";var r=e("../../../math"),i={};i.registerNodeShapes=function(){function e(e,i){return t[e]={name:e,points:i,draw:function(e,t,r,i,o){n.nodeShapeImpl("polygon")(e,t,r,i,o,this.points)},intersectLine:function(e,t,n,i,o,a,s){return r.polygonIntersectLine(o,a,this.points,e,t,n/2,i/2,s)},checkPoint:function(n,i,o,a,s,u,l){return r.pointInsidePolygon(n,i,t[e].points,u,l,a,s,[0,-1],o)}}}var t=this.nodeShapes={},n=this;t.ellipse={name:"ellipse",draw:function(e,t,r,i,o){n.nodeShapeImpl(this.name)(e,t,r,i,o)},intersectLine:function(e,t,n,i,o,a,s){return r.intersectLineEllipse(o,a,e,t,n/2+s,i/2+s)},checkPoint:function(e,t,n,r,i,o,a){return e-=o,t-=a,e/=r/2+n,t/=i/2+n,e*e+t*t<=1}},e("triangle",r.generateUnitNgonPointsFitToSquare(3,0)),e("square",r.generateUnitNgonPointsFitToSquare(4,0)),t.rectangle=t.square,t.roundrectangle={name:"roundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,i,o){n.nodeShapeImpl(this.name)(e,t,r,i,o)},intersectLine:function(e,t,n,i,o,a,s){return r.roundRectangleIntersectLine(o,a,e,t,n,i,s)},checkPoint:function(e,t,n,i,o,a,s){var u=r.getRoundRectangleRadius(i,o);if(r.pointInsidePolygon(e,t,this.points,a,s,i,o-2*u,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,a,s,i-2*u,o,[0,-1],n))return!0;var l=function(e,t,n,r,i,o,a){return e-=n,t-=r,e/=i/2+a,t/=o/2+a,e*e+t*t<=1};return!!l(e,t,a-i/2+u,s-o/2+u,2*u,2*u,n)||(!!l(e,t,a+i/2-u,s-o/2+u,2*u,2*u,n)||(!!l(e,t,a+i/2-u,s+o/2-u,2*u,2*u,n)||!!l(e,t,a-i/2+u,s+o/2-u,2*u,2*u,n)))}},e("diamond",[0,1,1,0,0,-1,-1,0]),e("pentagon",r.generateUnitNgonPointsFitToSquare(5,0)),e("hexagon",r.generateUnitNgonPointsFitToSquare(6,0)),e("heptagon",r.generateUnitNgonPointsFitToSquare(7,0)),e("octagon",r.generateUnitNgonPointsFitToSquare(8,0));var i=new Array(20),o=r.generateUnitNgonPoints(5,0),a=r.generateUnitNgonPoints(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var u=0;u<a.length/2;u++)a[2*u]*=s,a[2*u+1]*=s;for(var u=0;u<5;u++)i[4*u]=o[2*u],i[4*u+1]=o[2*u+1],i[4*u+2]=a[2*u],i[4*u+3]=a[2*u+1];i=r.fitPolygonToSquare(i),e("star",i),e("vee",[-1,-1,0,-.333,1,-1,0,1]),e("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),t.makePolygon=function(n){var r,i=n.join("$"),o="polygon-"+i;return(r=t[o])?r:e(o,n)}},t.exports=i},{"../../../math":94}],72:[function(e,t,n){"use strict";var r=e("../../../util"),i={};i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},i.redraw=function(e){e=e||r.staticEmptyObject();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},i.beforeRender=function(e,t){t=t||0;var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})},i.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var t=function(t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)},n=function(i){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){t(!0,i);var o=r.performanceNow();e.render(e.renderOptions);var a=e.lastDrawTime=r.performanceNow();void 0===e.averageRedrawTime&&(e.averageRedrawTime=a-o),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=a-o;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else t(!1,i);e.skipFrame=!1,r.requestAnimationFrame(n)}};r.requestAnimationFrame(n)}},t.exports=i},{"../../../util":109}],73:[function(e,t,n){"use strict";var r,i={};i.arrowShapeImpl=function(e){return(r||(r={polygon:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}},"triangle-backcurve":function(e,t,n){for(var r,i=0;i<t.length;i++){var o=t[i];0===i&&(r=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function(e,t,n){for(var r=t,i=0;i<r.length;i++){var o=r[i];e.lineTo(o.x,o.y)}var a=n,s=n[0];e.moveTo(s.x,s.y);for(var i=0;i<a.length;i++){var o=a[i];e.lineTo(o.x,o.y)}},circle:function(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}}))[e]},t.exports=i},{}],74:[function(e,t,n){"use strict";var r={};r.drawEdge=function(e,t,n,r,i){var o=t._private.rscratch,a=this.usePaths();if(!(o.badLine||isNaN(o.allpts[0])||t.pstyle("width").pfValue<=0)){var s;n&&(s=n,e.translate(-s.x1,-s.y1));var u=t.pstyle("overlay-padding").pfValue,l=t.pstyle("overlay-opacity").value,c=t.pstyle("overlay-color").value;if(i){if(0===l)return;this.strokeStyle(e,c[0],c[1],c[2],l),e.lineCap="round","self"!=o.edgeType||a||(e.lineCap="butt")}else{var h=t.pstyle("line-color").value;this.strokeStyle(e,h[0],h[1],h[2],t.pstyle("opacity").value),e.lineCap="butt"}e.lineJoin="round";var d=t.pstyle("width").pfValue+(i?2*u:0),f=i?"solid":t.pstyle("line-style").value;e.lineWidth=d;var p=t.pstyle("shadow-blur").pfValue,g=t.pstyle("shadow-opacity").value,v=t.pstyle("shadow-color").value,y=t.pstyle("shadow-offset-x").pfValue,m=t.pstyle("shadow-offset-y").pfValue;this.shadowStyle(e,v,i?0:g,p,y,m),this.drawEdgePath(t,e,o.allpts,f,d),this.drawArrowheads(e,t,i),this.shadowStyle(e,"transparent",0),i||this.drawEdge(e,t,!1,r,!0),this.drawElementText(e,t,r),n&&e.translate(s.x1,s.y1)}},r.drawEdgePath=function(e,t,n,r,i){var o,a=e._private.rscratch,s=t,u=!1,l=this.usePaths();if(l){var c=n.join("$"),h=a.pathCacheKey&&a.pathCacheKey===c;h?(o=t=a.pathCache,u=!0):(o=t=new Path2D,a.pathCacheKey=c,a.pathCache=o)}if(s.setLineDash)switch(r){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([6,3]);break;case"solid":s.setLineDash([])}if(!u&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var d=2;d+1<n.length;d+=2)t.lineTo(n[d],n[d+1])}t=s,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])},r.drawArrowheads=function(e,t,n){if(!n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle)}},r.drawArrowhead=function(e,t,n,r,i,o){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var a=this,s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var u=e.globalCompositeOperation,l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,h=t.pstyle("opacity").value;"half-triangle-overshot"===s&&(c="hollow",l="hollow"),1===h&&"hollow"!==c||(e.globalCompositeOperation="destination-out",a.fillStyle(e,255,255,255,1),a.strokeStyle(e,255,255,255,1),a.drawArrowShape(t,n,e,l,t.pstyle("width").pfValue,t.pstyle(n+"-arrow-shape").value,r,i,o),e.globalCompositeOperation=u);var d=t.pstyle(n+"-arrow-color").value;a.fillStyle(e,d[0],d[1],d[2],h),a.strokeStyle(e,d[0],d[1],d[2],h),a.drawArrowShape(t,n,e,c,t.pstyle("width").pfValue,t.pstyle(n+"-arrow-shape").value,r,i,o)}}},r.drawArrowShape=function(e,t,n,r,i,o,a,s,u){var l,c=this,h=this.usePaths(),d=e._private.rscratch,f=!1,p=n,g={x:a,y:s},v=this.getArrowWidth(i),y=c.arrowShapes[o];if(h){var m=v+"$"+o+"$"+u+"$"+a+"$"+s;d.arrowPathCacheKey=d.arrowPathCacheKey||{},d.arrowPathCache=d.arrowPathCache||{};var x=d.arrowPathCacheKey[t]===m;x?(l=n=d.arrowPathCache[t],f=!0):(l=n=new Path2D,d.arrowPathCacheKey[t]=m,d.arrowPathCache[t]=l)}n.beginPath&&n.beginPath(),f||y.draw(n,v,u,g),!y.leavePathOpen&&n.closePath&&n.closePath(),n=p,"filled"!==r&&"both"!==r||(h?n.fill(l):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=y.matchEdgeWidth?i:1,n.lineJoin="miter",h?n.stroke(l):n.stroke())},t.exports=r},{}],75:[function(e,t,n){"use strict";var r=e("../../../math"),i={};i.drawElement=function(e,t,n,r){var i=this;t.isNode()?i.drawNode(e,t,n,r):i.drawEdge(e,t,n,r)},i.drawCachedElement=function(e,t,n,i){var o=this,a=t.boundingBox();if(!i||r.boundingBoxesIntersect(a,i)){var s=o.data.eleTxrCache.getElement(t,a,n);s?e.drawImage(s.texture.canvas,s.x,0,s.width,s.height,a.x1,a.y1,a.w,a.h):o.drawElement(e,t)}},i.drawElements=function(e,t){for(var n=this,r=0;r<t.length;r++){var i=t[r];n.drawElement(e,i)}},i.drawCachedElements=function(e,t,n,r){for(var i=this,o=0;o<t.length;o++){var a=t[o];i.drawCachedElement(e,a,n,r)}},i.drawCachedNodes=function(e,t,n,r){for(var i=this,o=0;o<t.length;o++){var a=t[o];a.isNode()&&i.drawCachedElement(e,a,n,r)}},i.drawLayeredElements=function(e,t,n,r){var i=this,o=i.data.lyrTxrCache.getLayers(t,n);if(o)for(var a=0;a<o.length;a++){var s=o[a],u=s.bb;e.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(e,t,n,r)},t.exports=i},{"../../../math":94}],76:[function(e,t,n){"use strict";var r={};r.safeDrawImage=function(e,t,n,r,i,o,a,s,u,l){var c=this;try{e.drawImage(t,n,r,i,o,a,s,u,l)}catch(h){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.drawingImage=!0,c.redraw()}},r.drawInscribedImage=function(e,t,n){var r=this,i=n._private.position.x,o=n._private.position.y,a=n.pstyle("background-fit").value,s=n.pstyle("background-position-x"),u=n.pstyle("background-position-y"),l=n.pstyle("background-repeat").value,c=n.width(),h=n.height(),d=n._private.rscratch,f=n.pstyle("background-clip").value,p="node"===f,g=n.pstyle("background-image-opacity").value,v=t.width||t.cachedW,y=t.height||t.cachedH;null!=v&&null!=y||(document.body.appendChild(t),v=t.cachedW=t.width||t.offsetWidth,y=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var m=v,x=y,b=n.pstyle("background-width");"auto"!==b.value&&(m="%"===b.units?b.value/100*c:b.pfValue);var w=n.pstyle("background-height");if("auto"!==w.value&&(x="%"===w.units?w.value/100*h:w.pfValue),0!==m&&0!==x){if("contain"===a){var E=Math.min(c/m,h/x);m*=E,x*=E}else if("cover"===a){var E=Math.max(c/m,h/x);m*=E,x*=E}var _=i-c/2;_+="%"===s.units?(c-m)*s.value/100:s.pfValue;var T=o-h/2;T+="%"===u.units?(h-x)*u.value/100:u.pfValue,d.pathCache&&(_-=i,T-=o,i=0,o=0);var N=e.globalAlpha;if(e.globalAlpha=g,"no-repeat"===l)p&&(e.save(),d.pathCache?e.clip(d.pathCache):(r.nodeShapes[r.getNodeShape(n)].draw(e,i,o,c,h),e.clip())),r.safeDrawImage(e,t,0,0,v,y,_,T,m,x),p&&e.restore();else{var k=e.createPattern(t,l);e.fillStyle=k,r.nodeShapes[r.getNodeShape(n)].draw(e,i,o,c,h),e.translate(_,T),e.fill(),e.translate(-_,-T)}e.globalAlpha=N}},t.exports=r},{}],77:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){var o=o||5;e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill()}var i=e("../../../util"),o=e("../../../math"),a={};a.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(o.log2(n*r));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(a<s)},a.drawElementText=function(e,t,n){var r=this;if(void 0===n){if(!r.eleTextBiggerThanMin(t))return}else if(!n)return;if(t.isNode()){var i=t.pstyle("label");if(!i||!i.value)return;var o=t.pstyle("text-halign").strValue,a=t.pstyle("text-valign").strValue;switch(o){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}switch(a){case"top":e.textBaseline="bottom";break;case"bottom":e.textBaseline="top";break;default:e.textBaseline="middle"}}else{var i=t.pstyle("label"),s=t.pstyle("source-label"),u=t.pstyle("target-label");if(!(i&&i.value||s&&s.value||u&&u.value))return;e.textAlign="center",e.textBaseline="middle"}r.drawText(e,t),t.isEdge()&&(r.drawText(e,t,"source"),r.drawText(e,t,"target"))},a.drawNodeText=a.drawEdgeText=a.drawElementText,a.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},a.setupTextStyle=function(e,t){var n=t.effectiveOpacity(),r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*n,u=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,h=t.pstyle("text-shadow-blur").pfValue,d=t.pstyle("text-shadow-opacity").value,f=t.pstyle("text-shadow-color").value,p=t.pstyle("text-shadow-offset-x").pfValue,g=t.pstyle("text-shadow-offset-y").pfValue,v=t._private.fontKey,y=this.getFontCache(e);y.key!==v&&(e.font=r+" "+a+" "+i+" "+o,y.key=v),e.lineJoin="round",this.fillStyle(e,l[0],l[1],l[2],s),this.strokeStyle(e,c[0],c[1],c[2],u),this.shadowStyle(e,f,d,h,p,g)},a.drawText=function(e,t,n){var o=t._private,a=o.rscratch,s=t.effectiveOpacity();if(0!==s&&0!==t.pstyle("text-opacity").value){var u=i.getPrefixedProperty(a,"labelX",n),l=i.getPrefixedProperty(a,"labelY",n),c=this.getLabelText(t,n);if(null!=c&&""!==c&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(e,t);var h=n?n+"-":"",d=i.getPrefixedProperty(a,"labelWidth",n),f=i.getPrefixedProperty(a,"labelHeight",n),p=i.getPrefixedProperty(a,"labelAngle",n),g=t.pstyle(h+"text-margin-x").pfValue,v=t.pstyle(h+"text-margin-y").pfValue,y=t.isEdge(),m=t.isNode(),x=t.pstyle("text-halign").value,b=t.pstyle("text-valign").value;y&&(x="center",b="center"),u+=g,l+=v;var w,E=t.pstyle("text-rotation");if(w="autorotate"===E.strValue?y?p:0:"none"===E.strValue?0:E.pfValue,0!==w){var _=u,T=l;e.translate(_,T),e.rotate(w),u=0,l=0}if(m){var N=t.pstyle("padding-left").pfValue,k=t.pstyle("padding-right").pfValue,D=t.pstyle("padding-top").pfValue,C=t.pstyle("padding-bottom").pfValue;u+=N/2,u-=k/2,l+=D/2,l-=C/2}var S=t.pstyle("text-background-opacity").value,L=t.pstyle("text-border-opacity").value,A=t.pstyle("text-border-width").pfValue;if(S>0||A>0&&L>0){var I=d,M=f,P=u;x&&("center"==x?P-=I/2:"left"==x&&(P-=I));var O=l;if(m?"top"==b?O-=M:"center"==b&&(O-=M/2):O-=M/2,S>0){var R=e.fillStyle,F=t.pstyle("text-background-color").value;e.fillStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+S*s+")";var j=t.pstyle("text-background-shape").strValue;"roundrectangle"==j?r(e,P,O,I,M,2):e.fillRect(P,O,I,M),e.fillStyle=R}if(A>0&&L>0){var B=e.strokeStyle,q=e.lineWidth,z=t.pstyle("text-border-color").value,V=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+z[0]+","+z[1]+","+z[2]+","+L*s+")",e.lineWidth=A,e.setLineDash)switch(V){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=A/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(P,O,I,M),"double"===V){var Y=A/2;e.strokeRect(P+Y,O+Y,I-2*Y,M-2*Y)}e.setLineDash&&e.setLineDash([]),e.lineWidth=q,e.strokeStyle=B}}var X=2*t.pstyle("text-outline-width").pfValue;if(X>0&&(e.lineWidth=X),"wrap"===t.pstyle("text-wrap").value){var U=a.labelWrapCachedLines,G=f/U.length;switch(b){case"top":l-=(U.length-1)*G;break;case"bottom":break;default:case"center":l-=(U.length-1)*G/2}for(var H=0;H<U.length;H++)X>0&&e.strokeText(U[H],u,l),e.fillText(U[H],u,l),l+=G}else X>0&&e.strokeText(c,u,l),e.fillText(c,u,l);0!==w&&(e.rotate(-w),e.translate(-_,-T)),this.shadowStyle(e,"transparent",0)}}},t.exports=a},{"../../../math":94,"../../../util":109}],78:[function(e,t,n){"use strict";var r=e("../../../is"),i={};i.drawNode=function(e,t,n,i){var o,a,s=this,u=t._private.rscratch,l=t._private,c=c||l.position;if(r.number(c.x)&&r.number(c.y)){var h,d=this.usePaths(),f=!1,p=t.effectiveOpacity();if(0!==p){o=t.width()+t.pstyle("padding-left").pfValue+t.pstyle("padding-right").pfValue,a=t.height()+t.pstyle("padding-top").pfValue+t.pstyle("padding-bottom").pfValue,e.lineWidth=t.pstyle("border-width").pfValue;var g;n&&(g=n,e.translate(-g.x1,-g.y1));var v,y=t.pstyle("background-image"),m=y.value[2]||y.value[1];if(void 0!==m){v=this.getCachedImage(m,function(){t.trigger("background"),s.redrawHint("eles",!0),s.redrawHint("drag",!0),s.drawingImage=!0,s.redraw()});var x=l.backgrounding;l.backgrounding=!v.complete,x!==l.backgrounding&&t.updateStyle(!1)}var b=t.pstyle("background-color").value,w=t.pstyle("border-color").value,E=t.pstyle("border-style").value;this.fillStyle(e,b[0],b[1],b[2],t.pstyle("background-opacity").value*p),this.strokeStyle(e,w[0],w[1],w[2],t.pstyle("border-opacity").value*p);var _=t.pstyle("shadow-blur").pfValue,T=t.pstyle("shadow-opacity").value,N=t.pstyle("shadow-color").value,k=t.pstyle("shadow-offset-x").pfValue,D=t.pstyle("shadow-offset-y").pfValue;if(this.shadowStyle(e,N,T,_,k,D),e.lineJoin="miter",e.setLineDash)switch(E){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var C=t.pstyle("shape").strValue,S=t.pstyle("shape-polygon-points").pfValue;if(d){var L=C+"$"+o+"$"+a+("polygon"===C?"$"+S.join("$"):"");e.translate(c.x,c.y),u.pathCacheKey===L?(h=u.pathCache,f=!0):(h=new Path2D,u.pathCacheKey=L,u.pathCache=h)}if(!f){var A=c;d&&(A={x:0,y:0}),s.nodeShapes[this.getNodeShape(t)].draw(h||e,A.x,A.y,o,a)}d?e.fill(h):e.fill(),this.shadowStyle(e,"transparent",0),void 0!==m&&v.complete&&this.drawInscribedImage(e,v,t);var I=t.pstyle("background-blacken").value,M=t.pstyle("border-width").pfValue;if(this.hasPie(t)&&(this.drawPie(e,t,p),0===I&&0===M||d||s.nodeShapes[this.getNodeShape(t)].draw(e,c.x,c.y,o,a)),I>0?(this.fillStyle(e,0,0,0,I),d?e.fill(h):e.fill()):I<0&&(this.fillStyle(e,255,255,255,-I),d?e.fill(h):e.fill()),M>0&&(d?e.stroke(h):e.stroke(),"double"===E)){e.lineWidth=t.pstyle("border-width").pfValue/3;var P=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(h):e.stroke(),e.globalCompositeOperation=P}d&&e.translate(-c.x,-c.y),e.setLineDash&&e.setLineDash([]),s.drawElementText(e,t,i);var O=t.pstyle("overlay-padding").pfValue,R=t.pstyle("overlay-opacity").value,F=t.pstyle("overlay-color").value;R>0&&(this.fillStyle(e,F[0],F[1],F[2],R),s.nodeShapes.roundrectangle.draw(e,t._private.position.x,t._private.position.y,o+2*O,a+2*O),e.fill()),n&&e.translate(g.x1,g.y1)}}},i.hasPie=function(e){return e=e[0],e._private.hasPie},i.drawPie=function(e,t,n,r){t=t[0];var i=t._private,o=t.cy().style(),a=t.pstyle("pie-size"),s=t.width(),u=t.height(),r=r||i.position,l=r.x,c=r.y,h=Math.min(s,u)/2,d=0,f=this.usePaths();f&&(l=0,c=0),"%"===a.units?h=h*a.value/100:void 0!==a.pfValue&&(h=a.pfValue/2);for(var p=1;p<=o.pieBackgroundN;p++){var g=t.pstyle("pie-"+p+"-background-size").value,v=t.pstyle("pie-"+p+"-background-color").value,y=t.pstyle("pie-"+p+"-background-opacity").value*n,m=g/100;m+d>1&&(m=1-d);var x=1.5*Math.PI+2*Math.PI*d,b=2*Math.PI*m,w=x+b;0===g||d>=1||d+m>1||(e.beginPath(),e.moveTo(l,c),e.arc(l,c,h,x,w),e.closePath(),this.fillStyle(e,v[0],v[1],v[2],y),e.fill(),d+=m)}},t.exports=i},{"../../../is":92}],79:[function(e,t,n){"use strict";var r={},i=e("../../../util"),o=100;r.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},r.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if(t=n[i],t.context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},r.fillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},r.strokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},r.shadowStyle=function(e,t,n,r,i,o){var a=this.cy.zoom();n>0?(e.shadowBlur=r*a,e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+n+")",e.shadowOffsetX=i*a,e.shadowOffsetY=o*a):(e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0)},r.matchCanvasSize=function(e){var t=this,n=t.data,r=e.clientWidth,i=e.clientHeight,o=t.getPixelRatio(),a=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=a);var s,u=r*o,l=i*o;if(u!==t.canvasWidth||l!==t.canvasHeight){t.fontCaches=null;var c=n.canvasContainer;c.style.width=r+"px",c.style.height=i+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)s=n.canvases[h],s.width===u&&s.height===l||(s.width=u,s.height=l,s.style.width=r+"px",s.style.height=i+"px");for(var h=0;h<t.BUFFER_COUNT;h++)s=n.bufferCanvases[h],s.width===u&&s.height===l||(s.width=u,s.height=l,s.style.width=r+"px",s.style.height=i+"px");t.textureMult=1,o<=1&&(s=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,s.width=u*t.textureMult,s.height=l*t.textureMult),t.canvasWidth=u,t.canvasHeight=l}},r.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(e){function t(e,t,n,r,i){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",c.fillStyle(e,255,255,255,c.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=o}function n(e,n){var i,o,s,h;c.clearingMotionBlur||e!==f.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]&&e!==f.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]?(i=k,o=T,s=c.canvasWidth,h=c.canvasHeight):(i={x:N.x*y,y:N.y*y},o=_*y,s=c.canvasWidth*y,h=c.canvasHeight*y),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?t(e,0,0,s,h):r||void 0!==n&&!n||e.clearRect(0,0,s,h),a||(e.translate(i.x,i.y),e.scale(o,o)),l&&e.translate(l.x,l.y),u&&e.scale(u,u)}e=e||i.staticEmptyObject();var r=e.forcedContext,a=e.drawAllLayers,s=e.drawOnlyNodeLayer,u=e.forcedZoom,l=e.forcedPan,c=this,h=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,d=c.cy,f=c.data,p=f.canvasNeedsRedraw,g=c.textureOnViewport&&!r&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),v=void 0!==e.motionBlur?e.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=d.hasCompoundNodes(),x=c.hoverData.draggingEles,b=!(!c.hoverData.selecting&&!c.touchData.selecting);v=v&&!r&&c.motionBlurEnabled&&!b;var w=v;r||(c.prevPxRatio!==h&&(c.invalidateContainerClientCoordsCache(),c.matchCanvasSize(c.container),c.redrawHint("eles",!0),c.redrawHint("drag",!0)),c.prevPxRatio=h),!r&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),v&&(null==c.mbFrames&&(c.mbFrames=0),c.drawingImage||c.mbFrames++,c.mbFrames<3&&(w=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1),c.textureDrawLastFrame&&!g&&(p[c.NODE]=!0,p[c.SELECT_BOX]=!0);var E=d.style()._private.coreStyle,_=d.zoom(),T=void 0!==u?u:_,N=d.pan(),k={x:N.x,y:N.y},D={zoom:_,pan:{x:N.x,y:N.y}},C=c.prevViewport,S=void 0===C||D.zoom!==C.zoom||D.pan.x!==C.pan.x||D.pan.y!==C.pan.y;S||x&&!m||(c.motionBlurPxRatio=1),l&&(k=l),T*=h,k.x*=h,k.y*=h;var L=c.getCachedZSortedEles();if(g||(c.textureDrawLastFrame=!1),g){c.textureDrawLastFrame=!0;var A;if(!c.textureCache){c.textureCache={},A=c.textureCache.bb=d.mutableElements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[c.TEXTURE_BUFFER];var I=c.data.bufferContexts[c.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:h*c.textureMult});var D=c.textureCache.viewport={zoom:d.zoom(),pan:d.pan(),width:c.canvasWidth,height:c.canvasHeight};D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom}}p[c.DRAG]=!1,p[c.NODE]=!1;var M=f.contexts[c.NODE],P=c.textureCache.texture,D=c.textureCache.viewport;A=c.textureCache.bb,M.setTransform(1,0,0,1,0,0),v?t(M,0,0,D.width,D.height):M.clearRect(0,0,D.width,D.height);var O=E["outside-texture-bg-color"].value,R=E["outside-texture-bg-opacity"].value;c.fillStyle(M,O[0],O[1],O[2],R),M.fillRect(0,0,D.width,D.height);var _=d.zoom();n(M,!1),M.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/h,D.height/D.zoom/h),M.drawImage(P,D.mpan.x,D.mpan.y,D.width/D.zoom/h,D.height/D.zoom/h)}else c.textureOnViewport&&!r&&(c.textureCache=null);var F=d.extent(),j=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,B=c.hideEdgesOnViewport&&j,q=[];if(q[c.NODE]=!p[c.NODE]&&v&&!c.clearedForMotionBlur[c.NODE]||c.clearingMotionBlur,q[c.NODE]&&(c.clearedForMotionBlur[c.NODE]=!0),q[c.DRAG]=!p[c.DRAG]&&v&&!c.clearedForMotionBlur[c.DRAG]||c.clearingMotionBlur,q[c.DRAG]&&(c.clearedForMotionBlur[c.DRAG]=!0),p[c.NODE]||a||s||q[c.NODE]){var z=v&&!q[c.NODE]&&1!==y,M=r||(z?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]:f.contexts[c.NODE]),V=v&&!z?"motionBlur":void 0;n(M,V),B?c.drawCachedNodes(M,L.nondrag,h,F):c.drawLayeredElements(M,L.nondrag,h,F),a||v||(p[c.NODE]=!1)}if(!s&&(p[c.DRAG]||a||q[c.DRAG])){var z=v&&!q[c.DRAG]&&1!==y,M=r||(z?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]:f.contexts[c.DRAG]);n(M,v&&!z?"motionBlur":void 0),B?c.drawCachedNodes(M,L.drag,h,F):c.drawCachedElements(M,L.drag,h,F),a||v||(p[c.DRAG]=!1)}if(c.showFps||!s&&p[c.SELECT_BOX]&&!a){var M=r||f.contexts[c.SELECT_BOX];if(n(M),1==c.selection[4]&&(c.hoverData.selecting||c.touchData.selecting)){var _=c.cy.zoom(),Y=E["selection-box-border-width"].value/_;M.lineWidth=Y,M.fillStyle="rgba("+E["selection-box-color"].value[0]+","+E["selection-box-color"].value[1]+","+E["selection-box-color"].value[2]+","+E["selection-box-opacity"].value+")",M.fillRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1]),Y>0&&(M.strokeStyle="rgba("+E["selection-box-border-color"].value[0]+","+E["selection-box-border-color"].value[1]+","+E["selection-box-border-color"].value[2]+","+E["selection-box-opacity"].value+")",M.strokeRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1]))}if(f.bgActivePosistion&&!c.hoverData.selecting){var _=c.cy.zoom(),X=f.bgActivePosistion;M.fillStyle="rgba("+E["active-bg-color"].value[0]+","+E["active-bg-color"].value[1]+","+E["active-bg-color"].value[2]+","+E["active-bg-opacity"].value+")",M.beginPath(),M.arc(X.x,X.y,E["active-bg-size"].pfValue/_,0,2*Math.PI),M.fill()}var U=c.lastRedrawTime;if(c.showFps&&U){U=Math.round(U);var G=Math.round(1e3/U);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+U+" ms = "+G+" fps",0,20);var H=60;M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(G/H,1),20)}a||(p[c.SELECT_BOX]=!1)}if(v&&1!==y){var W=f.contexts[c.NODE],$=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_NODE],Z=f.contexts[c.DRAG],Q=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_DRAG],K=function(e,n,r){e.setTransform(1,0,0,1,0,0),r||!w?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):t(e,0,0,c.canvasWidth,c.canvasHeight);var i=y;e.drawImage(n,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};(p[c.NODE]||q[c.NODE])&&(K(W,$,q[c.NODE]),p[c.NODE]=!1),(p[c.DRAG]||q[c.DRAG])&&(K(Z,Q,q[c.DRAG]),p[c.DRAG]=!1)}c.prevViewport=D,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),v&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[c.NODE]=!1,c.clearedForMotionBlur[c.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!g,c.mbFrames=0,p[c.NODE]=!0,p[c.DRAG]=!0,c.redraw()},o)),c.drawingImage=!1,r||c.initrender||(c.initrender=!0,d.trigger("initrender")),r||d.trigger("render")},t.exports=r},{"../../../util":109}],80:[function(e,t,n){"use strict";var r=e("../../../math"),i={};i.drawPolygonPath=function(e,t,n,r,i,o){var a=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*o[0],n+s*o[1]);for(var u=1;u<o.length/2;u++)e.lineTo(t+a*o[2*u],n+s*o[2*u+1]);e.closePath()},i.drawRoundRectanglePath=function(e,t,n,i,o,a){var s=i/2,u=o/2,l=r.getRoundRectangleRadius(i,o);e.beginPath&&e.beginPath(),e.moveTo(t,n-u),e.arcTo(t+s,n-u,t+s,n,l),e.arcTo(t+s,n+u,t,n+u,l),e.arcTo(t-s,n+u,t-s,n,l),e.arcTo(t-s,n-u,t,n-u,l),e.lineTo(t,n-u),e.closePath()};for(var o=Math.sin(0),a=Math.cos(0),s={},u={},l=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=l)s[c]=Math.sin(c),u[c]=Math.cos(c);i.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var c,h,d=r/2,f=i/2,p=0*Math.PI;p<2*Math.PI;p+=l)c=t-d*s[p]*o+d*u[p]*a,h=n+f*u[p]*o+f*s[p]*a,0===p?e.moveTo(c,h):e.lineTo(c,h);e.closePath()},t.exports=i},{"../../../math":94}],81:[function(e,t,n){"use strict";var r=e("../../../math"),i=e("../../../util"),o=e("../../../heap"),a=e("./texture-cache-defs"),s=25,u=50,l=-4,c=2,h=3.99,d=8,f=1024,p=1024,g=1024,v=.5,y=.8,m=10,x=!1,b=!1,w=.15,E=.1,_=.9,T=.9,N=100,k=1,D={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},C=function(e){var t=this;t.renderer=e,t.onDequeues=[],t.setupDequeueing()},S=C.prototype;S.reasons=D,S.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},S.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{},r=n[e]=n[e]||[];return r},S.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new o(function(e,t){return t.reqs-e.reqs});return t},S.getElementIdToQueue=function(){var e=this,t=e.eleIdToCacheQueue=e.eleIdToCacheQueue||{};return t},S.getElement=function(e,t,n,i,o){var a=this,f=this.renderer,v=e._private.rscratch,y=f.cy.zoom();if(null==i&&(i=Math.ceil(r.log2(y*n))),i<l)i=l;else if(y>=h||i>c)return null;var m=Math.pow(2,i),w=t.h*m,E=t.w*m,_=v.imgCaches=v.imgCaches||{},T=_[i];if(T)return T;var N;if(N=w<=s?s:w<=u?u:Math.ceil(w/u)*u,w>g||E>p||!x&&e.isEdge()||!b&&e.isParent())return null;var k=a.getTextureQueue(N),C=k[k.length-2],S=function(){return a.recycleTexture(N,E)||a.addTexture(N,E)};C||(C=k[k.length-1]),C||(C=S()),C.width-C.usedWidth<E&&(C=S());for(var L,A=f.eleTextBiggerThanMin(e,m),I=function(e){return e&&e.scaledLabelShown===A},M=o&&o===D.dequeue,P=o&&o===D.highQuality,O=o&&o===D.downscale,R=i+1;R<=c;R++){var F=_[R];if(F){L=F;break}}var j=L&&L.level===i+1?L:null,B=function(){C.context.drawImage(j.texture.canvas,j.x,0,j.width,j.height,C.usedWidth,0,E,w)};if(I(j))B();else if(I(L)){if(!P)return a.queueElement(e,t,L.level-1),L;for(var R=L.level;R>i;R--)j=a.getElement(e,t,n,R,D.downscale);B()}else{var q;if(!M&&!P&&!O)for(var R=i-1;R>=l;R--){var F=_[R];if(F){q=F;break}}if(I(q))return a.queueElement(e,t,i),q;C.context.translate(C.usedWidth,0),C.context.scale(m,m),f.drawElement(C.context,e,t,A),C.context.scale(1/m,1/m),C.context.translate(-C.usedWidth,0)}return T=_[i]={ele:e,x:C.usedWidth,texture:C,level:i,scale:m,width:E,height:w,scaledLabelShown:A},C.usedWidth+=Math.ceil(E+d),C.eleCaches.push(T),a.checkTextureFullness(C),T},S.invalidateElement=function(e){var t=this,n=e._private.rscratch.imgCaches;if(n)for(var r=l;r<=c;r++){var o=n[r];if(o){var a=o.texture;a.invalidatedWidth+=o.width,
n[r]=null,i.removeFromArray(a.eleCaches,o),t.checkTextureUtility(a)}}},S.checkTextureUtility=function(e){e.invalidatedWidth>=v*e.width&&this.retireTexture(e)},S.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>y&&e.fullnessChecks>=m?i.removeFromArray(n,e):e.fullnessChecks++},S.retireTexture=function(e){var t=this,n=e.height,r=t.getTextureQueue(n);i.removeFromArray(r,e),e.retired=!0;for(var o=e.eleCaches,a=0;a<o.length;a++){var s=o[a],u=s.ele,l=s.level,c=u._private.rscratch.imgCaches;c&&(c[l]=null)}i.clearArray(o);var h=t.getRetiredTextureQueue(n);h.push(e)},S.addTexture=function(e,t){var n=this,r=n.getTextureQueue(e),i={};return r.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(f,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=document.createElement("canvas"),i.canvas.width=i.width,i.canvas.height=i.height,i.context=i.canvas.getContext("2d"),i},S.recycleTexture=function(e,t){for(var n=this,r=n.getTextureQueue(e),o=n.getRetiredTextureQueue(e),a=0;a<o.length;a++){var s=o[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,i.clearArray(s.eleCaches),s.context.clearRect(0,0,s.width,s.height),i.removeFromArray(o,s),r.push(s),s}},S.queueElement=function(e,t,n){var i=this,o=i.getElementQueue(),a=i.getElementIdToQueue(),s=e.id(),u=a[s];if(u)u.level=Math.max(u.level,n),u.reqs++,o.updateItem(u);else{var l={ele:e,bb:t,position:r.copyPosition(e.position()),level:n,reqs:1};e.isEdge()&&(l.positions={source:r.copyPosition(e.source().position()),target:r.copyPosition(e.target().position())}),o.push(l),a[s]=l}},S.dequeue=function(e,t){for(var n=this,i=n.getElementQueue(),o=n.getElementIdToQueue(),a=[],s=0;s<k&&i.size()>0;s++){var u=i.pop();o[u.ele.id()]=null,a.push(u);var l,c=u.ele;l=(!c.isEdge()||r.arePositionsSame(c.source().position(),u.positions.source)&&r.arePositionsSame(c.target().position(),u.positions.target))&&r.arePositionsSame(c.position(),u.position)?u.bb:c.boundingBox(),n.getElement(u.ele,l,e,u.level,D.dequeue)}return a},S.onDequeue=function(e){this.onDequeues.push(e)},S.offDequeue=function(e){i.removeFromArray(this.onDequeues,e)},S.setupDequeueing=a.setupDequeueing({deqRedrawThreshold:N,deqCost:w,deqAvgCost:E,deqNoDrawCost:_,deqFastCost:T,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var r=e.onDequeues[n];r(t)}},shouldRedraw:function(e,t,n,i){for(var o=0;o<t.length;o++){var a=t[o].bb;if(r.boundingBoxesIntersect(a,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}}),t.exports=C},{"../../../heap":90,"../../../math":94,"../../../util":109,"./texture-cache-defs":86}],82:[function(e,t,n){"use strict";var r=e("../../../is"),i={};i.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},i.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements(),i=n.boundingBox(),o=e.full?Math.ceil(i.w):this.container.clientWidth,a=e.full?Math.ceil(i.h):this.container.clientHeight,s=r.number(e.maxWidth)||r.number(e.maxHeight),u=this.getPixelRatio(),l=1;if(void 0!==e.scale)o*=e.scale,a*=e.scale,l=e.scale;else if(s){var c=1/0,h=1/0;r.number(e.maxWidth)&&(c=l*e.maxWidth/o),r.number(e.maxHeight)&&(h=l*e.maxHeight/a),l=Math.min(c,h),o*=l,a*=l}s||(o*=u,a*=u,l*=u);var d=document.createElement("canvas");d.width=o,d.height=a,d.style.width=o+"px",d.style.height=a+"px";var f=d.getContext("2d");if(o>0&&a>0){f.clearRect(0,0,o,a),e.bg&&(f.fillStyle=e.bg,f.rect(0,0,o,a),f.fill()),f.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)f.translate(-i.x1*l,-i.y1*l),f.scale(l,l),this.drawElements(f,p);else{var g=t.pan(),v={x:g.x*l,y:g.y*l};l*=t.zoom(),f.translate(v.x,v.y),f.scale(l,l),this.drawElements(f,p)}}return d},i.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")},i.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")},t.exports=i},{"../../../is":92}],83:[function(e,t,n){"use strict";function r(e){var t=this;t.data={canvases:new Array(l.CANVAS_LAYERS),contexts:new Array(l.CANVAS_LAYERS),canvasNeedsRedraw:new Array(l.CANVAS_LAYERS),bufferCanvases:new Array(l.BUFFER_COUNT),bufferContexts:new Array(l.CANVAS_LAYERS)},t.data.canvasContainer=document.createElement("div");var n=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style","-webkit-tap-highlight-color: rgba(0,0,0,0);"),n.position="relative",n.zIndex="0",n.overflow="hidden";var r=e.cy.container();r.appendChild(t.data.canvasContainer),r.setAttribute("style",(r.getAttribute("style")||"")+"-webkit-tap-highlight-color: rgba(0,0,0,0);");for(var i=0;i<l.CANVAS_LAYERS;i++){var u=t.data.canvases[i]=document.createElement("canvas");t.data.contexts[i]=u.getContext("2d"),u.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(o.ms()?" -ms-touch-action: none; touch-action: none; ":"")),u.style.position="absolute",u.setAttribute("data-id","layer"+i),u.style.zIndex=String(l.CANVAS_LAYERS-i),t.data.canvasContainer.appendChild(u),t.data.canvasNeedsRedraw[i]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[l.NODE].setAttribute("data-id","layer"+l.NODE+"-node"),t.data.canvases[l.SELECT_BOX].setAttribute("data-id","layer"+l.SELECT_BOX+"-selectbox"),t.data.canvases[l.DRAG].setAttribute("data-id","layer"+l.DRAG+"-drag");for(var i=0;i<l.BUFFER_COUNT;i++)t.data.bufferCanvases[i]=document.createElement("canvas"),t.data.bufferContexts[i]=t.data.bufferCanvases[i].getContext("2d"),t.data.bufferCanvases[i].style.position="absolute",t.data.bufferCanvases[i].setAttribute("data-id","buffer"+i),t.data.bufferCanvases[i].style.zIndex=String(-i-1),t.data.bufferCanvases[i].style.visibility="hidden";t.pathsEnabled=!0,t.data.eleTxrCache=new a(t),t.data.lyrTxrCache=new s(t,t.data.eleTxrCache),t.onUpdateEleCalcs(function(e,n){for(var r=0;r<n.length;r++){var i=n[r],o=i._private.rstyle,a=o.dirtyEvents;i.isNode()&&a&&1===a.length&&a.position||t.data.eleTxrCache.invalidateElement(i)}n.length>0&&t.data.lyrTxrCache.invalidateElements(n)})}var i=e("../../../util"),o=e("../../../is"),a=e("./ele-texture-cache"),s=e("./layered-texture-cache"),u=r,l=r.prototype;l.CANVAS_LAYERS=3,l.SELECT_BOX=0,l.DRAG=1,l.NODE=2,l.BUFFER_COUNT=3,l.TEXTURE_BUFFER=0,l.MOTIONBLUR_BUFFER_NODE=1,l.MOTIONBLUR_BUFFER_DRAG=2,l.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[l.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[l.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[l.SELECT_BOX]=t}};var c="undefined"!=typeof Path2D;l.path2dEnabled=function(e){return void 0===e?this.pathsEnabled:void(this.pathsEnabled=!!e)},l.usePaths=function(){return c&&this.pathsEnabled},[e("./arrow-shapes"),e("./drawing-elements"),e("./drawing-edges"),e("./drawing-images"),e("./drawing-label-text"),e("./drawing-nodes"),e("./drawing-redraw"),e("./drawing-shapes"),e("./export-image"),e("./node-shapes")].forEach(function(e){i.extend(l,e)}),t.exports=u},{"../../../is":92,"../../../util":109,"./arrow-shapes":73,"./drawing-edges":74,"./drawing-elements":75,"./drawing-images":76,"./drawing-label-text":77,"./drawing-nodes":78,"./drawing-redraw":79,"./drawing-shapes":80,"./ele-texture-cache":81,"./export-image":82,"./layered-texture-cache":84,"./node-shapes":85}],84:[function(e,t,n){"use strict";function r(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)}var i=e("../../../util"),o=e("../../../math"),a=e("../../../heap"),s=e("../../../is"),u=e("./texture-cache-defs"),l=1,c=-4,h=2,d=3.99,f=50,p=50,g=!0,v=.15,y=.1,m=.9,x=.9,b=1,w=250,E=16e6,_=!0,T=!0,N=!0,k=function(e,t){var n=this;window.cache=this;var r=n.renderer=e;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=i.performanceNow()-2*w,n.skipping=!1,r.beforeRender(function(e,t){t-n.lastInvalidationTime<=w?n.skipping=!0:n.skipping=!1});var o=function(e,t){return t.reqs-e.reqs};n.layersQueue=new a(o),n.eleTxrCache=t,n.setupEleCacheInvalidation(),n.setupDequeueing()},D=k.prototype,C=0,S=Math.pow(2,53)-1;D.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),o=document.createElement("canvas");o.width=r,o.height=i;var a={id:C=++C%S,bb:e,level:t,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,u=-a.bb.x1,l=-a.bb.y1;return s.scale(n,n),s.translate(u,l),a},D.getLayers=function(e,t,n){var r=this,a=r.renderer,s=a.cy,u=s.zoom(),f=r.firstGet;if(r.firstGet=!1,null==n)if(n=Math.ceil(o.log2(u*t)),n<c)n=c;else if(u>=d||n>h)return null;r.validateLayersElesOrdering(n,e);var p,g,v=r.layersByLevel,y=Math.pow(2,n),m=v[n]=v[n]||[],x=r.levelIsComplete(n,e),b=function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return g=v[t],!0},o=function(e){if(!g)for(var r=n+e;c<=r&&r<=h&&!t(r);r+=e);};o(1),o(-1);for(var a=m.length-1;a>=0;a--){var s=m[a];s.invalid&&i.removeFromArray(m,s)}};if(x)return m;b();var w=function(){if(!p){p=o.makeBoundingBox();for(var t=0;t<e.length;t++)o.updateBoundingBox(p,e[t].boundingBox())}return p},T=function(e){e=e||{};var t=e.after;w();var i=p.w*y*(p.h*y);if(i>E)return null;var o=r.makeLayer(p,n);if(null!=t){var a=m.indexOf(t)+1;m.splice(a,0,o)}else(void 0===e.insert||e.insert)&&m.unshift(o);return o};if(r.skipping&&!f)return null;for(var N=null,k=e.length/l,D=_&&!f,C=0;C<e.length;C++){var S=e[C],L=S._private.rscratch,A=L.imgLayerCaches=L.imgLayerCaches||{},I=A[n];if(I)N=I;else{if((!N||N.eles.length>=k||l>1&&!o.boundingBoxInBoundingBox(N.bb,S.boundingBox()))&&(N=T({insert:!0,after:N}),!N))return null;g||D?r.queueLayer(N,S):r.drawEleInLayer(N,S,n,t),N.eles.push(S),A[n]=N}}return g?g:D?null:m},D.getEleLevelForLayerLevel=function(e,t){return e},D.drawEleInLayer=function(e,t,n,i){var o=this,a=this.renderer,s=e.context,u=t.boundingBox(),l=o.eleTxrCache,c=T?l.reasons.highQuality:void 0;n=o.getEleLevelForLayerLevel(n,i);var h=N?l.getElement(t,u,null,n,c):null;h?(g&&r(s,!1),s.drawImage(h.texture.canvas,h.x,0,h.width,h.height,u.x1,u.y1,u.w,u.h),g&&r(s,!0)):a.drawElement(s,t)},D.levelIsComplete=function(e,t){var n=this,r=n.layersByLevel[e];if(!r||0===r.length)return!1;for(var i=0,o=0;o<r.length;o++){var a=r[o];if(a.reqs>0)return!1;if(a.invalid)return!1;i+=a.eles.length}return i===t.length},D.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<t.length;a++)if(i.eles[0]===t[a]){o=a;break}if(o<0)this.invalidateLayer(i);else for(var s=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==t[s+a]){this.invalidateLayer(i);break}}},D.updateElementsInLayers=function(e,t){for(var n=this,r=s.element(e[0]),i=0;i<e.length;i++)for(var o=r?null:e[i],a=r?e[i]:e[i].ele,u=a._private.rscratch,l=u.imgLayerCaches=u.imgLayerCaches||{},d=c;d<=h;d++){var f=l[d];f&&(o&&n.getEleLevelForLayerLevel(f.level)!==o.level||t(f,a,o))}},D.haveLayers=function(){for(var e=this,t=!1,n=c;n<=h;n++){var r=e.layersByLevel[n];if(r&&r.length>0){t=!0;break}}return t},D.invalidateElements=function(e){var t=this;t.lastInvalidationTime=i.performanceNow(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)})},D.invalidateLayer=function(e){if(this.lastInvalidationTime=i.performanceNow(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];i.removeFromArray(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var o=0;o<n.length;o++){var a=n[o]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},D.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var i=e.replacement;if(i||(i=e.replacement=t.makeLayer(e.bb,e.level),i.replaces=e,i.eles=e.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)t.queueLayer(i,i.eles[o])})},D.setupEleCacheInvalidation=function(){var e=this,t=[];if(N){var n=i.debounce(function(){e.refineElementTextures(t),t=[]},p);e.eleTxrCache.onDequeue(function(e){for(var r=0;r<e.length;r++)t.push(e[r]);n()})}},D.queueLayer=function(e,t){var n=this,r=n.layersQueue,i=e.elesQueue,o=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;i.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}},D.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<b&&0!==n.size();){var o=n.peek();if(o.replacement)n.pop();else if(o.replaces&&o!==o.replaces.replacement)n.pop();else if(o.invalid)n.pop();else{var a=o.elesQueue.shift();a&&(t.drawEleInLayer(o,a,o.level,e),i++),0===r.length&&r.push(!0),0===o.elesQueue.length&&(n.pop(),o.reqs=0,o.replaces&&t.applyLayerReplacement(o),t.requestRedraw())}}return r},D.applyLayerReplacement=function(e){var t=this,n=t.layersByLevel[e.level],r=e.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=e;for(var o=0;o<e.eles.length;o++){var a=e.eles[o]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}},D.requestRedraw=i.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),D.setupDequeueing=u.setupDequeueing({deqRedrawThreshold:f,deqCost:v,deqAvgCost:y,deqNoDrawCost:m,deqFastCost:x,deq:function(e,t){return e.dequeue(t)},onDeqd:i.noop,shouldRedraw:i.trueify,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}}),t.exports=k},{"../../../heap":90,"../../../is":92,"../../../math":94,"../../../util":109,"./texture-cache-defs":86}],85:[function(e,t,n){"use strict";var r,i={};i.nodeShapeImpl=function(e){var t=this;return(r||(r={ellipse:function(e,n,r,i,o){t.drawEllipsePath(e,n,r,i,o)},polygon:function(e,n,r,i,o,a){t.drawPolygonPath(e,n,r,i,o,a)},roundrectangle:function(e,n,r,i,o){t.drawRoundRectanglePath(e,n,r,i,o,10)}}))[e]},t.exports=i},{}],86:[function(e,t,n){"use strict";var r=e("../../../util"),i=1e3/60;t.exports={setupDequeueing:function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var o=r.debounce(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),a=function(a,s){for(var u=r.performanceNow(),l=n.averageRedrawTime,c=n.lastRedrawTime,h=[],d=n.cy.extent(),f=n.getPixelRatio();;){var p=r.performanceNow(),g=p-u,v=p-s;if(c<i){var y=i-(a?l:0);if(v>=e.deqFastCost*y)break}else if(a){if(g>=e.deqCost*c||g>=e.deqAvgCost*l)break}else if(v>=e.deqNoDrawCost*i)break;var m=e.deq(t,f,d);if(!(m.length>0))break;for(var x=0;x<m.length;x++)h.push(m[x])}h.length>0&&(e.onDeqd(t,h),!a&&e.shouldRedraw(t,h,f,d)&&o())},s=e.priority||r.noop;n.beforeRender(a,s(t))}}}}},{"../../../util":109}],87:[function(e,t,n){"use strict";t.exports=[{name:"null",impl:e("./null")},{name:"base",impl:e("./base")},{name:"canvas",impl:e("./canvas")}]},{"./base":69,"./canvas":83,"./null":88}],88:[function(e,t,n){"use strict";function r(e){this.options=e,this.notifications=0}var i=function(){};r.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i},t.exports=r},{}],89:[function(e,t,n){"use strict";var r=e("./is"),i=e("./util"),o=e("./thread"),a=e("./promise"),s=e("./define"),u=function(t){if(!(this instanceof u))return new u(t);this._private={pass:[]};var n=4;if(r.number(t),"undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)t=navigator.hardwareConcurrency;else try{t=e("os").cpus().length}catch(i){t=n}for(var a=0;a<t;a++)this[a]=new o;this.length=t},l=u.prototype;i.extend(l,{instanceString:function(){return"fabric"},require:function(e,t){for(var n=0;n<this.length;n++){var r=this[n];r.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var n=this[t];n.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(e){var t=this._private.pass;if(!r.array(e))throw"Only arrays may be used with fabric.pass()";return t.push(e),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return e=Math.max(1,e)},spread:function(e){for(var t=this,n=t._private,r=t.spreadSize(),i=n.pass.shift().concat([]),o=[],s=0;s<this.length;s++){var u=this[s],l=i.splice(0,r),c=u.pass(l).run(e);o.push(c);var h=0===i.length;if(h)break}return a.all(o).then(function(e){for(var t=[],n=0,r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++){var a=i[o];t[n++]=a}return t})},map:function(e){var t=this;return t.require(e,"_$_$_fabmap"),t.spread(function(e){var t=[],n=resolve;resolve=function(e){t.push(e)};for(var r=0;r<e.length;r++){var i=t.length,o=_$_$_fabmap(e[r]),a=i===t.length;a&&t.push(o)}return resolve=n,t})},filter:function(e){var t=this._private,n=t.pass[0];return this.map(e).then(function(e){for(var t=[],r=0;r<n.length;r++){var i=n[r],o=e[r];o&&t.push(i)}return t})},sort:function(e){var t=this,n=this._private.pass[0].length,r=this.spreadSize();return e=e||function(e,t){return e<t?-1:e>t?1:0},t.require(e,"_$_$_cmp"),t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(r,i,o){i=Math.min(i,n),o=Math.min(o,n);for(var a=r,s=i,u=[],l=a;l<o;l++){var c=t[r],h=t[i];r<s&&(i>=o||e(c,h)<=0)?(u.push(c),r++):(u.push(h),i++)}for(var l=0;l<u.length;l++){var d=a+l;t[d]=u[l]}},o=r;o<n;o*=2)for(var a=0;a<n;a+=2*o)i(a,a+o,a+2*o);return t})}});var c=function(e){return e=e||{},function(t,n){var r=this._private.pass.shift();return this.random().pass(r)[e.threadFn](t,n)}};i.extend(l,{randomMap:c({threadFn:"map"}),reduce:c({threadFn:"reduce"}),reduceRight:c({threadFn:"reduceRight"})});var h=l;h.promise=h.run,h.terminate=h.halt=h.stop,h.include=h.require,i.extend(l,{on:s.on(),one:s.on({unbindSelfOnTrigger:!0}),off:s.off(),trigger:s.trigger()}),s.eventAliasesOn(l),t.exports=u},{"./define":53,"./is":92,"./promise":95,"./thread":107,"./util":109,os:172}],90:[function(e,t,n){"use strict";(function(){var e,r,i,o,a,s,u,l,c,h,d,f,p,g,v;i=Math.floor,h=Math.min,r=function(e,t){return e<t?-1:e>t?1:0},c=function(e,t,n,o,a){var s;if(null==n&&(n=0),null==a&&(a=r),n<0)throw new Error("lo must be non-negative");for(null==o&&(o=e.length);n<o;)s=i((n+o)/2),a(t,e[s])<0?o=s:n=s+1;return[].splice.apply(e,[n,n-n].concat(t)),t},s=function(e,t,n){return null==n&&(n=r),e.push(t),g(e,0,e.length-1,n)},a=function(e,t){var n,i;return null==t&&(t=r),n=e.pop(),e.length?(i=e[0],e[0]=n,v(e,0,t)):i=n,i},l=function(e,t,n){var i;return null==n&&(n=r),i=e[0],e[0]=t,v(e,0,n),i},u=function(e,t,n){var i;return null==n&&(n=r),e.length&&n(e[0],t)<0&&(i=[e[0],t],t=i[0],e[0]=i[1],v(e,0,n)),t},o=function(e,t){var n,o,a,s,u,l;for(null==t&&(t=r),s=function(){l=[];for(var t=0,n=i(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}.apply(this).reverse(),u=[],o=0,a=s.length;o<a;o++)n=s[o],u.push(v(e,n,t));return u},p=function(e,t,n){var i;if(null==n&&(n=r),i=e.indexOf(t),i!==-1)return g(e,0,i,n),v(e,i,n)},d=function(e,t,n){var i,a,s,l,c;if(null==n&&(n=r),a=e.slice(0,t),!a.length)return a;for(o(a,n),c=e.slice(t),s=0,l=c.length;s<l;s++)i=c[s],u(a,i,n);return a.sort(n).reverse()},f=function(e,t,n){var i,s,u,l,d,f,p,g,v,y;if(null==n&&(n=r),10*t<=e.length){if(l=e.slice(0,t).sort(n),!l.length)return l;for(u=l[l.length-1],g=e.slice(t),d=0,p=g.length;d<p;d++)i=g[d],n(i,u)<0&&(c(l,i,0,null,n),l.pop(),u=l[l.length-1]);return l}for(o(e,n),y=[],s=f=0,v=h(t,e.length);0<=v?f<v:f>v;s=0<=v?++f:--f)y.push(a(e,n));return y},g=function(e,t,n,i){var o,a,s;for(null==i&&(i=r),o=e[n];n>t&&(s=n-1>>1,a=e[s],i(o,a)<0);)e[n]=a,n=s;return e[n]=o},v=function(e,t,n){var i,o,a,s,u;for(null==n&&(n=r),o=e.length,u=t,a=e[t],i=2*t+1;i<o;)s=i+1,s<o&&!(n(e[i],e[s])<0)&&(i=s),e[t]=e[i],t=i,i=2*t+1;return e[t]=a,g(e,u,t,n)},e=function(){function e(e){this.cmp=null!=e?e:r,this.nodes=[]}return e.push=s,e.pop=a,e.replace=l,e.pushpop=u,e.heapify=o,e.updateItem=p,e.nlargest=d,e.nsmallest=f,e.prototype.push=function(e){return s(this.nodes,e,this.cmp)},e.prototype.pop=function(){return a(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return this.nodes.indexOf(e)!==-1},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return o(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return p(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(e,r){return"function"==typeof define&&define.amd?define([],r):"object"==typeof n?t.exports=r():e.Heap=r()}(this,function(){return e})}).call(this)},{}],91:[function(e,t,n){"use strict";e("./-preamble");var r=e("./window"),i=e("./is"),o=e("./core"),a=e("./extension"),s=e("./jquery-plugin"),u=e("./stylesheet"),l=e("./thread"),c=e("./fabric"),h=function(e){return void 0===e&&(e={}),i.plainObject(e)?new o(e):i.string(e)?a.apply(a,arguments):void 0};h.version=e("./version.json"),r&&r.jQuery&&s(r.jQuery,h),h.registerJquery=function(e){s(e,h)},h.stylesheet=h.Stylesheet=u,h.thread=h.Thread=l,h.fabric=h.Fabric=c,t.exports=h},{"./-preamble":10,"./core":46,"./extension":55,"./fabric":89,"./is":92,"./jquery-plugin":93,"./stylesheet":106,"./thread":107,"./version.json":115,"./window":116}],92:[function(e,t,n){"use strict";var r=e("./window"),i=r?r.navigator:null,o="string",a=typeof{},s="function",u=typeof HTMLElement,l=function(e){return e&&e.instanceString&&c.fn(e.instanceString)?e.instanceString():null},c={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==o},fn:function(e){return null!=e&&typeof e===s},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&typeof e===a&&!c.array(e)&&e.constructor===Object},object:function(e){return null!=e&&typeof e===a},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(e){return c.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&typeof e==typeof!0},htmlElement:function(e){return"undefined"===u?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return c.element(e)||c.collection(e)},element:function(e){return"collection"===l(e)&&e._private.single},collection:function(e){return"collection"===l(e)&&!e._private.single},core:function(e){return"core"===l(e)},style:function(e){return"style"===l(e)},stylesheet:function(e){return"stylesheet"===l(e)},event:function(e){return"event"===l(e)},thread:function(e){return"thread"===l(e)},fabric:function(e){return"fabric"===l(e)},emptyString:function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!c.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function(e){return c.plainObject(e)&&c.number(e.x1)&&c.number(e.x2)&&c.number(e.y1)&&c.number(e.y2)},promise:function(e){return c.object(e)&&c.fn(e.then)},touch:function(){return r&&("ontouchstart"in r||r.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return i&&i.vendor.match(/kde/i)},khtmlEtc:function(){return c.khtml()||c.webkit()||c.chromium()},ms:function(){return i&&i.userAgent.match(/msie|trident|edge/i)},windows:function(){return i&&i.appVersion.match(/Win/i)},mac:function(){return i&&i.appVersion.match(/Mac/i)},linux:function(){return i&&i.appVersion.match(/Linux/i)},unix:function(){return i&&i.appVersion.match(/X11/i)}};t.exports=c},{"./window":116}],93:[function(e,t,n){"use strict";var r=e("./is"),i=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t},o=function(e,t){e&&(e.fn.cytoscape||(e.fn.cytoscape=function(n){var o=e(this);if("get"===n)return i(o).cy;if(r.fn(n)){var a=n,s=i(o).cy;if(s&&s.isReady())s.trigger("ready",[],a);else{var u=i(o),l=u.readies=u.readies||[];l.push(a)}}else if(r.plainObject(n))return o.each(function(){var r=e.extend({},n,{container:e(this)[0]});t(r)})},e.cytoscape=t,null==e.fn.cy&&null==e.cy&&(e.fn.cy=e.fn.cytoscape,e.cy=e.cytoscape)))};t.exports=o},{"./is":92}],94:[function(e,t,n){"use strict";var r={};r.arePositionsSame=function(e,t){return e.x===t.x&&e.y===t.y},r.copyPosition=function(e){return{x:e.x,y:e.y}},r.array2point=function(e){return{x:e[0],y:e[1]}},r.deg2rad=function(e){return Math.PI*e/180},r.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},r.signum=function(e){return e>0?1:e<0?-1:0},r.dist=function(e,t){return Math.sqrt(r.sqdist(e,t))},r.sqdist=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},r.qbezierAt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},r.qbezierPtAt=function(e,t,n,i){return{x:r.qbezierAt(e.x,t.x,n.x,i),y:r.qbezierAt(e.y,t.y,n.y,i)}},r.lineAt=function(e,t,n,i){var o={x:t.x-e.x,y:t.y-e.y},a=r.dist(e,t),s={x:o.x/a,y:o.y/a};n=null==n?0:n;var i=null!=i?i:n*a;return{x:e.x+s.x*i,y:e.y+s.y*i}},r.lineAtDist=function(e,t,n){return r.lineAt(e,t,void 0,n)},r.triangleAngle=function(e,t,n){var i=r.dist(t,n),o=r.dist(e,n),a=r.dist(e,t);return Math.acos((i*i+o*o-a*a)/(2*i*o))},r.bound=function(e,t,n){return Math.max(e,Math.min(n,t))},r.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0),w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},r.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},r.expandBoundingBox=function(e,t){return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},r.boundingBoxesIntersect=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},r.inBoundingBox=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},r.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},r.boundingBoxInBoundingBox=function(e,t){return r.inBoundingBox(e,t.x1,t.y1)&&r.inBoundingBox(e,t.x2,t.y2)},r.roundRectangleIntersectLine=function(e,t,n,r,i,o,a){var s,u=this.getRoundRectangleRadius(i,o),l=i/2,c=o/2,h=n-l+u-a,d=r-c-a,f=n+l-u+a,p=d;if(s=this.finiteLinesIntersect(e,t,n,r,h,d,f,p,!1),s.length>0)return s;var g=n+l+a,v=r-c+u-a,y=g,m=r+c-u+a;if(s=this.finiteLinesIntersect(e,t,n,r,g,v,y,m,!1),s.length>0)return s;var x=n-l+u-a,b=r+c+a,w=n+l-u+a,E=b;if(s=this.finiteLinesIntersect(e,t,n,r,x,b,w,E,!1),s.length>0)return s;var _=n-l-a,T=r-c+u-a,N=_,k=r+c-u+a;if(s=this.finiteLinesIntersect(e,t,n,r,_,T,N,k,!1),s.length>0)return s;var D,C=n-l+u,S=r-c+u;if(D=this.intersectLineCircle(e,t,n,r,C,S,u+a),D.length>0&&D[0]<=C&&D[1]<=S)return[D[0],D[1]];var L=n+l-u,A=r-c+u;if(D=this.intersectLineCircle(e,t,n,r,L,A,u+a),D.length>0&&D[0]>=L&&D[1]<=A)return[D[0],D[1]];var I=n+l-u,M=r+c-u;if(D=this.intersectLineCircle(e,t,n,r,I,M,u+a),D.length>0&&D[0]>=I&&D[1]>=M)return[D[0],D[1]];var P=n-l+u,O=r+c-u;return D=this.intersectLineCircle(e,t,n,r,P,O,u+a),D.length>0&&D[0]<=P&&D[1]>=O?[D[0],D[1]]:[]},r.inLineVicinity=function(e,t,n,r,i,o,a){var s=a,u=Math.min(n,i),l=Math.max(n,i),c=Math.min(r,o),h=Math.max(r,o);return u-s<=e&&e<=l+s&&c-s<=t&&t<=h+s},r.inBezierVicinity=function(e,t,n,r,i,o,a,s,u){var l={x1:Math.min(n,a,i)-u,x2:Math.max(n,a,i)+u,y1:Math.min(r,s,o)-u,y2:Math.max(r,s,o)+u};return!(e<l.x1||e>l.x2||t<l.y1||t>l.y2)},r.solveCubic=function(e,t,n,r,i){t/=e,n/=e,r/=e;var o,a,s,u,l,c,h,d;return a=(3*n-t*t)/9,s=-(27*r)+t*(9*n-2*(t*t)),s/=54,o=a*a*a+s*s,i[1]=0,h=t/3,o>0?(l=s+Math.sqrt(o),l=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),c=s-Math.sqrt(o),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+l+c,h+=(l+c)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-c+l)/2,i[3]=h,void(i[5]=-h)):(i[5]=i[3]=0,0===o?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=-h+2*d,void(i[4]=i[2]=-(d+h))):(a=-a,u=a*a*a,u=Math.acos(s/Math.sqrt(u)),d=2*Math.sqrt(a),i[0]=-h+d*Math.cos(u/3),i[2]=-h+d*Math.cos((u+2*Math.PI)/3),void(i[4]=-h+d*Math.cos((u+4*Math.PI)/3))))},r.sqdistToQuadraticBezier=function(e,t,n,r,i,o,a,s){var u=1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,l=9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,c=3*n*n-6*n*i+n*a-n*e+2*i*i+2*i*e-a*e+3*r*r-6*r*o+r*s-r*t+2*o*o+2*o*t-s*t,h=1*n*i-n*n+n*e-i*e+r*o-r*r+r*t-o*t,d=[];this.solveCubic(u,l,c,h,d);for(var f=1e-7,p=[],g=0;g<6;g+=2)Math.abs(d[g+1])<f&&d[g]>=0&&d[g]<=1&&p.push(d[g]);p.push(1),p.push(0);for(var v,y,m,x,b=-1,w=0;w<p.length;w++)y=Math.pow(1-p[w],2)*n+2*(1-p[w])*p[w]*i+p[w]*p[w]*a,m=Math.pow(1-p[w],2)*r+2*(1-p[w])*p[w]*o+p[w]*p[w]*s,x=Math.pow(y-e,2)+Math.pow(m-t,2),b>=0?x<b&&(b=x,v=p[w]):(b=x,v=p[w]);return b},r.sqdistToFiniteLine=function(e,t,n,r,i,o){var a=[e-n,t-r],s=[i-n,o-r],u=s[0]*s[0]+s[1]*s[1],l=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],h=c*c/u;return c<0?l:h>u?(e-i)*(e-i)+(t-o)*(t-o):l-h},r.pointInsidePolygonPoints=function(e,t,n){for(var r,i,o,a,s,u=0,l=0,c=0;c<n.length/2;c++)if(r=n[2*c],i=n[2*c+1],c+1<n.length/2?(o=n[2*(c+1)],a=n[2*(c+1)+1]):(o=n[2*(c+1-n.length/2)],a=n[2*(c+1-n.length/2)+1]),r==e&&o==e);else{if(!(r>=e&&e>=o||r<=e&&e<=o))continue;s=(e-r)/(o-r)*(a-i)+i,s>t&&u++,s<t&&l++}return u%2!==0},r.pointInsidePolygon=function(e,t,n,i,o,a,s,u,l){var c,h=new Array(n.length);null!=u[0]?(c=Math.atan(u[1]/u[0]),u[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=u;for(var d=Math.cos(-c),f=Math.sin(-c),p=0;p<h.length/2;p++)h[2*p]=a/2*(n[2*p]*d-n[2*p+1]*f),h[2*p+1]=s/2*(n[2*p+1]*d+n[2*p]*f),h[2*p]+=i,h[2*p+1]+=o;var g;if(l>0){var v=this.expandPolygon(h,-l);g=this.joinLines(v)}else g=h;return r.pointInsidePolygonPoints(e,t,g)},r.joinLines=function(e){for(var t,n,r,i,o,a,s,u,l=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(o=e[4*(c+1)],a=e[4*(c+1)+1],s=e[4*(c+1)+2],u=e[4*(c+1)+3]):(o=e[0],a=e[1],s=e[2],u=e[3]);var h=this.finiteLinesIntersect(t,n,r,i,o,a,s,u,!0);l[2*c]=h[0],l[2*c+1]=h[1]}return l},r.expandPolygon=function(e,t){for(var n,r,i,o,a=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],o=e[2*(s+1)+1]):(i=e[0],o=e[1]);var u=o-r,l=-(i-n),c=Math.sqrt(u*u+l*l),h=u/c,d=l/c;a[4*s]=n+h*t,a[4*s+1]=r+d*t,a[4*s+2]=i+h*t,a[4*s+3]=o+d*t}return a},r.intersectLineEllipse=function(e,t,n,r,i,o){var a=n-e,s=r-t;a/=i,s/=o;var u=Math.sqrt(a*a+s*s),l=u-1;if(l<0)return[];var c=l/u;return[(n-e)*c+e,(r-t)*c+t]},r.intersectLineCircle=function(e,t,n,r,i,o,a){var s=[n-e,r-t],u=[i,o],l=[e-i,t-o],c=s[0]*s[0]+s[1]*s[1],h=2*(l[0]*s[0]+l[1]*s[1]),u=l[0]*l[0]+l[1]*l[1]-a*a,d=h*h-4*c*u;if(d<0)return[];var f=(-h+Math.sqrt(d))/(2*c),p=(-h-Math.sqrt(d))/(2*c),g=Math.min(f,p),v=Math.max(f,p),y=[];if(g>=0&&g<=1&&y.push(g),v>=0&&v<=1&&y.push(v),0===y.length)return[];var m=y[0]*s[0]+e,x=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,x];var b=y[1]*s[0]+e,w=y[1]*s[1]+t;return[m,x,b,w]}return[m,x]},r.findCircleNearPoint=function(e,t,n,r,i){var o=r-e,a=i-t,s=Math.sqrt(o*o+a*a),u=o/s,l=a/s;return[e+u*n,t+l*n]},r.findMaxSqDistanceToOrigin=function(e){for(var t,n=1e-6,r=0;r<e.length/2;r++)t=e[2*r]*e[2*r]+e[2*r+1]*e[2*r+1],t>n&&(n=t);return n},r.midOfThree=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n;
},r.finiteLinesIntersect=function(e,t,n,r,i,o,a,s,u){var l=e-i,c=n-e,h=a-i,d=t-o,f=r-t,p=s-o,g=h*d-p*l,v=c*d-f*l,y=p*c-h*f;if(0!==y){var m=g/y,x=v/y,b=.001,w=0-b,E=1+b;return w<=m&&m<=E&&w<=x&&x<=E?[e+m*c,t+m*f]:u?[e+m*c,t+m*f]:[]}return 0===g||0===v?this.midOfThree(e,n,a)===a?[a,s]:this.midOfThree(e,n,i)===i?[i,o]:this.midOfThree(i,a,n)===n?[n,r]:[]:[]},r.polygonIntersectLine=function(e,t,n,i,o,a,s,u){for(var l,c=[],h=new Array(n.length),d=0;d<h.length/2;d++)h[2*d]=n[2*d]*a+i,h[2*d+1]=n[2*d+1]*s+o;var f;if(u>0){var p=r.expandPolygon(h,-u);f=r.joinLines(p)}else f=h;for(var g,v,y,m,d=0;d<f.length/2;d++)g=f[2*d],v=f[2*d+1],d<f.length/2-1?(y=f[2*(d+1)],m=f[2*(d+1)+1]):(y=f[0],m=f[1]),l=this.finiteLinesIntersect(e,t,i,o,g,v,y,m),0!==l.length&&c.push(l[0],l[1]);return c},r.shortenIntersection=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*r[0],t[1]+o*r[1]]},r.generateUnitNgonPointsFitToSquare=function(e,t){var n=r.generateUnitNgonPoints(e,t);return n=r.fitPolygonToSquare(n)},r.fitPolygonToSquare=function(e){for(var t,n,r=e.length/2,i=1/0,o=1/0,a=-(1/0),s=-(1/0),u=0;u<r;u++)t=e[2*u],n=e[2*u+1],i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);for(var l=2/(a-i),c=2/(s-o),u=0;u<r;u++)t=e[2*u]=e[2*u]*l,n=e[2*u+1]=e[2*u+1]*c,i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var u=0;u<r;u++)n=e[2*u+1]=e[2*u+1]+(-1-o);return e},r.generateUnitNgonPoints=function(e,t){var n=1/e*2*Math.PI,r=e%2===0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,o,a,s=new Array(2*e),u=0;u<e;u++)i=u*n+r,o=s[2*u]=Math.cos(i),a=s[2*u+1]=Math.sin(-i);return s},r.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)},t.exports=r},{}],95:[function(e,t,n){"use strict";var r=0,i=1,o=2,a=function(e){return this instanceof a?(this.id="Thenable/1.0.7",this.state=r,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new a(e)};a.prototype={fulfill:function(e){return s(this,i,"fulfillValue",e)},reject:function(e){return s(this,o,"rejectReason",e)},then:function(e,t){var n=this,r=new a;return n.onFulfilled.push(c(e,r,"fulfill")),n.onRejected.push(c(t,r,"reject")),u(n),r.proxy}};var s=function(e,t,n,i){return e.state===r&&(e.state=t,e[n]=i,u(e)),e},u=function(e){e.state===i?l(e,"onFulfilled",e.fulfillValue):e.state===o&&l(e,"onRejected",e.rejectReason)},l=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},c=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(o){return void t.reject(o)}h(t,i)}}},h=function(e,t){if(e===t||e.proxy===t)return void e.reject(new TypeError("cannot resolve promise with itself"));var n;if("object"==typeof t&&null!==t||"function"==typeof t)try{n=t.then}catch(r){return void e.reject(r)}if("function"!=typeof n)e.fulfill(t);else{var i=!1;try{n.call(t,function(n){i||(i=!0,n===t?e.reject(new TypeError("circular thenable chain")):h(e,n))},function(t){i||(i=!0,e.reject(t))})}catch(r){i||e.reject(r)}}};a.all=function(e){return new a(function(t,n){for(var r=new Array(e.length),i=0,o=function(n,o){r[n]=o,i++,i===e.length&&t(r)},a=0;a<e.length;a++)!function(t){var r=e[t],i=null!=r&&null!=r.then;if(i)r.then(function(e){o(t,e)},function(e){n(e)});else{var a=r;o(t,a)}}(a)})},a.resolve=function(e){return new a(function(t,n){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},t.exports="undefined"!=typeof Promise?Promise:a},{}],96:[function(e,t,n){"use strict";var r=e("./is"),i=e("./util"),o=function(e){if(!(this instanceof o))return new o(e);var t=this;t._private={selectorText:null,invalid:!0};var n=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}};if(!e||r.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e)t[0]=n(),t[0].group="*"===e?e:e+"s",t[0].groupOnly=!0,t._private.invalid=!1,t._private.selectorText=e,t.length=1;else if(r.elementOrCollection(e)){var a=e.collection();t[0]=n(),t[0].collection=a,t.length=1}else if(r.fn(e))t[0]=n(),t[0].filter=e,t.length=1;else{if(!r.string(e))return void i.error("A selector must be created from a string; found "+e);var s=null,u={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:i.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};u.variable="(?:[\\w-]|(?:\\\\"+u.metaChar+"))+",u.value=u.string+"|"+u.number,u.className=u.variable,u.id=u.variable;for(var l=function(e){return e.replace(new RegExp("\\\\("+u.metaChar+")","g"),function(e,t,n,r){return t})},c=u.comparatorOp.split("|"),h=0;h<c.length;h++){var d=c[h];u.comparatorOp+="|@"+d}for(var c=u.comparatorOp.split("|"),h=0;h<c.length;h++){var d=c[h];d.indexOf("!")>=0||"="!==d&&(u.comparatorOp+="|\\!"+d)}var f=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"===e?e:e+"s"}},{name:"state",query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},{name:"id",query:!0,regex:"\\#("+u.id+")",populate:function(e){this.ids.push(l(e))}},{name:"className",query:!0,regex:"\\.("+u.className+")",populate:function(e){this.classes.push(l(e))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+u.variable+")\\s*\\]",populate:function(e){this.data.push({field:l(e)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+u.variable+")\\s*("+u.comparatorOp+")\\s*("+u.value+")\\s*\\]",populate:function(e,t,n){var r=null!=new RegExp("^"+u.string+"$").exec(n);n=r?n.substring(1,n.length-1):parseFloat(n),this.data.push({field:l(e),operator:t,value:n})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+u.boolOp+")\\s*("+u.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:l(t),operator:e})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+u.meta+")\\s*("+u.comparatorOp+")\\s*("+u.number+")\\s*\\]\\]",populate:function(e,t,n){this.meta.push({field:l(e),operator:t,value:parseFloat(n)})}},{name:"nextQuery",separator:!0,regex:u.separator,populate:function(){t[++h]=n(),s=null}},{name:"child",separator:!0,regex:u.child,populate:function(){var e=n();e.parent=this,e.subject=s,t[h]=e}},{name:"descendant",separator:!0,regex:u.descendant,populate:function(){var e=n();e.ancestor=this,e.subject=s,t[h]=e}},{name:"subject",modifier:!0,regex:u.subject,populate:function(){return null!=s&&this.subject!=this?(i.error("Redefinition of subject in selector `"+e+"`"),!1):(s=this,void(this.subject=this))}}];t._private.selectorText=e;var p=e,h=0,g=function(e){for(var t,n,i,o=0;o<f.length;o++){var a=f[o],s=a.name;if(!r.fn(e)||e(s,a)){var u=p.match(new RegExp("^"+a.regex));if(null!=u){n=u,t=a,i=s;var l=u[0];p=p.substring(l.length);break}}}return{expr:t,match:n,name:i}},v=function(){var e=p.match(/^\s+/);if(e){var t=e[0];p=p.substring(t.length)}};for(t[0]=n(),v();;){var y=g();if(null==y.expr)return void i.error("The selector `"+e+"`is invalid");for(var m=[],x=1;x<y.match.length;x++)m.push(y.match[x]);var b=y.expr.populate.apply(t[h],m);if(b===!1)return;if(p.match(/^\s*$/))break}t.length=h+1;for(var x=0;x<t.length;x++){var w=t[x];if(null!=w.subject){for(;w.subject!=w;)if(null!=w.parent){var E=w.parent,_=w;_.parent=null,E.child=_,w=E}else{if(null==w.ancestor){i.error("When adjusting references for the selector `"+w+"`, neither parent nor ancestor was found");break}var T=w.ancestor,N=w;N.ancestor=null,T.descendant=N,w=T}t[x]=w.subject}}}t._private.invalid=!1},a=o.prototype;a.size=function(){return this.length},a.eq=function(e){return this[e]};var s=function(e,t){var n=t._private;if(e.groupOnly)return"*"===e.group||e.group===n.group;if(null!=e.group&&"*"!=e.group&&e.group!=n.group)return!1;for(var i=t.cy(),o=!0,a=0;a<e.colonSelectors.length;a++){var u=e.colonSelectors[a];switch(u){case":selected":o=t.selected();break;case":unselected":o=!t.selected();break;case":selectable":o=t.selectable();break;case":unselectable":o=!t.selectable();break;case":locked":o=t.locked();break;case":unlocked":o=!t.locked();break;case":visible":o=t.visible();break;case":hidden":o=!t.visible();break;case":transparent":o=t.transparent();break;case":grabbed":o=t.grabbed();break;case":free":o=!t.grabbed();break;case":removed":o=t.removed();break;case":inside":o=!t.removed();break;case":grabbable":o=t.grabbable();break;case":ungrabbable":o=!t.grabbable();break;case":animated":o=t.animated();break;case":unanimated":o=!t.animated();break;case":parent":o=t.isNode()&&t.children().nonempty();break;case":child":case":nonorphan":o=t.isNode()&&t.parent().nonempty();break;case":orphan":o=t.isNode()&&t.parent().empty();break;case":loop":o=t.isEdge()&&t.data("source")===t.data("target");break;case":simple":o=t.isEdge()&&t.data("source")!==t.data("target");break;case":active":o=t.active();break;case":inactive":o=!t.active();break;case":touch":o=r.touch();break;case":backgrounding":o=t.backgrounding();break;case":nonbackgrounding":o=!t.backgrounding()}if(!o)break}if(!o)return!1;for(var l=!0,a=0;a<e.ids.length;a++){var c=e.ids[a],h=n.data.id;if(l=l&&c==h,!l)break}if(!l)return!1;for(var d=!0,a=0;a<e.classes.length;a++){var f=e.classes[a];if(d=d&&t.hasClass(f),!d)break}if(!d)return!1;var p=function(t){for(var n=!0,i=0;i<e[t.name].length;i++){var o,a=e[t.name][i],s=a.operator,u=a.value,l=a.field;if(null!=s&&null!=u){var c=t.fieldValue(l),h=r.string(c)||r.number(c)?""+c:"",d=""+u,f=!1;s.indexOf("@")>=0&&(h=h.toLowerCase(),d=d.toLowerCase(),s=s.replace("@",""),f=!0);var p=!1;s.indexOf("!")>=0&&(s=s.replace("!",""),p=!0),f&&(u=d.toLowerCase(),c=h.toLowerCase());var g=!1;switch(s){case"*=":o=h.indexOf(d)>=0;break;case"$=":o=h.indexOf(d,h.length-d.length)>=0;break;case"^=":o=0===h.indexOf(d);break;case"=":o=c===u;break;case">":g=!0,o=c>u;break;case">=":g=!0,o=c>=u;break;case"<":g=!0,o=c<u;break;case"<=":g=!0,o=c<=u;break;default:o=!1}!p||null==c&&g||(o=!o)}else if(null!=s)switch(s){case"?":o=t.fieldTruthy(l);break;case"!":o=!t.fieldTruthy(l);break;case"^":o=t.fieldUndefined(l)}else o=!t.fieldUndefined(l);if(!o){n=!1;break}}return n},g=p({name:"data",fieldValue:function(e){return n.data[e]},fieldUndefined:function(e){return void 0===n.data[e]},fieldTruthy:function(e){return!!n.data[e]}});if(!g)return!1;var v=p({name:"meta",fieldValue:function(e){return t[e]()},fieldUndefined:function(e){return null==t[e]()},fieldTruthy:function(e){return!!t[e]()}});if(!v)return!1;if(null!=e.collection){var y=e.collection.hasElementWithId(t.id());if(!y)return!1}if(null!=e.filter&&0===t.collection().filter(e.filter).size())return!1;var m=function(e,t){if(null!=e){var n=!1;if(!i.hasCompoundNodes())return!1;t=t();for(var r=0;r<t.length;r++)if(s(e,t[r])){n=!0;break}return n}return!0};return!!m(e.parent,function(){return t.parent()})&&(!!m(e.ancestor,function(){return t.parents()})&&(!!m(e.child,function(){return t.children()})&&!!m(e.descendant,function(){return t.descendants()})))};a.filter=function(e){var t=this,n=e.cy();if(t._private.invalid)return n.collection();var r=function(e,n){for(var r=0;r<t.length;r++){var i=t[r];if(s(i,n))return!0}return!1};null==t._private.selectorText&&(r=function(){return!0});var i=e.filter(r);return i},a.matches=function(e){var t=this;if(t._private.invalid)return!1;for(var n=0;n<t.length;n++){var r=t[n];if(s(r,e))return!0}return!1},a.toString=a.selector=function(){for(var e="",t=function(e,t){return r.string(e)?t?'"'+e+'"':e:""},n=function(e){var r="";e.subject===e&&(r+="$");var o=t(e.group);r+=o.substring(0,o.length-1);for(var a=0;a<e.data.length;a++){var s=e.data[a];r+=s.value?"["+s.field+t(s.operator)+t(s.value,!0)+"]":"["+t(s.operator)+s.field+"]"}for(var a=0;a<e.meta.length;a++){var u=e.meta[a];r+="[["+u.field+t(u.operator)+t(u.value,!0)+"]]"}for(var a=0;a<e.colonSelectors.length;a++){var l=e.colonSelectors[i];r+=l}for(var a=0;a<e.ids.length;a++){var l="#"+e.ids[i];r+=l}for(var a=0;a<e.classes.length;a++){var l="."+e.classes[a];r+=l}return null!=e.parent&&(r=n(e.parent)+" > "+r),null!=e.ancestor&&(r=n(e.ancestor)+" "+r),null!=e.child&&(r+=" > "+n(e.child)),null!=e.descendant&&(r+=" "+n(e.descendant)),r},i=0;i<this.length;i++){var o=this[i];e+=n(o),this.length>1&&i<this.length-1&&(e+=", ")}return e},t.exports=o},{"./is":92,"./util":109}],97:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),o={};o.apply=function(e){var t=this,n=t._private;n.newStyle&&(n.contextStyles={},n.propDiffs={},t.cleanElements(e,!0));for(var r=0;r<e.length;r++){var i=e[r],o=t.getContextMeta(i),a=t.getContextStyle(o),s=t.applyContextStyle(o,a,i);t.updateTransitions(i,s.diffProps),t.updateStyleHints(i)}n.newStyle=!1},o.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,o=r[i];if(o)return o;for(var a=[],s={},u=0;u<n.length;u++){var l=n[u],c="t"===e[u],h="t"===t[u],d=c!==h,f=l.mappedProperties.length>0;if(d||f){var p;d&&f?p=l.properties:d?p=l.properties:f&&(p=l.mappedProperties);for(var g=0;g<p.length;g++){for(var v=p[g],y=v.name,m=!1,x=u+1;x<n.length;x++){var b=n[x],w="t"===t[x];if(w&&(m=null!=b.properties[v.name]))break}s[y]||m||(s[y]=!0,a.push(y))}}}return r[i]=a,a},o.getContextMeta=function(e){var t,n=this,r="",i=e._private.styleCxtKey||"";n._private.newStyle&&(i="");for(var o=0;o<n.length;o++){var a=n[o],s=a.selector&&a.selector.matches(e);r+=s?"t":"f"}return t=n.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t}},o.getContextStyle=function(e){var t=e.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var i={_private:{key:t}},o=0;o<n.length;o++){var a=n[o],s="t"===t[o];if(s)for(var u=0;u<a.properties.length;u++){var l=a.properties[u],c=i[l.name]=l;c.context=a}}return r[t]=i,i},o.applyContextStyle=function(e,t,n){for(var r=this,i=e.diffPropNames,o={},a=0;a<i.length;a++){var s=i[a],u=t[s],l=n.pstyle(s);if(u||(u=l.bypass?{name:s,deleteBypassed:!0}:{name:s,"delete":!0}),l!==u){var c=o[s]={prev:l};r.applyParsedProperty(n,u),c.next=n.pstyle(s),c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:o}},o.updateStyleHints=function(e){var t=e._private,n=this;if(!e.removed()){var r=!1;if("nodes"===t.group)for(var i=1;i<=n.pieBackgroundN;i++){var o=e.pstyle("pie-"+i+"-background-size").value;if(o>0){r=!0;break}}t.hasPie=r;var a=e.pstyle("text-transform").strValue,s=e.pstyle("label").strValue,u=e.pstyle("source-label").strValue,l=e.pstyle("target-label").strValue,c=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue+"px",h=e.pstyle("font-family").strValue,d=e.pstyle("font-weight").strValue,f=e.pstyle("text-valign").strValue,p=e.pstyle("text-valign").strValue,g=e.pstyle("text-outline-width").pfValue,v=e.pstyle("text-wrap").strValue,y=e.pstyle("text-max-width").pfValue,m=c+"$"+o+"$"+h+"$"+d+"$"+a+"$"+f+"$"+p+"$"+g+"$"+v+"$"+y;t.labelStyleKey=m,t.sourceLabelKey=m+"$"+u,t.targetLabelKey=m+"$"+l,t.labelKey=m+"$"+s,t.fontKey=c+"$"+d+"$"+o+"$"+h,t.styleKey=Date.now()}},o.applyParsedProperty=function(e,t){var n,o,a=this,s=t,u=e._private.style,l=a.types,c=a.properties[s.name].type,h=s.bypass,d=u[s.name],f=d&&d.bypass,p=e._private;if("curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(s=t=this.parse(t.name,"bezier",h)),s["delete"])return u[s.name]=void 0,!0;if(s.deleteBypassed)return!d||!!d.bypass&&(d.bypassed=void 0,!0);if(s.deleteBypass)return!d||!!d.bypass&&(u[s.name]=d.bypassed,!0);var g=function(){r.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+s.name+"` with data field `"+s.field+"`); try a `["+s.field+"]` selector to limit scope to elements with `"+s.field+"` defined")};switch(s.mapped){case l.mapData:case l.mapLayoutData:case l.mapScratch:var n,v=s.mapped===l.mapLayoutData,y=s.mapped===l.mapScratch,m=s.field.split(".");n=y||v?p.scratch:p.data;for(var x=0;x<m.length&&n;x++){var b=m[x];n=n[b]}var w;if(w=i.number(n)?(n-s.fieldMin)/(s.fieldMax-s.fieldMin):0,w<0?w=0:w>1&&(w=1),c.color){var E=s.valueMin[0],_=s.valueMax[0],T=s.valueMin[1],N=s.valueMax[1],k=s.valueMin[2],D=s.valueMax[2],C=null==s.valueMin[3]?1:s.valueMin[3],S=null==s.valueMax[3]?1:s.valueMax[3],L=[Math.round(E+(_-E)*w),Math.round(T+(N-T)*w),Math.round(k+(D-k)*w),Math.round(C+(S-C)*w)];o={bypass:s.bypass,name:s.name,value:L,strValue:"rgb("+L[0]+", "+L[1]+", "+L[2]+")"}}else{if(!c.number)return!1;var A=s.valueMin+(s.valueMax-s.valueMin)*w;o=this.parse(s.name,A,s.bypass,!0)}o||(o=this.parse(s.name,d.strValue,s.bypass,!0)),o||g(),o.mapping=s,s=o;break;case l.data:case l.layoutData:case l.scratch:var n,v=s.mapped===l.layoutData,y=s.mapped===l.scratch,m=s.field.split(".");if(n=y||v?p.scratch:p.data)for(var x=0;x<m.length;x++){var b=m[x];n=n[b]}if(o=this.parse(s.name,n,s.bypass,!0),!o){var I=d?d.strValue:"";o=this.parse(s.name,I,s.bypass,!0)}o||g(),o.mapping=s,s=o;break;case l.fn:var M=s.value,P=M(e);o=this.parse(s.name,P,s.bypass,!0),o.mapping=s,s=o;break;case void 0:break;default:return!1}return h?(f?s.bypassed=d.bypassed:s.bypassed=d,u[s.name]=s):f?d.bypassed=s:u[s.name]=s,!0},o.cleanElements=function(e,t){for(var n=this,r=n.properties,i=0;i<e.length;i++){var o=e[i];if(t)for(var a=o._private.style,s=0;s<r.length;s++){var u=r[s],l=a[u.name];l&&(l.bypass?l.bypassed=null:a[u.name]=null)}else o._private.style={}}},o.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()},o.updateMappers=function(e){for(var t=this,n=0;n<e.length;n++){for(var r=e[n],i=r._private.style,o=0;o<t.properties.length;o++){var a=t.properties[o],s=i[a.name];if(s&&s.mapping){var u=s.mapping;this.applyParsedProperty(r,u)}}this.updateStyleHints(r)}},o.updateTransitions=function(e,t,n){var r=this,o=e._private,a=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,u=e.pstyle("transition-delay").pfValue;if(a.length>0&&s>0){for(var l={},c=!1,h=0;h<a.length;h++){var d=a[h],f=e.pstyle(d),p=t[d];if(p){var g,v=p.prev,y=v,m=null!=p.next?p.next:f,x=!1,b=1e-6;y&&(i.number(y.pfValue)&&i.number(m.pfValue)?(x=m.pfValue-y.pfValue,g=y.pfValue+b*x):i.number(y.value)&&i.number(m.value)?(x=m.value-y.value,g=y.value+b*x):i.array(y.value)&&i.array(m.value)&&(x=y.value[0]!==m.value[0]||y.value[1]!==m.value[1]||y.value[2]!==m.value[2],g=y.strValue),x&&(l[d]=m.strValue,this.applyBypass(e,d,g),c=!0))}}if(!c)return;o.transitioning=!0,e.stop(),u>0&&e.delay(u),e.animate({css:l},{duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1,complete:function(){n||r.removeBypasses(e,a),o.transitioning=!1}})}else o.transitioning&&(e.stop(),this.removeBypasses(e,a),o.transitioning=!1)},t.exports=o},{"../is":92,"../util":109}],98:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),o={};o.applyBypass=function(e,t,n,o){var a=this,s=[],u=!0;if("*"===t||"**"===t){if(void 0!==n)for(var l=0;l<a.properties.length;l++){var c=a.properties[l],t=c.name,h=this.parse(t,n,!0);h&&s.push(h)}}else if(r.string(t)){var h=this.parse(t,n,!0);h&&s.push(h)}else{if(!r.plainObject(t))return!1;var d=t;o=n;for(var l=0;l<a.properties.length;l++){var c=a.properties[l],t=c.name,n=d[t];if(void 0===n&&(n=d[i.dash2camel(t)]),void 0!==n){var h=this.parse(t,n,!0);h&&s.push(h)}}}if(0===s.length)return!1;for(var f=!1,l=0;l<e.length;l++){for(var p,g=e[l],v={},y=0;y<s.length;y++){var c=s[y];if(o){var m=g.pstyle(c.name);p=v[c.name]={prev:m}}f=this.applyParsedProperty(g,c)||f,o&&(p.next=g.pstyle(c.name))}f&&this.updateStyleHints(g),o&&this.updateTransitions(g,v,u)}return f},o.overrideBypass=function(e,t,n){t=i.camel2dash(t);for(var r=0;r<e.length;r++){var o=e[r],a=o._private.style[t],s=this.properties[t].type,u=s.color,l=s.mutiple;a&&a.bypass?(a.value=n,null!=a.pfValue&&(a.pfValue=n),u?a.strValue="rgb("+n.join(",")+")":l?a.strValue=n.join(" "):a.strValue=""+n):this.applyBypass(o,t,n)}},o.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},o.removeBypasses=function(e,t,n){for(var r=!0,i=0;i<e.length;i++){for(var o=e[i],a={},s=0;s<t.length;s++){var u=t[s],l=this.properties[u],c=o.pstyle(l.name);if(c&&c.bypass){var h="",d=this.parse(u,h,!0),f=a[l.name]={prev:c};this.applyParsedProperty(o,d),f.next=o.pstyle(l.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,a,r)}},t.exports=o},{"../is":92,"../util":109}],99:[function(e,t,n){"use strict";var r=e("../window"),i={};i.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},i.containerCss=function(e){var t=this._private.cy,n=t.container();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)},t.exports=i},{"../window":116}],100:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),o={};o.getRenderedStyle=function(e){return this.getRawStyle(e,!0)},o.getRawStyle=function(e,t){var n=this,e=e[0];if(e){for(var i={},o=0;o<n.properties.length;o++){var a=n.properties[o],s=n.getStylePropertyValue(e,a.name,t);s&&(i[a.name]=s,i[r.dash2camel(a.name)]=s)}return i}},o.getStylePropertyValue=function(e,t,n){var r=this,e=e[0];if(e){var i=r.properties[t],o=i.type,a=e.pstyle(i.name),s=e.cy().zoom();if(a){var u=a.units?o.implicitUnits||"px":null,l=u?[].concat(a.pfValue).map(function(e){return e*(n?s:1)+u}).join(" "):a.strValue;return l}}},o.getAnimationStartStyle=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.name,s=e.pstyle(a);void 0!==s&&(s=i.plainObject(s)?this.parse(a,s.strValue):this.parse(a,s)),s&&(n[a]=s)}return n},o.getPropsList=function(e){var t=this,n=[],i=e,o=t.properties;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var u=a[s],l=i[u],c=o[u]||o[r.camel2dash(u)],h=this.parse(c.name,l);n.push(h)}return n},t.exports=o},{"../is":92,"../util":109}],101:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),o=e("../selector"),a=function(e){return this instanceof a?r.core(e)?(this._private={cy:e,coreStyle:{}},this.length=0,void this.resetToDefault()):void i.error("A style must have a core reference"):new a(e)},s=a.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;this.length=0;var t=this._private;return t.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(e){var t="core"===e?null:new o(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},s.css=function(){var e=this,t=arguments;switch(t.length){case 1:for(var n=t[0],r=0;r<e.properties.length;r++){var o=e.properties[r],a=n[o.name];void 0===a&&(a=n[i.dash2camel(o.name)]),void 0!==a&&this.cssRule(o.name,a)}break;case 2:this.cssRule(t[0],t[1])}return this},s.style=s.css,s.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this},a.fromJson=function(e,t){var n=new a(e);return n.fromJson(t),n},a.fromString=function(e,t){return new a(e).fromString(t)},[e("./apply"),e("./bypass"),e("./container"),e("./get-for-ele"),e("./json"),e("./string-sheet"),e("./properties"),e("./parse")].forEach(function(e){i.extend(s,e)}),a.types=s.types,a.properties=s.properties,t.exports=a},{"../is":92,"../selector":96,"../util":109,"./apply":97,"./bypass":98,"./container":99,"./get-for-ele":100,"./json":102,"./parse":103,"./properties":104,"./string-sheet":105}],102:[function(e,t,n){"use strict";var r={};r.applyFromJson=function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,o=r.style||r.css,a=Object.keys(o);t.selector(i);for(var s=0;s<a.length;s++){var u=a[s],l=o[u];t.css(u,l)}}return t},r.fromJson=function(e){var t=this;return t.resetToDefault(),t.applyFromJson(e),t},r.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:o})}return e},t.exports=r},{}],103:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),o=e("../math"),a={};a.parse=function(e,t,n,o){var a=this;if(i.fn(t))return a.parseImpl(e,t,n,o);var s,u=[e,t,n,o].join("$"),l=a.propCache=a.propCache||{};return(s=l[u])||(s=l[u]=a.parseImpl(e,t,n,o)),s=r.copy(s),s&&(s.value=r.copy(s.value)),s};var s=function(e,t,n,a){var s=this;e=r.camel2dash(e);var u=s.properties[e],l=t,c=s.types;if(!u)return null;if(void 0===t||null===t)return null;u.alias&&(u=u.pointsTo,e=u.name);var h=i.string(t);h&&(t=t.trim());var d=u.type;if(!d)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(i.fn(t))return{name:e,value:t,strValue:"fn",mapped:c.fn,bypass:n};var f,p,g,v,y,m;if(!h||a);else{if((f=new RegExp(c.data.regex).exec(t))||(g=new RegExp(c.layoutData.regex).exec(t))||(y=new RegExp(c.scratch.regex).exec(t))){if(n)return!1;var x;return x=f?c.data:g?c.layoutData:c.scratch,f=f||g||y,{name:e,value:f,strValue:""+t,mapped:x,field:f[1],bypass:n}}if((p=new RegExp(c.mapData.regex).exec(t))||(v=new RegExp(c.mapLayoutData.regex).exec(t))||(m=new RegExp(c.mapScratch.regex).exec(t))){if(n)return!1;if(d.multiple)return!1;var x;if(x=p?c.mapData:v?c.mapLayoutData:c.mapScratch,p=p||v||m,!d.color&&!d.number)return!1;var b=this.parse(e,p[4]);if(!b||b.mapped)return!1;var w=this.parse(e,p[5]);if(!w||w.mapped)return!1;if(b.value===w.value)return!1;if(d.color){var E=b.value,_=w.value,T=!(E[0]!==_[0]||E[1]!==_[1]||E[2]!==_[2]||E[3]!==_[3]&&(null!=E[3]&&1!==E[3]||null!=_[3]&&1!==_[3]));if(T)return!1}return{name:e,value:p,strValue:""+t,mapped:x,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:b.value,valueMax:w.value,bypass:n}}}if(d.multiple&&"multiple"!==a){var N;if(N=h?t.split(/\s+/):i.array(t)?t:[t],d.evenMultiple&&N.length%2!==0)return null;var k=N.map(function(t){var r=s.parse(e,t,n,"multiple");return null!=r.pfValue?r.pfValue:r.value});return{name:e,value:k,pfValue:k,strValue:k.join(" "),bypass:n,units:d.number&&!d.unitless?d.implicitUnits||"px":void 0}}var D=function(){for(var r=0;r<d.enums.length;r++){var i=d.enums[r];if(i===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(d.number){var C,S="px";if(d.units&&(C=d.units),d.implicitUnits&&(S=d.implicitUnits),!d.unitless)if(h){var L="px|em"+(d.allowPercent?"|\\%":"");C&&(L=C);var A=t.match("^("+r.regex.number+")("+L+")?$");A&&(t=A[1],C=A[2]||S)}else C&&!d.implicitUnits||(C=S);if(t=parseFloat(t),isNaN(t)&&void 0===d.enums)return null;if(isNaN(t)&&void 0!==d.enums)return t=l,D();if(d.integer&&!i.integer(t))return null;if(void 0!==d.min&&t<d.min||void 0!==d.max&&t>d.max)return null;var I={name:e,value:t,strValue:""+t+(C?C:""),units:C,bypass:n};return d.unitless||"px"!==C&&"em"!==C?I.pfValue=t:I.pfValue="px"!==C&&C?this.getEmSizeInPixels()*t:t,"ms"!==C&&"s"!==C||(I.pfValue="ms"===C?t:1e3*t),"deg"!==C&&"rad"!==C||(I.pfValue="rad"===C?t:o.deg2rad(t)),I}if(d.propList){var M=[],P=""+t;if("none"===P);else{for(var O=P.split(","),R=0;R<O.length;R++){var F=O[R].trim();s.properties[F]&&M.push(F)}if(0===M.length)return null}return{name:e,value:M,strValue:0===M.length?"none":M.join(", "),bypass:n}}if(d.color){var j=r.color2tuple(t);return j?{name:e,value:j,strValue:""+t,bypass:n,roundValue:!0}:null}if(d.regex||d.regexes){if(d.enums){var B=D();if(B)return B}for(var q=d.regexes?d.regexes:[d.regex],R=0;R<q.length;R++){var z=new RegExp(q[R]),V=z.exec(t);if(V)return{name:e,value:V,strValue:""+t,bypass:n}}return null}return d.string?{name:e,value:t,strValue:""+t,bypass:n}:d.enums?D():null};a.parseImpl=s,t.exports=a},{"../is":92,"../math":94,"../util":109}],104:[function(e,t,n){"use strict";var r=e("../util"),i={};!function(){var e=r.regex.number,t=r.regex.rgbaNoBackRefs,n=r.regex.hslaNoBackRefs,o=r.regex.hex3,a=r.regex.hex6,s=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(r){var i=e+"|\\w+|"+t+"|"+n+"|"+o+"|"+a;return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"};i.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]
}};var l=i.types,c=i.properties=[{name:"label",type:l.text},{name:"text-rotation",type:l.textRotation},{name:"text-margin-x",type:l.bidirectionalSize},{name:"text-margin-y",type:l.bidirectionalSize},{name:"source-label",type:l.text},{name:"source-text-rotation",type:l.textRotation},{name:"source-text-margin-x",type:l.bidirectionalSize},{name:"source-text-margin-y",type:l.bidirectionalSize},{name:"source-text-offset",type:l.size},{name:"target-label",type:l.text},{name:"target-text-rotation",type:l.textRotation},{name:"target-text-margin-x",type:l.bidirectionalSize},{name:"target-text-margin-y",type:l.bidirectionalSize},{name:"target-text-offset",type:l.size},{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-margin",type:l.size},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size},{name:"text-border-style",type:l.borderStyle},{name:"text-background-shape",type:l.textBackgroundShape},{name:"text-transform",type:l.textTransform},{name:"text-wrap",type:l.textWrap},{name:"text-max-width",type:l.size},{name:"text-events",type:l.bool},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"events",type:l.bool},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"shadow-blur",type:l.size},{name:"shadow-color",type:l.color},{name:"shadow-opacity",type:l.zeroOneNumber},{name:"shadow-offset-x",type:l.bidirectionalSize},{name:"shadow-offset-y",type:l.bidirectionalSize},{name:"text-shadow-blur",type:l.size},{name:"text-shadow-color",type:l.color},{name:"text-shadow-opacity",type:l.zeroOneNumber},{name:"text-shadow-offset-x",type:l.bidirectionalSize},{name:"text-shadow-offset-y",type:l.bidirectionalSize},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing},{name:"height",type:l.nodeSize},{name:"width",type:l.nodeSize},{name:"shape",type:l.nodeShape},{name:"shape-polygon-points",type:l.polygonPointList},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"position",type:l.position},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"control-point-step-size",type:l.size},{name:"control-point-distances",type:l.bidirectionalSizes},{name:"control-point-weights",type:l.numbers},{name:"segment-distances",type:l.bidirectionalSizes},{name:"segment-weights",type:l.numbers},{name:"edge-distances",type:l.edgeDistances},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],h=i.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"}];i.pieBackgroundN=16,c.push({name:"pie-size",type:l.bgSize});for(var d=1;d<=i.pieBackgroundN;d++)c.push({name:"pie-"+d+"-background-color",type:l.color}),c.push({name:"pie-"+d+"-background-size",type:l.percent}),c.push({name:"pie-"+d+"-background-opacity",type:l.zeroOneNumber});var f=i.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill}].forEach(function(e){f.forEach(function(t){var n=t+"-"+e.name,r=e.type;c.push({name:n,type:r})})},{}),i.propertyNames=c.map(function(e){return e.name});for(var d=0;d<c.length;d++){var p=c[d];c[p.name]=p}for(var d=0;d<h.length;d++){var g=h[d],v=c[g.pointsTo],y={name:g.name,alias:!0,pointsTo:v};c.push(y),c[g.name]=y}}(),i.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},i.getDefaultProperties=r.memoize(function(){for(var e=r.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-margin":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include"},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=i.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),o=t.value;e[r]=o}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return i.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,i=t.value;e[r]=i}),e},{})),t={},n=0;n<this.properties.length;n++){var o=this.properties[n];if(!o.pointsTo){var a=o.name,s=e[a],u=this.parse(a,s);t[a]=u}}return t}),i.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle","padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},t.exports=i},{"../util":109}],105:[function(e,t,n){"use strict";var r=e("../util"),i=e("../selector"),o={};o.applyFromString=function(e){function t(){c=c.length>o.length?c.substr(o.length):""}function n(){a=a.length>s.length?a.substr(s.length):""}var o,a,s,u=this,l=this,c=""+e;for(c=c.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){var h=c.match(/^\s*$/);if(h)break;var d=c.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){r.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+c);break}o=d[0];var f=d[1];if("core"!==f){var p=new i(f);if(p._private.invalid){r.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),t();continue}}var g=d[2],v=!1;a=g;for(var y=[];;){var h=a.match(/^\s*$/);if(h)break;var m=a.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!m){r.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),v=!0;break}s=m[0];var x=m[1],b=m[2],w=u.properties[x];if(w){var E=l.parse(x,b);E?(y.push({name:x,val:b}),n()):(r.error("Skipping property: Invalid property definition in: "+s),n())}else r.error("Skipping property: Invalid property name in: "+s),n()}if(v){t();break}l.selector(f);for(var _=0;_<y.length;_++){var w=y[_];l.css(w.name,w.val)}t()}return l},o.fromString=function(e){var t=this;return t.resetToDefault(),t.applyFromString(e),t},t.exports=o},{"../selector":96,"../util":109}],106:[function(e,t,n){"use strict";var r=e("./is"),i=e("./util"),o=e("./style"),a=function(){return this instanceof a?void(this.length=0):new a},s=a.prototype;s.instanceString=function(){return"stylesheet"},s.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},s.css=function(e,t){var n=this.length-1;if(r.string(e))this[n].properties.push({name:e,value:t});else if(r.plainObject(e))for(var a=e,s=0;s<o.properties.length;s++){var u=o.properties[s],l=a[u.name];if(void 0===l&&(l=a[i.dash2camel(u.name)]),void 0!==l){var e=u.name,t=l;this[n].properties.push({name:e,value:t})}}return this},s.style=s.css,s.generateStyle=function(e){for(var t=new o(e),n=0;n<this.length;n++){var r=this[n],i=r.selector,a=r.properties;t.selector(i);for(var s=0;s<a.length;s++){var u=a[s];t.css(u.name,u.value)}}return t},t.exports=a},{"./is":92,"./style":101,"./util":109}],107:[function(require,module,exports){(function(__dirname){"use strict";var window=require("./window"),util=require("./util"),Promise=require("./promise"),Event=require("./event"),define=require("./define"),is=require("./is"),Thread=function(e){if(!(this instanceof Thread))return new Thread(e);var t=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(e)&&null!=e.disabled&&(t.disabled=!!e.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(e){var t=is.fn(e)?e.toString():"JSON.parse('"+JSON.stringify(e)+"')";return t},fnAsRequire=function(e){var t,n;is.object(e)&&e.fn?(t=fnAs(e.fn,e.name),n=e.name,e=e.fn):is.fn(e)?(t=e.toString(),n=e.name):is.string(e)?t=e:is.object(e)&&(t=e.proto?"":e.name+" = {};",n=e.name,e=e.obj),t+="\n";var r=function(e,n){if(e.prototype){var r=!1;for(var i in e.prototype){r=!0;break}r&&(t+=fnAsRequire({name:n,obj:e,proto:!0},e))}};if(e.prototype&&null!=n)for(var i in e.prototype){var o="",a=e.prototype[i],s=stringifyFieldVal(a),u=n+".prototype."+i;o+=u+" = "+s+";\n",o&&(t+=o),r(a,u)}if(!is.string(e))for(var i in e){var l="";if(e.hasOwnProperty(i)){var a=e[i],s=stringifyFieldVal(a),u=n+'["'+i+'"]';l+=u+" = "+s+";\n"}l&&(t+=l),r(a,u)}return t},isPathStr=function(e){return is.string(e)&&e.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(e,t){var n=this._private.requires;if(isPathStr(e))return this._private.files.push(e),this;if(t)e=is.fn(e)?{name:t,fn:e}:{name:t,obj:e};else if(is.fn(e)){if(!e.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';e={name:e.name,fn:e}}return n.push(e),this},pass:function(e){return this._private.pass.push(e),this},run:function(fn,pass){var self=this,_p=this._private;if(pass=pass||_p.pass.shift(),_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=null!=window&&!_p.disabled,useNode=!window&&"undefined"!=typeof module&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map(function(e){return fnAsRequire(e)}).concat(_p.files.map(function(e){if(useWW){var t=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?window.location.origin+window.location.pathname+e:e.match(/^\//)?window.location.origin+"/"+e:e};return'importScripts("'+t(e)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );';throw"External file `"+e+"` can not be required without any threading technology."})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(_p.requires=[],_p.files=[],useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),fnStr+=fnPre,fnBlob=new Blob([fnStr],{type:"application/javascript"}),fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var cb;ww.addEventListener("message",cb=function(e){var t=is.object(e)&&is.object(e.data);t&&"$$resolve"in e.data?(ww.removeEventListener("message",cb),resolve(e.data.$$resolve)):t&&"$$reject"in e.data?(ww.removeEventListener("message",cb),reject(e.data.$$reject)):self.trigger(new Event(e,{type:"message",message:e.data}))},!1),threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=require("child_process").fork(require("path").join(__dirname,"thread-node-fork")));var child=_p.child,cb;child.on("message",cb=function(e){is.object(e)&&"$$resolve"in e?(child.removeListener("message",cb),resolve(e.$$resolve)):is.object(e)&&"$$reject"in e?(child.removeListener("message",cb),reject(e.$$reject)):self.trigger(new Event({},{type:"message",message:e}))}),child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr,eval(fnStr)},message:function(e){for(var t=timer.listeners,n=0;n<t.length;n++){var r=t[n];r(e)}}};timer.exec()}}).then(function(e){return _p.running=!1,_p.ran=!0,self.trigger("ran"),e});return null==_p.queue&&(_p.queue=runP),runP},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),t.timer&&t.timer.message(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.timer,e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(e,t){var n=e.toString();return n=n.replace(/function\s*?\S*?\s*?\(/,"function "+t+"(")},defineFnal=function(e){return e=e||{},function(t,n){var r=fnAs(t,"_$_$_"+e.name);return this.require(r),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(n):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run,fn.terminate=fn.halt=fn.stop,fn.include=fn.require,util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()}),define.eventAliasesOn(thdfn),module.exports=Thread}).call(this,"/node_modules/cytoscape/src")},{"./define":53,"./event":54,"./is":92,"./promise":95,"./util":109,"./window":116,child_process:169,path:173}],108:[function(e,t,n){"use strict";var r=e("../is");t.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,i=4===e.length,o=16;return i?(t=parseInt(e[1]+e[1],o),n=parseInt(e[2]+e[2],o),r=parseInt(e[3]+e[3],o)):(t=parseInt(e[1]+e[2],o),n=parseInt(e[3]+e[4],o),r=parseInt(e[5]+e[6],o)),[t,n,r]}},hsl2tuple:function(e){function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n,r,i,o,a,s,u,l,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){if(r=parseInt(c[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,i=parseFloat(c[2]),i<0||i>100)return;if(i/=100,o=parseFloat(c[3]),o<0||o>100)return;if(o/=100,a=c[4],void 0!==a&&(a=parseFloat(a),a<0||a>1))return;if(0===i)s=u=l=Math.round(255*o);else{var h=o<.5?o*(1+i):o+i-o*i,d=2*o-h;s=Math.round(255*t(d,h,r+1/3)),u=Math.round(255*t(d,h,r)),l=Math.round(255*t(d,h,r-1/3))}n=[s,u,l,a]}return n},rgb2tuple:function(e){var t,n=new RegExp("^"+this.regex.rgba+"$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var u=n[4];if(void 0!==u){if(u=parseFloat(u),u<0||u>1)return;t.push(u)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(r.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},{"../is":92}],109:[function(e,t,n){"use strict";var r=e("../is"),i=e("../math"),o={trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(e){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:r.array(e)?e.slice():r.plainObject(e)?this.clone(e):e},uuid:function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};o.makeBoundingBox=i.makeBoundingBox.bind(i),o._staticEmptyObject={},o.staticEmptyObject=function(){return o._staticEmptyObject},o.extend=null!=Object.assign?Object.assign:function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];e[a]=r[a]}}return e},o["default"]=function(e,t){return void 0===e?t:e},o.removeFromArray=function(e,t,n){for(var r=e.length;r>=0&&(e[r]!==t||(e.splice(r,1),n));r--);},o.clearArray=function(e){e.splice(0,e.length)},o.getPrefixedProperty=function(e,t,n){return n&&(t=this.prependCamel(n,t)),e[t]},o.setPrefixedProperty=function(e,t,n,r){n&&(t=this.prependCamel(n,t)),e[t]=r},[e("./colors"),e("./maps"),{memoize:e("./memoize")},e("./regex"),e("./strings"),e("./timing")].forEach(function(e){o.extend(o,e)}),t.exports=o},{"../is":92,"../math":94,"./colors":108,"./maps":110,"./memoize":111,"./regex":112,"./strings":113,"./timing":114}],110:[function(e,t,n){"use strict";var r=e("../is");t.exports={mapEmpty:function(e){var t=!0;return null!=e?0===Object.keys(e).length:t},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t,n=e.map,i=e.keys,o=i.length,a=0;a<o;a++){var t=i[a];r.plainObject(t)&&this.error("Tried to set map with object key"),a<i.length-1?(null==n[t]&&(n[t]={}),n=n[t]):n[t]=e.value}},getMap:function(e){for(var t=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(r.plainObject(a)&&this.error("Tried to get map with object key"),t=t[a],null==t)return t}return t},deleteMap:function(e){for(var t=e.map,n=e.keys,i=n.length,o=e.keepChildren,a=0;a<i;a++){var s=n[a];r.plainObject(s)&&this.error("Tried to delete map with object key");var u=a===e.keys.length-1;if(u)if(o)for(var l=Object.keys(t),c=0;c<l.length;c++){var h=l[c];o[h]||(t[h]=void 0)}else t[s]=void 0;else t=t[s]}}}},{"../is":92}],111:[function(e,t,n){"use strict";t.exports=function(e,t){var n={};return t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")}),function(){var r,i=this,o=arguments,a=t.apply(i,o);return(r=n[a])||(r=n[a]=e.apply(i,o)),r}}},{}],112:[function(e,t,n){"use strict";var r="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",i="rgb[a]?\\(("+r+"[%]?)\\s*,\\s*("+r+"[%]?)\\s*,\\s*("+r+"[%]?)(?:\\s*,\\s*("+r+"))?\\)",o="rgb[a]?\\((?:"+r+"[%]?)\\s*,\\s*(?:"+r+"[%]?)\\s*,\\s*(?:"+r+"[%]?)(?:\\s*,\\s*(?:"+r+"))?\\)",a="hsl[a]?\\(("+r+")\\s*,\\s*("+r+"[%])\\s*,\\s*("+r+"[%])(?:\\s*,\\s*("+r+"))?\\)",s="hsl[a]?\\((?:"+r+")\\s*,\\s*(?:"+r+"[%])\\s*,\\s*(?:"+r+"[%])(?:\\s*,\\s*(?:"+r+"))?\\)",u="\\#[0-9a-fA-F]{3}",l="\\#[0-9a-fA-F]{6}";t.exports={regex:{number:r,rgba:i,rgbaNoBackRefs:o,hsla:a,hslaNoBackRefs:s,hex3:u,hex6:l}}},{}],113:[function(e,t,n){"use strict";var r=e("./memoize"),i=e("../is");t.exports={camel2dash:r(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:r(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:r(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},{"../is":92,"./memoize":111}],114:[function(e,t,n){"use strict";var r=e("../window"),i=e("../is"),o=r?r.performance:null,a={},s=r?r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame:null;s=s||function(e){e&&setTimeout(function(){e(u())},1e3/60)},a.requestAnimationFrame=function(e){s(e)};var u=o&&o.now?function(){return o.now()}:function(){return Date.now()};a.performanceNow=u,a.throttle=function(e,t,n){var r=!0,o=!0;return n===!1?r=!1:i.plainObject(n)&&(r="leading"in n?n.leading:r,o="trailing"in n?n.trailing:o),n=n||{},n.leading=r,n.maxWait=t,n.trailing=o,a.debounce(e,t,n)},a.now=function(){return Date.now()},a.debounce=function(e,t,n){var r,o,a,s,u,l,c,h=this,d=0,f=!1,p=!0;if(i.fn(e)){if(t=Math.max(0,t)||0,n===!0){var g=!0;p=!1}else i.plainObject(n)&&(g=n.leading,f="maxWait"in n&&(Math.max(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var v=function(){var n=t-(h.now()-s);if(n<=0){o&&clearTimeout(o);var i=c;o=l=c=void 0,i&&(d=h.now(),a=e.apply(u,r),l||o||(r=u=null))}else l=setTimeout(v,n)},y=function(){l&&clearTimeout(l),o=l=c=void 0,(p||f!==t)&&(d=h.now(),a=e.apply(u,r),l||o||(r=u=null))};return function(){if(r=arguments,s=h.now(),u=this,c=p&&(l||!g),f===!1)var n=g&&!l;else{o||g||(d=s);var i=f-(s-d),m=i<=0;m?(o&&(o=clearTimeout(o)),d=s,a=e.apply(u,r)):o||(o=setTimeout(y,i))}return m&&l?l=clearTimeout(l):l||t===f||(l=setTimeout(v,t)),n&&(m=!0,a=e.apply(u,r)),!m||l||o||(r=u=null),a}}},t.exports=a},{"../is":92,"../window":116}],115:[function(e,t,n){t.exports="2.7.7"},{}],116:[function(e,t,n){t.exports="undefined"==typeof window?null:window},{}],117:[function(e,t,n){t.exports={graphlib:e("./lib/graphlib"),layout:e("./lib/layout"),debug:e("./lib/debug"),util:{time:e("./lib/util").time,notime:e("./lib/util").notime},version:e("./lib/version")}},{"./lib/debug":122,"./lib/graphlib":123,"./lib/layout":125,"./lib/util":145,"./lib/version":146}],118:[function(e,t,n){"use strict";function r(e){function t(e){return function(t){return e.edge(t).weight}}var n="greedy"===e.graph().acyclicer?s(e,t(e)):i(e);a.each(n,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,a.uniqueId("rev"))})}function i(e){function t(o){a.has(i,o)||(i[o]=!0,r[o]=!0,a.each(e.outEdges(o),function(e){a.has(r,e.w)?n.push(e):t(e.w)}),delete r[o])}var n=[],r={},i={};return a.each(e.nodes(),t),n}function o(e){a.each(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var a=e("./lodash"),s=e("./greedy-fas");t.exports={run:r,undo:o}},{"./greedy-fas":124,"./lodash":126}],119:[function(e,t,n){function r(e){function t(n){var r=e.children(n),a=e.node(n);if(r.length&&o.each(r,t),o.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}}o.each(e.children(),t)}function i(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},u=i[t][o-1],l=a.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),u&&e.setEdge(u,l,{weight:1})}var o=e("./lodash"),a=e("./util");t.exports=r},{"./lodash":126,"./util":145}],120:[function(e,t,n){"use strict";function r(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)}function i(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||s(e),"lr"!==t&&"rl"!==t||(l(e),o(e))}function o(e){h.each(e.nodes(),function(t){a(e.node(t))}),h.each(e.edges(),function(t){a(e.edge(t))})}function a(e){var t=e.width;e.width=e.height,e.height=t}function s(e){h.each(e.nodes(),function(t){u(e.node(t))}),h.each(e.edges(),function(t){var n=e.edge(t);h.each(n.points,u),h.has(n,"y")&&u(n)})}function u(e){e.y=-e.y}function l(e){h.each(e.nodes(),function(t){c(e.node(t))}),h.each(e.edges(),function(t){var n=e.edge(t);h.each(n.points,c),h.has(n,"x")&&c(n)})}function c(e){var t=e.x;e.x=e.y,e.y=t}var h=e("./lodash");t.exports={adjust:r,undo:i}},{"./lodash":126}],121:[function(e,t,n){function r(){var e={};e._next=e._prev=e,this._sentinel=e}function i(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}t.exports=r,r.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return i(t),t},r.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&i(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},r.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},{}],122:[function(e,t,n){function r(e){var t=o.buildLayerMatrix(e),n=new a({
compound:!0,multigraph:!0}).setGraph({});return i.each(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),i.each(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),i.each(t,function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),i.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}var i=e("./lodash"),o=e("./util"),a=e("./graphlib").Graph;t.exports={debugOrdering:r}},{"./graphlib":123,"./lodash":126,"./util":145}],123:[function(e,t,n){var r;if("function"==typeof e)try{r=e("graphlib")}catch(i){}r||(r=window.graphlib),t.exports=r},{graphlib:148}],124:[function(e,t,n){function r(e,t){if(e.nodeCount()<=1)return[];var n=a(e,t||h),r=i(n.graph,n.buckets,n.zeroIdx);return u.flatten(u.map(r,function(t){return e.outEdges(t.v,t.w)}),!0)}function i(e,t,n){for(var r,i=[],a=t[t.length-1],s=t[0];e.nodeCount();){for(;r=s.dequeue();)o(e,t,n,r);for(;r=a.dequeue();)o(e,t,n,r);if(e.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){i=i.concat(o(e,t,n,r,!0));break}}return i}function o(e,t,n,r,i){var o=i?[]:void 0;return u.each(e.inEdges(r.v),function(r){var a=e.edge(r),u=e.node(r.v);i&&o.push({v:r.v,w:r.w}),u.out-=a,s(t,n,u)}),u.each(e.outEdges(r.v),function(r){var i=e.edge(r),o=r.w,a=e.node(o);a["in"]-=i,s(t,n,a)}),e.removeNode(r.v),o}function a(e,t){var n=new l,r=0,i=0;u.each(e.nodes(),function(e){n.setNode(e,{v:e,"in":0,out:0})}),u.each(e.edges(),function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w)["in"]+=a)});var o=u.range(i+r+3).map(function(){return new c}),a=r+1;return u.each(n.nodes(),function(e){s(o,a,n.node(e))}),{graph:n,buckets:o,zeroIdx:a}}function s(e,t,n){n.out?n["in"]?e[n.out-n["in"]+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var u=e("./lodash"),l=e("./graphlib").Graph,c=e("./data/list");t.exports=r;var h=u.constant(1)},{"./data/list":121,"./graphlib":123,"./lodash":126}],125:[function(e,t,n){"use strict";function r(e,t){var n=t&&t.debugTiming?M.time:M.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return a(e)});n("  runLayout",function(){i(t,n)}),n("  updateInputGraph",function(){o(e,t)})})}function i(e,t){t("    makeSpaceForEdgeLabels",function(){s(e)}),t("    removeSelfEdges",function(){v(e)}),t("    acyclic",function(){E.run(e)}),t("    nestingGraph.run",function(){C.run(e)}),t("    rank",function(){T(M.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){u(e)}),t("    removeEmptyRanks",function(){D(e)}),t("    nestingGraph.cleanup",function(){C.cleanup(e)}),t("    normalizeRanks",function(){N(e)}),t("    assignRankMinMax",function(){l(e)}),t("    removeEdgeLabelProxies",function(){c(e)}),t("    normalize.run",function(){_.run(e)}),t("    parentDummyChains",function(){k(e)}),t("    addBorderSegments",function(){S(e)}),t("    order",function(){A(e)}),t("    insertSelfEdges",function(){y(e)}),t("    adjustCoordinateSystem",function(){L.adjust(e)}),t("    position",function(){I(e)}),t("    positionSelfEdges",function(){m(e)}),t("    removeBorderNodes",function(){g(e)}),t("    normalize.undo",function(){_.undo(e)}),t("    fixupEdgeLabelCoords",function(){f(e)}),t("    undoCoordinateSystem",function(){L.undo(e)}),t("    translateGraph",function(){h(e)}),t("    assignNodeIntersects",function(){d(e)}),t("    reversePoints",function(){p(e)}),t("    acyclic.undo",function(){E.undo(e)})}function o(e,t){w.each(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),w.each(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,w.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function a(e){var t=new P({multigraph:!0,compound:!0}),n=b(e.graph());return t.setGraph(w.merge({},R,x(n,O),w.pick(n,F))),w.each(e.nodes(),function(n){var r=b(e.node(n));t.setNode(n,w.defaults(x(r,j),B)),t.setParent(n,e.parent(n))}),w.each(e.edges(),function(n){var r=b(e.edge(n));t.setEdge(n,w.merge({},z,x(r,q),w.pick(r,V)))}),t}function s(e){var t=e.graph();t.ranksep/=2,w.each(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function u(e){w.each(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};M.addDummyNode(e,"edge-proxy",o,"_ep")}})}function l(e){var t=0;w.each(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=w.max(t,r.maxRank))}),e.graph().maxRank=t}function c(e){w.each(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function h(e){function t(e){var t=e.x,a=e.y,s=e.width,u=e.height;n=Math.min(n,t-s/2),r=Math.max(r,t+s/2),i=Math.min(i,a-u/2),o=Math.max(o,a+u/2)}var n=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,o=0,a=e.graph(),s=a.marginx||0,u=a.marginy||0;w.each(e.nodes(),function(n){t(e.node(n))}),w.each(e.edges(),function(n){var r=e.edge(n);w.has(r,"x")&&t(r)}),n-=s,i-=u,w.each(e.nodes(),function(t){var r=e.node(t);r.x-=n,r.y-=i}),w.each(e.edges(),function(t){var r=e.edge(t);w.each(r.points,function(e){e.x-=n,e.y-=i}),w.has(r,"x")&&(r.x-=n),w.has(r,"y")&&(r.y-=i)}),a.width=r-n+s,a.height=o-i+u}function d(e){w.each(e.edges(),function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(M.intersectRect(o,n)),i.points.push(M.intersectRect(a,r))})}function f(e){w.each(e.edges(),function(t){var n=e.edge(t);if(w.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}function p(e){w.each(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function g(e){w.each(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(w.last(n.borderLeft)),a=e.node(w.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),w.each(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}function v(e){w.each(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function y(e){var t=M.buildLayerMatrix(e);w.each(t,function(t){var n=0;w.each(t,function(t,r){var i=e.node(t);i.order=r+n,w.each(i.selfEdges,function(t){M.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}function m(e){w.each(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function x(e,t){return w.mapValues(w.pick(e,t),Number)}function b(e){var t={};return w.each(e,function(e,n){t[n.toLowerCase()]=e}),t}var w=e("./lodash"),E=e("./acyclic"),_=e("./normalize"),T=e("./rank"),N=e("./util").normalizeRanks,k=e("./parent-dummy-chains"),D=e("./util").removeEmptyRanks,C=e("./nesting-graph"),S=e("./add-border-segments"),L=e("./coordinate-system"),A=e("./order"),I=e("./position"),M=e("./util"),P=e("./graphlib").Graph;t.exports=r;var O=["nodesep","edgesep","ranksep","marginx","marginy"],R={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},F=["acyclicer","ranker","rankdir","align"],j=["width","height"],B={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],z={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},V=["labelpos"]},{"./acyclic":118,"./add-border-segments":119,"./coordinate-system":120,"./graphlib":123,"./lodash":126,"./nesting-graph":127,"./normalize":128,"./order":133,"./parent-dummy-chains":138,"./position":140,"./rank":142,"./util":145}],126:[function(e,t,n){var r;if("function"==typeof e)try{r=e("lodash")}catch(i){}r||(r=window._),t.exports=r},{lodash:147}],127:[function(e,t,n){function r(e){var t=l.addDummyNode(e,"root",{},"_root"),n=o(e),r=u.max(n)-1,s=2*r+1;e.graph().nestingRoot=t,u.each(e.edges(),function(t){e.edge(t).minlen*=s});var c=a(e)+1;u.each(e.children(),function(o){i(e,t,s,c,r,n,o)}),e.graph().nodeRankFactor=s}function i(e,t,n,r,o,a,s){var c=e.children(s);if(!c.length)return void(s!==t&&e.setEdge(t,s,{weight:0,minlen:n}));var h=l.addBorderNode(e,"_bt"),d=l.addBorderNode(e,"_bb"),f=e.node(s);e.setParent(h,s),f.borderTop=h,e.setParent(d,s),f.borderBottom=d,u.each(c,function(u){i(e,t,n,r,o,a,u);var l=e.node(u),c=l.borderTop?l.borderTop:u,f=l.borderBottom?l.borderBottom:u,p=l.borderTop?r:2*r,g=c!==f?1:o-a[s]+1;e.setEdge(h,c,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(f,d,{weight:p,minlen:g,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,h,{weight:0,minlen:o+a[s]})}function o(e){function t(r,i){var o=e.children(r);o&&o.length&&u.each(o,function(e){t(e,i+1)}),n[r]=i}var n={};return u.each(e.children(),function(e){t(e,1)}),n}function a(e){return u.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function s(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,u.each(e.edges(),function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}var u=e("./lodash"),l=e("./util");t.exports={run:r,cleanup:s}},{"./lodash":126,"./util":145}],128:[function(e,t,n){"use strict";function r(e){e.graph().dummyChains=[],a.each(e.edges(),function(t){i(e,t)})}function i(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,u=e.edge(t),l=u.labelRank;if(o!==r+1){e.removeEdge(t);var c,h,d;for(d=0,++r;r<o;++d,++r)u.points=[],h={width:0,height:0,edgeLabel:u,edgeObj:t,rank:r},c=s.addDummyNode(e,"edge",h,"_d"),r===l&&(h.width=u.width,h.height=u.height,h.dummy="edge-label",h.labelpos=u.labelpos),e.setEdge(n,c,{weight:u.weight},a),0===d&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:u.weight},a)}}function o(e){a.each(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}var a=e("./lodash"),s=e("./util");t.exports={run:r,undo:o}},{"./lodash":126,"./util":145}],129:[function(e,t,n){function r(e,t,n){var r,o={};i.each(n,function(n){for(var i,a,s=e.parent(n);s;){if(i=e.parent(s),i?(a=o[i],o[i]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=i}})}var i=e("../lodash");t.exports=r},{"../lodash":126}],130:[function(e,t,n){function r(e,t){return i.map(t,function(t){var n=e.inEdges(t);if(n.length){var r=i.reduce(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})}var i=e("../lodash");t.exports=r},{"../lodash":126}],131:[function(e,t,n){function r(e,t,n){var r=i(e),s=new a({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)});return o.each(e.nodes(),function(i){var a=e.node(i),u=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(i),s.setParent(i,u||r),o.each(e[n](i),function(t){var n=t.v===i?t.w:t.v,r=s.edge(n,i),a=o.isUndefined(r)?0:r.weight;s.setEdge(n,i,{weight:e.edge(t).weight+a})}),o.has(a,"minRank")&&s.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),s}function i(e){for(var t;e.hasNode(t=o.uniqueId("_root")););return t}var o=e("../lodash"),a=e("../graphlib").Graph;t.exports=r},{"../graphlib":123,"../lodash":126}],132:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}function i(e,t,n){for(var r=o.zipObject(n,o.map(n,function(e,t){return t})),i=o.flatten(o.map(t,function(t){return o.chain(e.outEdges(t)).map(function(t){return{pos:r[t.w],weight:e.edge(t).weight}}).sortBy("pos").value()}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=o.map(new Array(s),function(){return 0}),l=0;return o.each(i.forEach(function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),t=t-1>>1,u[t]+=e.weight;l+=e.weight*n})),l}var o=e("../lodash");t.exports=r},{"../lodash":126}],133:[function(e,t,n){"use strict";function r(e){var t=p.maxRank(e),n=i(e,s.range(1,t+1),"inEdges"),r=i(e,s.range(t-1,-1,-1),"outEdges"),c=u(e);a(e,c);for(var h,d=Number.POSITIVE_INFINITY,f=0,g=0;g<4;++f,++g){o(f%2?n:r,f%4>=2),c=p.buildLayerMatrix(e);var v=l(e,c);v<d&&(g=0,h=s.cloneDeep(c),d=v)}a(e,h)}function i(e,t,n){return s.map(t,function(t){return h(e,t,n)})}function o(e,t){var n=new f;s.each(e,function(e){var r=e.graph().root,i=c(e,r,n,t);s.each(i.vs,function(t,n){e.node(t).order=n}),d(e,n,i.vs)})}function a(e,t){s.each(t,function(t){s.each(t,function(t,n){e.node(t).order=n})})}var s=e("../lodash"),u=e("./init-order"),l=e("./cross-count"),c=e("./sort-subgraph"),h=e("./build-layer-graph"),d=e("./add-subgraph-constraints"),f=e("../graphlib").Graph,p=e("../util");t.exports=r},{"../graphlib":123,"../lodash":126,"../util":145,"./add-subgraph-constraints":129,"./build-layer-graph":131,"./cross-count":132,"./init-order":134,"./sort-subgraph":136}],134:[function(e,t,n){"use strict";function r(e){function t(r){if(!i.has(n,r)){n[r]=!0;var o=e.node(r);a[o.rank].push(r),i.each(e.successors(r),t)}}var n={},r=i.filter(e.nodes(),function(t){return!e.children(t).length}),o=i.max(i.map(r,function(t){return e.node(t).rank})),a=i.map(i.range(o+1),function(){return[]}),s=i.sortBy(r,function(t){return e.node(t).rank});return i.each(s,t),a}var i=e("../lodash");t.exports=r},{"../lodash":126}],135:[function(e,t,n){"use strict";function r(e,t){var n={};a.each(e,function(e,t){var r=n[e.v]={indegree:0,"in":[],out:[],vs:[e.v],i:t};a.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),a.each(t.edges(),function(e){var t=n[e.v],r=n[e.w];a.isUndefined(t)||a.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))});var r=a.filter(n,function(e){return!e.indegree});return i(r)}function i(e){function t(e){return function(t){t.merged||(a.isUndefined(t.barycenter)||a.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&o(e,t)}}function n(t){return function(n){n["in"].push(t),0===--n.indegree&&e.push(n)}}for(var r=[];e.length;){var i=e.pop();r.push(i),a.each(i["in"].reverse(),t(i)),a.each(i.out,n(i))}return a.chain(r).filter(function(e){return!e.merged}).map(function(e){return a.pick(e,["vs","i","barycenter","weight"])}).value()}function o(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var a=e("../lodash");t.exports=r},{"../lodash":126}],136:[function(e,t,n){function r(e,t,n,c){var h=e.children(t),d=e.node(t),f=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,g={};f&&(h=a.filter(h,function(e){return e!==f&&e!==p}));var v=s(e,h);a.each(v,function(t){if(e.children(t.v).length){var i=r(e,t.v,n,c);g[t.v]=i,a.has(i,"barycenter")&&o(t,i)}});var y=u(v,n);i(y,g);var m=l(y,c);if(f&&(m.vs=a.flatten([f,m.vs,p],!0),e.predecessors(f).length)){var x=e.node(e.predecessors(f)[0]),b=e.node(e.predecessors(p)[0]);a.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+x.order+b.order)/(m.weight+2),m.weight+=2}return m}function i(e,t){a.each(e,function(e){e.vs=a.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}function o(e,t){a.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var a=e("../lodash"),s=e("./barycenter"),u=e("./resolve-conflicts"),l=e("./sort");t.exports=r},{"../lodash":126,"./barycenter":130,"./resolve-conflicts":135,"./sort":137}],137:[function(e,t,n){function r(e,t){var n=s.partition(e,function(e){return a.has(e,"barycenter")}),r=n.lhs,u=a.sortBy(n.rhs,function(e){return-e.i}),l=[],c=0,h=0,d=0;r.sort(o(!!t)),d=i(l,u,d),a.each(r,function(e){d+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,h+=e.weight,d=i(l,u,d)});var f={vs:a.flatten(l,!0)};return h&&(f.barycenter=c/h,f.weight=h),f}function i(e,t,n){for(var r;t.length&&(r=a.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function o(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var a=e("../lodash"),s=e("../util");t.exports=r},{"../lodash":126,"../util":145}],138:[function(e,t,n){function r(e){var t=o(e);a.each(e.graph().dummyChains,function(n){for(var r=e.node(n),o=r.edgeObj,a=i(e,t,o.v,o.w),s=a.path,u=a.lca,l=0,c=s[l],h=!0;n!==o.w;){if(r=e.node(n),h){for(;(c=s[l])!==u&&e.node(c).maxRank<r.rank;)l++;c===u&&(h=!1)}if(!h){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=r.rank;)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function i(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do i=e.parent(i),a.push(i);while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}function o(e){function t(i){var o=r;a.each(e.children(i),t),n[i]={low:o,lim:r++}}var n={},r=0;return a.each(e.children(),t),n}var a=e("./lodash");t.exports=r},{"./lodash":126}],139:[function(e,t,n){"use strict";function r(e,t){function n(t,n){var i=0,s=0,u=t.length,l=y.last(n);return y.each(n,function(t,c){var h=o(e,t),d=h?e.node(h).order:u;(h||t===l)&&(y.each(n.slice(s,c+1),function(t){y.each(e.predecessors(t),function(n){var o=e.node(n),s=o.order;!(s<i||d<s)||o.dummy&&e.node(t).dummy||a(r,n,t)})}),s=c+1,i=d)}),n}var r={};return y.reduce(t,n),r}function i(e,t){function n(t,n,r,o,s){var u;y.each(y.range(n,r),function(n){u=t[n],e.node(u).dummy&&y.each(e.predecessors(u),function(t){var n=e.node(t);n.dummy&&(n.order<o||n.order>s)&&a(i,t,u)})})}function r(t,r){var i,o=-1,a=0;return y.each(r,function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,n(r,a,u,o,i),a=u,o=i)}n(r,a,r.length,i,t.length)}),r}var i={};return y.reduce(t,r),i}function o(e,t){if(e.node(t).dummy)return y.find(e.predecessors(t),function(t){return e.node(t).dummy})}function a(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function s(e,t,n){if(t>n){var r=t;t=n,n=r}return y.has(e[t],n)}function u(e,t,n,r){var i={},o={},a={};return y.each(t,function(e){y.each(e,function(e,t){i[e]=e,o[e]=e,a[e]=t})}),y.each(t,function(e){var t=-1;y.each(e,function(e){var u=r(e);if(u.length){u=y.sortBy(u,function(e){return a[e]});for(var l=(u.length-1)/2,c=Math.floor(l),h=Math.ceil(l);c<=h;++c){var d=u[c];o[e]===e&&t<a[d]&&!s(n,e,d)&&(o[d]=e,o[e]=i[e]=i[d],t=a[d])}}})}),{root:i,align:o}}function l(e,t,n,r,i){function o(e){y.has(l,e)||(l[e]=!0,s[e]=y.reduce(u.inEdges(e),function(e,t){return o(t.v),Math.max(e,s[t.v]+u.edge(t))},0))}function a(t){if(2!==l[t]){l[t]++;var n=e.node(t),r=y.reduce(u.outEdges(t),function(e,t){return a(t.w),Math.min(e,s[t.w]-u.edge(t))},Number.POSITIVE_INFINITY);r!==Number.POSITIVE_INFINITY&&n.borderType!==h&&(s[t]=Math.max(s[t],r))}}var s={},u=c(e,t,n,i),l={};y.each(u.nodes(),o);var h=i?"borderLeft":"borderRight";return y.each(u.nodes(),a),y.each(r,function(e){s[e]=s[n[e]]}),s}function c(e,t,n,r){var i=new m,o=e.graph(),a=g(o.nodesep,o.edgesep,r);return y.each(t,function(t){var r;y.each(t,function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),u||0))}r=t})}),i}function h(e,t){return y.min(t,function(t){var n=y.min(t,function(t,n){return t-v(e,n)/2}),r=y.max(t,function(t,n){return t+v(e,n)/2});return r-n})}function d(e,t){var n=y.min(t),r=y.max(t);y.each(["u","d"],function(i){y.each(["l","r"],function(o){var a,s=i+o,u=e[s];u!==t&&(a="l"===o?n-y.min(u):r-y.max(u),a&&(e[s]=y.mapValues(u,function(e){return e+a})))})})}function f(e,t){return y.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=y.sortBy(y.pluck(e,r));return(i[1]+i[2])/2})}function p(e){var t,n=x.buildLayerMatrix(e),o=y.merge(r(e,n),i(e,n)),a={};y.each(["u","d"],function(r){t="u"===r?n:y.values(n).reverse(),y.each(["l","r"],function(n){"r"===n&&(t=y.map(t,function(e){return y.values(e).reverse()}));var i=y.bind("u"===r?e.predecessors:e.successors,e),s=u(e,t,o,i),c=l(e,t,s.root,s.align,"r"===n);"r"===n&&(c=y.mapValues(c,function(e){return-e})),a[r+n]=c})});var s=h(e,a);return d(a,s),f(a,e.graph().align)}function g(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,y.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,y.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}}function v(e,t){return e.node(t).width}var y=e("../lodash"),m=e("../graphlib").Graph,x=e("../util");t.exports={positionX:p,findType1Conflicts:r,findType2Conflicts:i,addConflict:a,hasConflict:s,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:h,balance:f}},{"../graphlib":123,"../lodash":126,"../util":145}],140:[function(e,t,n){"use strict";function r(e){e=a.asNonCompoundGraph(e),i(e),o.each(s(e),function(t,n){e.node(n).x=t})}function i(e){var t=a.buildLayerMatrix(e),n=e.graph().ranksep,r=0;o.each(t,function(t){var i=o.max(o.map(t,function(t){return e.node(t).height}));o.each(t,function(t){e.node(t).y=r+i/2}),r+=i+n})}var o=e("../lodash"),a=e("../util"),s=e("./bk").positionX;t.exports=r},{"../lodash":126,"../util":145,"./bk":139}],141:[function(e,t,n){"use strict";function r(e){var t=new u({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var s,c;i(t,e)<r;)s=o(t,e),c=t.hasNode(s.v)?l(e,s):-l(e,s),a(t,e,c);return t}function i(e,t){function n(r){s.each(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||l(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return s.each(e.nodes(),n),e.nodeCount()}function o(e,t){return s.min(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return l(t,n)})}function a(e,t,n){s.each(e.nodes(),function(e){t.node(e).rank+=n})}var s=e("../lodash"),u=e("../graphlib").Graph,l=e("./util").slack;t.exports=r},{"../graphlib":123,"../lodash":126,"./util":144}],142:[function(e,t,n){"use strict";function r(e){switch(e.graph().ranker){case"network-simplex":o(e);break;case"tight-tree":i(e);break;case"longest-path":c(e);break;default:o(e)}}function i(e){s(e),u(e)}function o(e){l(e)}var a=e("./util"),s=a.longestPath,u=e("./feasible-tree"),l=e("./network-simplex");t.exports=r;var c=s},{"./feasible-tree":141,"./network-simplex":143,"./util":144}],143:[function(e,t,n){"use strict";function r(e){e=w(e),m(e);var t=v(e);s(t),i(t,e);for(var n,r;n=l(t);)r=c(t,e,n),h(t,e,n,r)}function i(e,t){var n=b(e,e.nodes());n=n.slice(0,n.length-1),g.each(n,function(n){o(e,t,n)})}function o(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=a(e,t,n)}function a(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,g.each(t.nodeEdges(n),function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var l=a===o,c=t.edge(r).weight;if(s+=l?c:-c,f(e,n,u)){var h=e.edge(n,u).cutvalue;s+=l?-h:h}}}),s}function s(e,t){arguments.length<2&&(t=e.nodes()[0]),u(e,{},1,t)}function u(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,g.each(e.neighbors(r),function(i){g.has(t,i)||(n=u(e,t,n,i,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function l(e){return g.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function c(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var l=g.filter(t.edges(),function(t){return u===p(e,e.node(t.v),s)&&u!==p(e,e.node(t.w),s)});return g.min(l,function(e){return y(t,e)})}function h(e,t,n,r){var o=n.v,a=n.w;e.removeEdge(o,a),e.setEdge(r.v,r.w,{}),s(e),i(e,t),d(e,t)}function d(e,t){var n=g.find(e.nodes(),function(e){return!t.node(e).parent}),r=x(e,n);r=r.slice(1),g.each(r,function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})}function f(e,t,n){return e.hasEdge(t,n)}function p(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var g=e("../lodash"),v=e("./feasible-tree"),y=e("./util").slack,m=e("./util").longestPath,x=e("../graphlib").alg.preorder,b=e("../graphlib").alg.postorder,w=e("../util").simplify;t.exports=r,r.initLowLimValues=s,r.initCutValues=i,r.calcCutValue=a,r.leaveEdge=l,r.enterEdge=c,r.exchangeEdges=h},{"../graphlib":123,"../lodash":126,"../util":145,"./feasible-tree":141,"./util":144}],144:[function(e,t,n){"use strict";function r(e){function t(r){var i=e.node(r);if(o.has(n,r))return i.rank;n[r]=!0;var a=o.min(o.map(e.outEdges(r),function(n){return t(n.w)-e.edge(n).minlen}));return a===Number.POSITIVE_INFINITY&&(a=0),i.rank=a}var n={};o.each(e.sources(),t)}function i(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var o=e("../lodash");t.exports={longestPath:r,slack:i}},{"../lodash":126}],145:[function(e,t,n){"use strict";function r(e,t,n,r){var i;do i=y.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function i(e){var t=(new m).setGraph(e.graph());return y.each(e.nodes(),function(n){t.setNode(n,e.node(n))}),y.each(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function o(e){var t=new m({multigraph:e.isMultigraph()}).setGraph(e.graph());return y.each(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),y.each(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function a(e){var t=y.map(e.nodes(),function(t){var n={};return y.each(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return y.zipObject(e.nodes(),t)}function s(e){var t=y.map(e.nodes(),function(t){var n={};return y.each(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return y.zipObject(e.nodes(),t)}function u(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),u=s*i/o,l=s):(i<0&&(a=-a),u=a,l=a*o/i),{x:n+u,y:r+l}}function l(e){var t=y.map(y.range(f(e)+1),function(){return[]});return y.each(e.nodes(),function(n){var r=e.node(n),i=r.rank;y.isUndefined(i)||(t[i][r.order]=n)}),t}function c(e){var t=y.min(y.map(e.nodes(),function(t){return e.node(t).rank}));y.each(e.nodes(),function(n){var r=e.node(n);y.has(r,"rank")&&(r.rank-=t)})}function h(e){var t=y.min(y.map(e.nodes(),function(t){return e.node(t).rank})),n=[];y.each(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=e.graph().nodeRankFactor;y.each(n,function(t,n){y.isUndefined(t)&&n%i!==0?--r:r&&y.each(t,function(t){e.node(t).rank+=r})})}function d(e,t,n,i){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=i),r(e,"border",o,t)}function f(e){return y.max(y.map(e.nodes(),function(t){var n=e.node(t).rank;if(!y.isUndefined(n))return n}))}function p(e,t){var n={lhs:[],rhs:[]};return y.each(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n}function g(e,t){var n=y.now();try{return t()}finally{console.log(e+" time: "+(y.now()-n)+"ms")}}function v(e,t){return t()}var y=e("./lodash"),m=e("./graphlib").Graph;t.exports={addDummyNode:r,simplify:i,asNonCompoundGraph:o,successorWeights:a,predecessorWeights:s,intersectRect:u,buildLayerMatrix:l,normalizeRanks:c,removeEmptyRanks:h,addBorderNode:d,maxRank:f,partition:p,time:g,notime:v}},{"./graphlib":123,"./lodash":126}],146:[function(e,t,n){t.exports="0.7.4"},{}],147:[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=null===e,r=e===N,i=e===e,o=null===t,a=t===N,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(e<t&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function o(e,t,n){if(t!==t)return v(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function a(e){return"function"==typeof e||!1}function s(e){return null==e?"":e+""}function u(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function l(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function c(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function h(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var l=r(o[i],a[i]);if(l){if(i>=u)return l;var c=n[i];return l*("asc"===c||c===!0?1:-1)}}return e.index-t.index}function d(e){return Xe[e]}function f(e){return Ue[e]}function p(e,t,n){return t?e=We[e]:n&&(e=$e[e]),"\\"+e}function g(e){return"\\"+$e[e]}function v(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function y(e){return!!e&&"object"==typeof e}function m(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function x(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=X,o[++i]=n);return o}function b(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function w(e){for(var t=-1,n=e.length;++t<n&&m(e.charCodeAt(t)););return t}function E(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function _(e){return Ge[e]}function T(e){function t(e){if(y(e)&&!Ss(e)&&!(e instanceof Q)){if(e instanceof m)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return fr(e)}return new m(e)}function n(){}function m(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Q(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ca,this.__views__=[]}function te(){var e=new Q(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function re(){if(this.__filtered__){var e=new Q(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Xe(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ss(e),r=t<0,i=n?e.length:0,o=Gn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,d=0,f=_a(u,this.__takeCount__);if(!n||i<q||i==u&&f==u)return nn(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&d<f;){l+=t;for(var g=-1,v=e[l];++g<h;){var y=c[g],m=y.iteratee,x=y.type,b=m(v);if(x==V)v=b;else if(!b){if(x==z)continue e;break e}}p[d++]=v}return p}function Ue(){this.__data__={}}function Ge(e){return this.has(e)&&delete this.__data__[e]}function He(e){return"__proto__"==e?N:this.__data__[e]}function We(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function $e(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:ya(null),set:new ha};t--;)this.push(e[t])}function Qe(e,t){var n=e.data,r="string"==typeof t||Pi(t)?n.set.has(t):n.hash[t];return r?0:-1}function Ke(e){var t=this.data;"string"==typeof e||Pi(e)?t.set.add(e):t.hash[e]=!0}function Je(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=zo(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function et(e,t){var n=-1,r=e.length;for(t||(t=zo(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],l=+t(u);n(l,a)&&(a=l,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){
var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ut(e,t){for(var n=-1,r=e.length,i=zo(r);++n<r;)i[n]=t(e[n],n,e);return i}function lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ct(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ht(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function dt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ft(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function pt(e,t){return e===N?t:e}function gt(e,t,n,r){return e!==N&&ta.call(r,n)?e:t}function vt(e,t,n){for(var r=-1,i=qs(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==N||a in e)||(e[a]=u)}return e}function yt(e,t){return null==t?e:xt(t,qs(t),e)}function mt(e,t){for(var n=-1,r=null==e,i=!r&&Qn(e),o=i?e.length:0,a=t.length,s=zo(a);++n<a;){var u=t[n];i?s[n]=Kn(u,o)?e[u]:N:s[n]=r?N:e[u]}return s}function xt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function bt(e,t,n){var r=typeof e;return"function"==r?t===N?e:an(e,t,n):null==e?Co:"object"==r?Bt(e):t===N?Po(e):qt(e,t)}function wt(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==N)return s;if(!Pi(e))return e;var u=Ss(e);if(u){if(s=Hn(e),!t)return et(e,s)}else{var l=ra.call(e),c=l==Z;if(l!=J&&l!=U&&(!c||i))return Ye[l]?$n(e,l,t):i?e:{};if(s=Wn(c?{}:e),!t)return yt(s,e)}o||(o=[]),a||(a=[]);for(var h=o.length;h--;)if(o[h]==e)return a[h];return o.push(e),a.push(s),(u?tt:At)(e,function(r,i){s[i]=wt(r,t,n,i,e,o,a)}),s}function Et(e,t,n){if("function"!=typeof e)throw new Zo(Y);return da(function(){e.apply(N,n)},t)}function _t(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,a=Yn(),s=a==o,u=s&&t.length>=q?gn(t):null,l=t.length;u&&(a=Qe,s=!1,t=u);e:for(;++i<n;){var c=e[i];if(s&&c===c){for(var h=l;h--;)if(t[h]===c)continue e;r.push(c)}else a(t,c,0)<0&&r.push(c)}return r}function Tt(e,t){var n=!0;return Ra(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Nt(e,t,n,r){var i=r,o=i;return Ra(e,function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function kt(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===N||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}function Dt(e,t){var n=[];return Ra(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Ct(e,t,n,r){var i;return n(e,function(e,n,o){if(t(e,n,o))return i=r?n:e,!1}),i}function St(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];y(a)&&Qn(a)&&(n||Ss(a)||Ni(a))?t?St(a,t,n,r):lt(r,a):n||(r[r.length]=a)}return r}function Lt(e,t){return ja(e,t,eo)}function At(e,t){return ja(e,t,qs)}function It(e,t){return Ba(e,t,qs)}function Mt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Mi(e[a])&&(o[++i]=a)}return o}function Pt(e,t,n){if(null!=e){n!==N&&n in hr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:N}}function Ot(e,t,n,r,i,o){return e===t||(null==e||null==t||!Pi(e)&&!y(t)?e!==e&&t!==t:Rt(e,t,Ot,n,r,i,o))}function Rt(e,t,n,r,i,o,a){var s=Ss(e),u=Ss(t),l=G,c=G;s||(l=ra.call(e),l==U?l=J:l!=J&&(s=Yi(e))),u||(c=ra.call(t),c==U?c=J:c!=J&&(u=Yi(t)));var h=l==J,d=c==J,f=l==c;if(f&&!s&&!h)return Bn(e,t,l);if(!i){var p=h&&ta.call(e,"__wrapped__"),g=d&&ta.call(t,"__wrapped__");if(p||g)return n(p?e.value():e,g?t.value():t,r,i,o,a)}if(!f)return!1;o||(o=[]),a||(a=[]);for(var v=o.length;v--;)if(o[v]==e)return a[v]==t;o.push(e),a.push(t);var y=(s?jn:qn)(e,t,n,r,i,o,a);return o.pop(),a.pop(),y}function Ft(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=hr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],l=a[1];if(o&&a[2]){if(u===N&&!(s in e))return!1}else{var c=n?n(u,l,s):N;if(!(c===N?Ot(l,u,n,!0):c))return!1}}return!0}function jt(e,t){var n=-1,r=Qn(e)?zo(e.length):[];return Ra(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Bt(e){var t=Xn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(r!==N||n in hr(e)))}}return function(e){return Ft(e,t)}}function qt(e,t){var n=Ss(e),r=er(e)&&rr(t),i=e+"";return e=dr(e),function(o){if(null==o)return!1;var a=i;if(o=hr(o),(n||!r)&&!(a in o)){if(o=1==e.length?o:Pt(o,Wt(e,0,-1)),null==o)return!1;a=kr(e),o=hr(o)}return o[a]===t?t!==N||a in o:Ot(t,o[a],N,!0)}}function zt(e,t,n,r,i){if(!Pi(e))return e;var o=Qn(t)&&(Ss(t)||Yi(t)),a=o?N:qs(t);return tt(a||t,function(s,u){if(a&&(u=s,s=t[u]),y(s))r||(r=[]),i||(i=[]),Vt(e,t,u,zt,n,r,i);else{var l=e[u],c=n?n(l,s,u,e,t):N,h=c===N;h&&(c=s),c===N&&(!o||u in e)||!h&&(c===c?c===l:l!==l)||(e[u]=c)}}),e}function Vt(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var l=e[n],c=i?i(l,u,n,e,t):N,h=c===N;h&&(c=u,Qn(u)&&(Ss(u)||Yi(u))?c=Ss(l)?l:Qn(l)?et(l):[]:qi(u)||Ni(u)?c=Ni(l)?Wi(l):qi(l)?l:{}:h=!1),o.push(u),a.push(c),h?e[n]=r(c,u,i,o,a):(c===c?c!==l:l===l)&&(e[n]=c)}function Yt(e){return function(t){return null==t?N:t[e]}}function Xt(e){var t=e+"";return e=dr(e),function(n){return Pt(n,e,t)}}function Ut(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Kn(r)){var i=r;fa.call(e,r,1)}}return e}function Gt(e,t){return e+ma(ka()*(t-e+1))}function Ht(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Wt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,t<0&&(t=-t>i?0:i+t),n=n===N||n>i?i:+n||0,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=zo(i);++r<i;)o[r]=e[r+t];return o}function $t(e,t){var n;return Ra(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Zt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Qt(e,t,n){var r=zn(),i=-1;t=ut(t,function(e){return r(e)});var o=jt(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Zt(o,function(e,t){return h(e,t,n)})}function Kt(e,t){var n=0;return Ra(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Jt(e,t){var n=-1,r=Yn(),i=e.length,a=r==o,s=a&&i>=q,u=s?gn():null,l=[];u?(r=Qe,a=!1):(s=!1,u=t?[]:l);e:for(;++n<i;){var c=e[n],h=t?t(c,n,e):c;if(a&&c===c){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),l.push(c)}else r(u,h,0)<0&&((t||s)&&u.push(h),l.push(c))}return l}function en(e,t){for(var n=-1,r=t.length,i=zo(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Wt(e,r?0:o,r?o+1:i):Wt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof Q&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,lt([n],o.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&i<=Aa){for(;r<i;){var o=r+i>>>1,a=e[o];(n?a<=t:a<t)&&null!==a?r=o+1:i=o}return i}return on(e,t,Co,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===N;i<o;){var l=ma((i+o)/2),c=n(e[l]),h=c!==N,d=c===c;if(a)var f=d||r;else f=s?d&&h&&(r||null!=c):u?d&&(r||h):null!=c&&(r?c<=t:c<t);f?i=l+1:o=l}return _a(o,La)}function an(e,t,n){if("function"!=typeof e)return Co;if(t===N)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new pa(t);return n.set(new pa(e)),t}function un(e,t,n){for(var r=n.length,i=-1,o=Ea(e.length-r,0),a=-1,s=t.length,u=zo(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function ln(e,t,n){for(var r=-1,i=n.length,o=-1,a=Ea(e.length-i,0),s=-1,u=t.length,l=zo(a+u);++o<a;)l[o]=e[o];for(var c=o;++s<u;)l[c+s]=t[s];for(;++r<i;)l[c+n[r]]=e[o++];return l}function cn(e,t){return function(n,r,i){var o=t?t():{};if(r=zn(r,i,3),Ss(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else Ra(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function hn(e){return yi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:N,a=i>2?n[2]:N,s=i>1?n[i-1]:N;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:N,i-=o?1:0),a&&Jn(n[0],n[1],a)&&(o=i<3?N:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function dn(e,t){return function(n,r){var i=n?Va(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,a=hr(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function fn(e){return function(t,n,r){for(var i=hr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==nt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=yn(e);return n}function gn(e){return ya&&ha?new Ze(e):null}function vn(e){return function(t){for(var n=-1,r=No(co(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function yn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Oa(e.prototype),r=e.apply(n,t);return Pi(r)?r:n}}function mn(e){function t(n,r,i){i&&Jn(n,r,i)&&(r=N);var o=Fn(n,e,N,N,N,N,N,r);return o.placeholder=t.placeholder,o}return t}function xn(e,t){return yi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(N,n))})}function bn(e,t){return function(n,r,i){if(i&&Jn(n,r,i)&&(r=N),r=zn(r,i,3),1==r.length){n=Ss(n)?n:cr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return Nt(n,r,e,t)}}function wn(e,t){return function(n,r,o){if(r=zn(r,o,3),Ss(n)){var a=i(n,r,t);return a>-1?n[a]:N}return Ct(n,r,e)}}function En(e){return function(t,n,r){return t&&t.length?(n=zn(n,r,3),i(t,n,e)):-1}}function _n(e){return function(t,n,r){return n=zn(n,r,3),Ct(t,n,e,!0)}}function Tn(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=zo(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Zo(Y);!t&&m.prototype.thru&&"wrapper"==Vn(a)&&(t=new m([],(!0)))}for(r=t?-1:n;++r<n;){a=o[r];var s=Vn(a),u="wrapper"==s?za(a):N;t=u&&tr(u[0])&&u[1]==(P|L|I|O)&&!u[4].length&&1==u[9]?t[Vn(u[0])].apply(t,u[3]):1==a.length&&tr(a)?t[s]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ss(r)&&r.length>=q)return t.plant(r).value();for(var i=0,a=n?o[i].apply(this,e):r;++i<n;)a=o[i].call(this,a);return a}}}function Nn(e,t){return function(n,r,i){return"function"==typeof r&&i===N&&Ss(n)?e(n,r):t(n,an(r,i,3))}}function kn(e){return function(t,n,r){return"function"==typeof n&&r===N||(n=an(n,r,3)),e(t,n,eo)}}function Dn(e){return function(t,n,r){return"function"==typeof n&&r===N||(n=an(n,r,3)),e(t,n)}}function Cn(e){return function(t,n,r){var i={};return n=zn(n,r,3),At(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Sn(e){return function(t,n,r){return t=s(t),(e?t:"")+Mn(t,n,r)+(e?"":t)}}function Ln(e){var t=yi(function(n,r){var i=x(r,t.placeholder);return Fn(n,e,N,r,i)});return t}function An(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===N&&Ss(n)?e(n,r,i,a):Ht(n,zn(r,o,4),i,a,t)}}function In(e,t,n,r,i,o,a,s,u,l){function c(){for(var m=arguments.length,b=m,w=zo(m);b--;)w[b]=arguments[b];if(r&&(w=un(w,r,i)),o&&(w=ln(w,o,a)),p||v){var E=c.placeholder,_=x(w,E);if(m-=_.length,m<l){var T=s?et(s):N,k=Ea(l-m,0),S=p?_:N,L=p?N:_,A=p?w:N,P=p?N:w;t|=p?I:M,t&=~(p?M:I),g||(t&=~(D|C));var O=[e,t,n,A,S,P,L,T,u,k],R=In.apply(N,O);return tr(e)&&Ya(R,O),R.placeholder=E,R}}var F=d?n:this,j=f?F[e]:e;return s&&(w=ur(w,s)),h&&u<w.length&&(w.length=u),this&&this!==nt&&this instanceof c&&(j=y||yn(e)),j.apply(F,w)}var h=t&P,d=t&D,f=t&C,p=t&L,g=t&S,v=t&A,y=f?N:yn(e);return c}function Mn(e,t,n){var r=e.length;if(t=+t,r>=t||!ba(t))return"";var i=t-r;return n=null==n?" ":n+"",yo(n,va(i/n.length)).slice(0,i)}function Pn(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,l=r.length,c=zo(l+s);++u<l;)c[u]=r[u];for(;s--;)c[u++]=arguments[++t];var h=this&&this!==nt&&this instanceof i?a:e;return h.apply(o?n:this,c)}var o=t&D,a=yn(e);return i}function On(e){var t=Uo[e];return function(e,n){return n=n===N?0:+n||0,n?(n=la(10,n),t(e*n)/n):t(e)}}function Rn(e){return function(t,n,r,i){var o=zn(r);return null==r&&o===bt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function Fn(e,t,n,r,i,o,a,s){var u=t&C;if(!u&&"function"!=typeof e)throw new Zo(Y);var l=r?r.length:0;if(l||(t&=~(I|M),r=i=N),l-=i?i.length:0,t&M){var c=r,h=i;r=i=N}var d=u?N:za(e),f=[e,t,n,r,i,c,h,o,a,s];if(d&&(ir(f,d),t=f[1],s=f[9]),f[9]=null==s?u?0:e.length:Ea(s-l,0)||0,t==D)var p=pn(f[0],f[2]);else p=t!=I&&t!=(D|I)||f[4].length?In.apply(N,f):Pn.apply(N,f);var g=d?qa:Ya;return g(p,f)}function jn(e,t,n,r,i,o,a){var s=-1,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;for(;++s<u;){var c=e[s],h=t[s],d=r?r(i?h:c,i?c:h,s):N;if(d!==N){if(d)continue;return!1}if(i){if(!dt(t,function(e){return c===e||n(c,e,r,i,o,a)}))return!1}else if(c!==h&&!n(c,h,r,i,o,a))return!1}return!0}function Bn(e,t,n){switch(n){case H:case W:return+e==+t;case $:return e.name==t.name&&e.message==t.message;case K:return e!=+e?t!=+t:e==+t;case ee:case ne:return e==t+""}return!1}function qn(e,t,n,r,i,o,a){var s=qs(e),u=s.length,l=qs(t),c=l.length;if(u!=c&&!i)return!1;for(var h=u;h--;){var d=s[h];if(!(i?d in t:ta.call(t,d)))return!1}for(var f=i;++h<u;){d=s[h];var p=e[d],g=t[d],v=r?r(i?g:p,i?p:g,d):N;if(!(v===N?n(p,g,r,i,o,a):v))return!1;f||(f="constructor"==d)}if(!f){var y=e.constructor,m=t.constructor;if(y!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}function zn(e,n,r){var i=t.callback||ko;return i=i===ko?bt:i,r?i(e,n,r):i}function Vn(e){for(var t=e.name,n=Pa[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Yn(e,n,r){var i=t.indexOf||Tr;return i=i===Tr?o:i,e?i(e,n,r):i}function Xn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Un(e,t){var n=null==e?N:e[t];return Fi(n)?n:N}function Gn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=_a(t,e+a);break;case"takeRight":e=Ea(e,t-a)}}return{start:e,end:t}}function Hn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Wn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Ho),new t}function $n(e,t,n){var r=e.constructor;switch(t){case ie:return sn(e);case H:case W:return new r((+e));case oe:case ae:case se:case ue:case le:case ce:case he:case de:case fe:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case K:case ne:return new r(e);case ee:var o=new r(e.source,Ie.exec(e));o.lastIndex=e.lastIndex}return o}function Zn(e,t,n){null==e||er(t,e)||(t=dr(t),e=1==t.length?e:Pt(e,Wt(t,0,-1)),t=kr(t));var r=null==e?e:e[t];return null==r?N:r.apply(e,n)}function Qn(e){return null!=e&&nr(Va(e))}function Kn(e,t){return e="number"==typeof e||Oe.test(e)?+e:-1,t=null==t?Ia:t,e>-1&&e%1==0&&e<t}function Jn(e,t,n){if(!Pi(n))return!1;var r=typeof t;if("number"==r?Qn(n)&&Kn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&Ne.test(e)||"number"==n)return!0;if(Ss(e))return!1;var r=!Te.test(e);return r||null!=t&&e in hr(t)}function tr(e){var n=Vn(e);if(!(n in Q.prototype))return!1;var r=t[n];if(e===r)return!0;var i=za(r);return!!i&&e===i[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ia}function rr(e){return e===e&&!Pi(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=i<P,a=r==P&&n==L||r==P&&n==O&&e[7].length<=t[8]||r==(P|O)&&n==L;if(!o&&!a)return e;r&D&&(e[2]=t[2],i|=n&D?0:S);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):et(s),e[4]=u?x(e[3],X):et(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?ln(u,s,t[6]):et(s),e[6]=u?x(e[5],X):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&P&&(e[8]=null==e[8]?t[8]:_a(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===N?t:Ls(e,t,or)}function ar(e,t){e=hr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function sr(e,t){var n={};return Lt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=_a(t.length,n),i=et(e);r--;){var o=t[r];e[r]=Kn(o,n)?i[o]:N}return e}function lr(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ss(e)||Ni(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Kn(s,r)||ta.call(e,s))&&a.push(s)}return a}function cr(e){return null==e?[]:Qn(e)?Pi(e)?e:Ho(e):oo(e)}function hr(e){return Pi(e)?e:Ho(e)}function dr(e){if(Ss(e))return e;var t=[];return s(e).replace(ke,function(e,n,r,i){t.push(r?i.replace(Le,"$1"):n||e)}),t}function fr(e){return e instanceof Q?e.clone():new m(e.__wrapped__,e.__chain__,et(e.__actions__))}function pr(e,t,n){t=(n?Jn(e,t,n):null==t)?1:Ea(ma(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=zo(va(i/t));r<i;)a[++o]=Wt(e,r,r+=t);return a}function gr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function vr(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),Wt(e,t<0?0:t)):[]}function yr(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Wt(e,0,t<0?0:t)):[]}function mr(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!0,!0):[]}function xr(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!0):[]}function br(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Jn(e,t,n)&&(n=0,r=i),kt(e,t,n,r)):[]}function wr(e){return e?e[0]:N}function Er(e,t,n){var r=e?e.length:0;return n&&Jn(e,t,n)&&(t=!1),r?St(e,t):[]}function _r(e){var t=e?e.length:0;return t?St(e,!0):[]}function Tr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Ea(r+n,0):n;else if(n){var i=rn(e,t);return i<r&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return o(e,t,n||0)}function Nr(e){return yr(e,1)}function kr(e){var t=e?e.length:0;return t?e[t-1]:N}function Dr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Ea(r+n,0):_a(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return v(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Cr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Yn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)fa.call(t,o,1);return t}function Sr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=zn(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Ut(e,o),r}function Lr(e){return vr(e,1)}function Ar(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Jn(e,t,n)&&(t=0,n=r),Wt(e,t,n)):[]}function Ir(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),Wt(e,0,t<0?0:t)):[]}function Mr(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Wt(e,t<0?0:t)):[]}function Pr(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!1,!0):[]}function Or(e,t,n){return e&&e.length?tn(e,zn(t,n,3)):[]}function Rr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Jn(e,t,r)?N:t,t=!1);var a=zn();return null==n&&a===bt||(n=a(n,r,3)),t&&Yn()==o?b(e,n):Jt(e,n)}function Fr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){if(Qn(e))return n=Ea(e.length,n),!0});for(var r=zo(n);++t<n;)r[t]=ut(e,Yt(t));return r}function jr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Fr(e);return null==t?i:(t=an(t,n,4),ut(i,function(e){return ct(e,t,N,!0)}))}function Br(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Qn(n))var r=r?lt(_t(r,n),_t(n,r)):n}return r?Jt(r):[]}function qr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ss(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function zr(e){var n=t(e);return n.__chain__=!0,n}function Vr(e,t,n){return t.call(n,e),e}function Yr(e,t,n){return t.call(n,e)}function Xr(){return zr(this)}function Ur(){return new m(this.value(),this.__chain__)}function Gr(e){for(var t,r=this;r instanceof n;){var i=fr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Hr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof Q){var n=e;return this.__actions__.length&&(n=new Q(this)),n=n.reverse(),n.__actions__.push({func:Yr,args:[t],thisArg:N}),new m(n,this.__chain__)}return this.thru(t)}function Wr(){return this.value()+""}function $r(){return nn(this.__wrapped__,this.__actions__)}function Zr(e,t,n){var r=Ss(e)?ot:Tt;return n&&Jn(e,t,n)&&(t=N),"function"==typeof t&&n===N||(t=zn(t,n,3)),r(e,t)}function Qr(e,t,n){var r=Ss(e)?st:Dt;return t=zn(t,n,3),r(e,t)}function Kr(e,t){return is(e,Bt(t))}function Jr(e,t,n,r){var i=e?Va(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&Jn(t,n,r)?0:n<0?Ea(i+n,0):n||0,"string"==typeof e||!Ss(e)&&Vi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Yn(e,t,n)>-1}function ei(e,t,n){var r=Ss(e)?ut:jt;return t=zn(t,n,3),r(e,t)}function ti(e,t){return ei(e,Po(t))}function ni(e,t,n){var r=Ss(e)?st:Dt;return t=zn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Jn(e,t,n):null==t){e=cr(e);var r=e.length;return r>0?e[Gt(0,r-1)]:N}var i=-1,o=Hi(e),r=o.length,a=r-1;for(t=_a(t<0?0:+t||0,r);++i<t;){var s=Gt(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function ii(e){return ri(e,Ca)}function oi(e){var t=e?Va(e):0;return nr(t)?t:qs(e).length}function ai(e,t,n){var r=Ss(e)?dt:$t;return n&&Jn(e,t,n)&&(t=N),"function"==typeof t&&n===N||(t=zn(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Jn(e,t,n)&&(t=N);var r=-1;t=zn(t,n,3);var i=jt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Zt(i,c)}function ui(e,t,n,r){return null==e?[]:(r&&Jn(t,n,r)&&(n=N),Ss(t)||(t=null==t?[]:[t]),Ss(n)||(n=null==n?[]:[n]),Qt(e,t,n))}function li(e,t){return Qr(e,Bt(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Zo(Y);var n=e;e=t,t=n}return e=ba(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}}function hi(e,t,n){return n&&Jn(e,t,n)&&(t=N),t=e&&null==t?e.length:Ea(+t||0,0),Fn(e,P,N,N,N,N,t)}function di(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Zo(Y);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=N),n}}function fi(e,t,n){function r(){f&&sa(f),l&&sa(l),g=0,l=f=p=N}function i(t,n){n&&sa(n),l=f=p=N,t&&(g=gs(),c=e.apply(d,u),f||l||(u=d=N))}function o(){var e=t-(gs()-h);e<=0||e>t?i(p,l):f=da(o,e)}function a(){i(y,f)}function s(){if(u=arguments,h=gs(),d=this,p=y&&(f||!m),v===!1)var n=m&&!f;else{l||m||(g=h);var r=v-(h-g),i=r<=0||r>v;i?(l&&(l=sa(l)),g=h,c=e.apply(d,u)):l||(l=da(a,r))}return i&&f?f=sa(f):f||t===v||(f=da(o,t)),n&&(i=!0,c=e.apply(d,u)),!i||f||l||(u=d=N),c}var u,l,c,h,d,f,p,g=0,v=!1,y=!0;if("function"!=typeof e)throw new Zo(Y);if(t=t<0?0:+t||0,n===!0){var m=!0;y=!1}else Pi(n)&&(m=!!n.leading,v="maxWait"in n&&Ea(+n.maxWait||0,t),y="trailing"in n?!!n.trailing:y);return s.cancel=r,s}function pi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Zo(Y);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new pi.Cache,n}function gi(e){if("function"!=typeof e)throw new Zo(Y);return function(){return!e.apply(this,arguments)}}function vi(e){return di(2,e)}function yi(e,t){if("function"!=typeof e)throw new Zo(Y);return t=Ea(t===N?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=Ea(n.length-t,0),o=zo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=zo(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function mi(e){if("function"!=typeof e)throw new Zo(Y);return function(t){return e.apply(this,t)}}function xi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Zo(Y);return n===!1?r=!1:Pi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fi(e,t,{leading:r,maxWait:+t,trailing:i})}function bi(e,t){return t=null==t?Co:t,Fn(t,I,N,[e],[])}function wi(e,t,n,r){return t&&"boolean"!=typeof t&&Jn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,an(n,r,1)):wt(e,t)}function Ei(e,t,n){return"function"==typeof t?wt(e,!0,an(t,n,1)):wt(e,!0)}function _i(e,t){return e>t}function Ti(e,t){return e>=t}function Ni(e){return y(e)&&Qn(e)&&ta.call(e,"callee")&&!ca.call(e,"callee")}function ki(e){return e===!0||e===!1||y(e)&&ra.call(e)==H}function Di(e){return y(e)&&ra.call(e)==W}function Ci(e){return!!e&&1===e.nodeType&&y(e)&&!qi(e)}function Si(e){return null==e||(Qn(e)&&(Ss(e)||Vi(e)||Ni(e)||y(e)&&Mi(e.splice))?!e.length:!qs(e).length)}function Li(e,t,n,r){n="function"==typeof n?an(n,r,3):N;var i=n?n(e,t):N;return i===N?Ot(e,t,n):!!i}function Ai(e){return y(e)&&"string"==typeof e.message&&ra.call(e)==$}function Ii(e){return"number"==typeof e&&ba(e)}function Mi(e){return Pi(e)&&ra.call(e)==Z}function Pi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Oi(e,t,n,r){return n="function"==typeof n?an(n,r,3):N,Ft(e,Xn(t),n)}function Ri(e){return Bi(e)&&e!=+e}function Fi(e){return null!=e&&(Mi(e)?oa.test(ea.call(e)):y(e)&&Pe.test(e))}function ji(e){return null===e}function Bi(e){return"number"==typeof e||y(e)&&ra.call(e)==K}function qi(e){var t;if(!y(e)||ra.call(e)!=J||Ni(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Lt(e,function(e,t){n=t}),n===N||ta.call(e,n)}function zi(e){return Pi(e)&&ra.call(e)==ee}function Vi(e){return"string"==typeof e||y(e)&&ra.call(e)==ne}function Yi(e){return y(e)&&nr(e.length)&&!!Ve[ra.call(e)]}function Xi(e){return e===N}function Ui(e,t){return e<t}function Gi(e,t){return e<=t}function Hi(e){var t=e?Va(e):0;return nr(t)?t?et(e):[]:oo(e)}function Wi(e){return xt(e,eo(e))}function $i(e,t,n){var r=Oa(e);return n&&Jn(e,t,n)&&(t=N),t?yt(r,t):r}function Zi(e){return Mt(e,eo(e))}function Qi(e,t,n){var r=null==e?N:Pt(e,dr(t),t+"");return r===N?n:r}function Ki(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=dr(t),e=1==t.length?e:Pt(e,Wt(t,0,-1)),null==e)return!1;t=kr(t),n=ta.call(e,t)}return n||nr(e.length)&&Kn(t,e.length)&&(Ss(e)||Ni(e))}function Ji(e,t,n){n&&Jn(e,t,n)&&(t=N);for(var r=-1,i=qs(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?ta.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function eo(e){if(null==e)return[];Pi(e)||(e=Ho(e));var t=e.length;t=t&&nr(t)&&(Ss(e)||Ni(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=zo(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Kn(s,t)||"constructor"==s&&(i||!ta.call(e,s))||o.push(s);return o}function to(e){e=hr(e);for(var t=-1,n=qs(e),r=n.length,i=zo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?N:e[t];return r===N&&(null==e||er(t,e)||(t=dr(t),e=1==t.length?e:Pt(e,Wt(t,0,-1)),r=null==e?N:e[kr(t)]),r=r===N?n:r),Mi(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:dr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Pi(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Kn(t[i+1])?[]:{})),s=s[u]}return e}function io(e,t,n,r){var i=Ss(e)||Yi(e);if(t=zn(t,r,4),null==n)if(i||Pi(e)){var o=e.constructor;n=i?Ss(e)?new o:[]:Oa(Mi(o)?o.prototype:N)}else n={};return(i?tt:At)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,qs(e))}function ao(e){return en(e,eo(e))}function so(e,t,n){return t=+t||0,n===N?(n=t,t=0):n=+n||0,e>=_a(t,n)&&e<Ea(t,n)}function uo(e,t,n){n&&Jn(e,t,n)&&(t=n=N);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=ka();return _a(e+o*(t-e+ua("1e-"+((o+"").length-1))),t)}return Gt(e,t)}function lo(e){return e=s(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function co(e){return e=s(e),e&&e.replace(Re,d).replace(Se,"")}function ho(e,t,n){e=s(e),t+="";var r=e.length;return n=n===N?r:_a(n<0?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fo(e){return e=s(e),e&&be.test(e)?e.replace(me,f):e}function po(e){return e=s(e),e&&Ce.test(e)?e.replace(De,p):e||"(?:)"}function go(e,t,n){e=s(e),t=+t;var r=e.length;if(r>=t||!ba(t))return e;var i=(t-r)/2,o=ma(i),a=va(i);return n=Mn("",a,n),n.slice(0,o)+e+n}function vo(e,t,n){return(n?Jn(e,t,n):null==t)?t=0:t&&(t=+t),e=bo(e),Na(e,t||(Me.test(e)?16:10))}function yo(e,t){var n="";if(e=s(e),t=+t,t<1||!e||!ba(t))return n;do t%2&&(n+=e),t=ma(t/2),e+=e;while(t);return n}function mo(e,t,n){return e=s(e),n=null==n?0:_a(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function xo(e,n,r){var i=t.templateSettings;r&&Jn(e,n,r)&&(n=r=N),e=s(e),n=vt(yt({},r||n),i,gt);var o,a,u=vt(yt({},n.imports),i.imports,gt),l=qs(u),c=en(u,l),h=0,d=n.interpolate||Fe,f="__p += '",p=Wo((n.escape||Fe).source+"|"+d.source+"|"+(d===_e?Ae:Fe).source+"|"+(n.evaluate||Fe).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++ze+"]")+"\n";e.replace(p,function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(h,u).replace(je,g),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+t.length,t}),f+="';\n";var y=n.variable;y||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(pe,""):f).replace(ge,"$1").replace(ve,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Qs(function(){return Xo(l,v+"return "+f).apply(N,c)});if(m.source=f,Ai(m))throw m;return m}function bo(e,t,n){var r=e;return(e=s(e))?(n?Jn(r,t,n):null==t)?e.slice(w(e),E(e)+1):(t+="",e.slice(u(e,t),l(e,t)+1)):e}function wo(e,t,n){var r=e;return e=s(e),e?(n?Jn(r,t,n):null==t)?e.slice(w(e)):e.slice(u(e,t+"")):e}function Eo(e,t,n){var r=e;return e=s(e),e?(n?Jn(r,t,n):null==t)?e.slice(0,E(e)+1):e.slice(0,l(e,t+"")+1):e}function _o(e,t,n){n&&Jn(e,t,n)&&(t=N);var r=R,i=F;if(null!=t)if(Pi(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?s(t.omission):i}else r=+t||0;if(e=s(e),r>=e.length)return e;var a=r-i.length;if(a<1)return i;var u=e.slice(0,a);if(null==o)return u+i;if(zi(o)){if(e.slice(a).search(o)){var l,c,h=e.slice(0,a);for(o.global||(o=Wo(o.source,(Ie.exec(o)||"")+"g")),o.lastIndex=0;l=o.exec(h);)c=l.index;u=u.slice(0,null==c?a:c)}}else if(e.indexOf(o,a)!=a){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+i}function To(e){return e=s(e),e&&xe.test(e)?e.replace(ye,_):e}function No(e,t,n){return n&&Jn(e,t,n)&&(t=N),e=s(e),e.match(t||Be)||[]}function ko(e,t,n){return n&&Jn(e,t,n)&&(t=N),y(e)?So(e):bt(e,t)}function Do(e){return function(){return e}}function Co(e){return e}function So(e){return Bt(wt(e,!0))}function Lo(e,t){return qt(e,wt(t,!0))}function Ao(e,t,n){if(null==n){var r=Pi(t),i=r?qs(t):N,o=i&&i.length?Mt(t,i):N;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Mt(t,qs(t)));var a=!0,s=-1,u=Mi(e),l=o.length;n===!1?a=!1:Pi(n)&&"chain"in n&&(a=n.chain);for(;++s<l;){var c=o[s],h=t[c];e[c]=h,u&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,lt([this.value()],arguments))}}(h))}return e}function Io(){return nt._=ia,this}function Mo(){}function Po(e){return er(e)?Yt(e):Xt(e)}function Oo(e){return function(t){return Pt(e,dr(t),t+"")}}function Ro(e,t,n){n&&Jn(e,t,n)&&(t=n=N),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=Ea(va((t-e)/(n||1)),0),o=zo(i);++r<i;)o[r]=e,e+=n;return o}function Fo(e,t,n){if(e=ma(e),e<1||!ba(e))return[];var r=-1,i=zo(_a(e,Sa));for(t=an(t,n,1);++r<e;)r<Sa?i[r]=t(r):t(r);return i}function jo(e){var t=++na;return s(e)+t}function Bo(e,t){return(+e||0)+(+t||0)}function qo(e,t,n){return n&&Jn(e,t,n)&&(t=N),t=zn(t,n,3),1==t.length?ft(Ss(e)?e:cr(e),t):Kt(e,t);
}e=e?rt.defaults(nt.Object(),e,rt.pick(nt,qe)):nt;var zo=e.Array,Vo=e.Date,Yo=e.Error,Xo=e.Function,Uo=e.Math,Go=e.Number,Ho=e.Object,Wo=e.RegExp,$o=e.String,Zo=e.TypeError,Qo=zo.prototype,Ko=Ho.prototype,Jo=$o.prototype,ea=Xo.prototype.toString,ta=Ko.hasOwnProperty,na=0,ra=Ko.toString,ia=nt._,oa=Wo("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,ua=e.parseFloat,la=Uo.pow,ca=Ko.propertyIsEnumerable,ha=Un(e,"Set"),da=e.setTimeout,fa=Qo.splice,pa=e.Uint8Array,ga=Un(e,"WeakMap"),va=Uo.ceil,ya=Un(Ho,"create"),ma=Uo.floor,xa=Un(zo,"isArray"),ba=e.isFinite,wa=Un(Ho,"keys"),Ea=Uo.max,_a=Uo.min,Ta=Un(Vo,"now"),Na=e.parseInt,ka=Uo.random,Da=Go.NEGATIVE_INFINITY,Ca=Go.POSITIVE_INFINITY,Sa=4294967295,La=Sa-1,Aa=Sa>>>1,Ia=9007199254740991,Ma=ga&&new ga,Pa={};t.support={};t.templateSettings={escape:we,evaluate:Ee,interpolate:_e,variable:"",imports:{_:t}};var Oa=function(){function e(){}return function(t){if(Pi(t)){e.prototype=t;var n=new e;e.prototype=N}return n||{}}}(),Ra=dn(At),Fa=dn(It,!0),ja=fn(),Ba=fn(!0),qa=Ma?function(e,t){return Ma.set(e,t),e}:Co,za=Ma?function(e){return Ma.get(e)}:Mo,Va=Yt("length"),Ya=function(){var e=0,t=0;return function(n,r){var i=gs(),o=B-(i-t);if(t=i,o>0){if(++e>=j)return n}else e=0;return qa(n,r)}}(),Xa=yi(function(e,t){return y(e)&&Qn(e)?_t(e,St(t,!1,!0)):[]}),Ua=En(),Ga=En(!0),Ha=yi(function(e){for(var t=e.length,n=t,r=zo(h),i=Yn(),a=i==o,s=[];n--;){var u=e[n]=Qn(u=e[n])?u:[];r[n]=a&&u.length>=120?gn(n&&u):null}var l=e[0],c=-1,h=l?l.length:0,d=r[0];e:for(;++c<h;)if(u=l[c],(d?Qe(d,u):i(s,u,0))<0){for(var n=t;--n;){var f=r[n];if((f?Qe(f,u):i(e[n],u,0))<0)continue e}d&&d.push(u),s.push(u)}return s}),Wa=yi(function(e,t){t=St(t);var n=mt(e,t);return Ut(e,t.sort(r)),n}),$a=Rn(),Za=Rn(!0),Qa=yi(function(e){return Jt(St(e,!1,!0))}),Ka=yi(function(e,t){return Qn(e)?_t(e,t):[]}),Ja=yi(Fr),es=yi(function(e){var t=e.length,n=t>2?e[t-2]:N,r=t>1?e[t-1]:N;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):N,r=N),e.length=t,jr(e,n,r)}),ts=yi(function(e){return e=St(e),this.thru(function(t){return Je(Ss(t)?t:[hr(t)],e)})}),ns=yi(function(e,t){return mt(e,St(t))}),rs=cn(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),is=wn(Ra),os=wn(Fa,!0),as=Nn(tt,Ra),ss=Nn(it,Fa),us=cn(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),ls=cn(function(e,t,n){e[n]=t}),cs=yi(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),a=Qn(e)?zo(e.length):[];return Ra(e,function(e){var s=i?t:o&&null!=e?e[t]:N;a[++r]=s?s.apply(e,n):Zn(e,t,n)}),a}),hs=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ds=An(ct,Ra),fs=An(ht,Fa),ps=yi(function(e,t){if(null==e)return[];var n=t[2];return n&&Jn(t[0],t[1],n)&&(t.length=1),Qt(e,St(t),[])}),gs=Ta||function(){return(new Vo).getTime()},vs=yi(function(e,t,n){var r=D;if(n.length){var i=x(n,vs.placeholder);r|=I}return Fn(e,r,t,n,i)}),ys=yi(function(e,t){t=t.length?St(t):Zi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Fn(e[i],D,e)}return e}),ms=yi(function(e,t,n){var r=D|C;if(n.length){var i=x(n,ms.placeholder);r|=I}return Fn(t,r,e,n,i)}),xs=mn(L),bs=mn(A),ws=yi(function(e,t){return Et(e,1,t)}),Es=yi(function(e,t,n){return Et(e,t,n)}),_s=Tn(),Ts=Tn(!0),Ns=yi(function(e,t){if(t=St(t),"function"!=typeof e||!ot(t,a))throw new Zo(Y);var n=t.length;return yi(function(r){for(var i=_a(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),ks=Ln(I),Ds=Ln(M),Cs=yi(function(e,t){return Fn(e,O,N,N,N,St(t))}),Ss=xa||function(e){return y(e)&&nr(e.length)&&ra.call(e)==G},Ls=hn(zt),As=hn(function(e,t,n){return n?vt(e,t,n):yt(e,t)}),Is=xn(As,pt),Ms=xn(Ls,or),Ps=_n(At),Os=_n(It),Rs=kn(ja),Fs=kn(Ba),js=Dn(At),Bs=Dn(It),qs=wa?function(e){var t=null==e?N:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Qn(e)?lr(e):Pi(e)?wa(e):[]}:lr,zs=Cn(!0),Vs=Cn(),Ys=yi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(St(t),$o);return ar(e,_t(eo(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Xs=yi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,St(t))}),Us=vn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Gs=vn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Hs=Sn(),Ws=Sn(!0),$s=vn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zs=vn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Qs=yi(function(e,t){try{return e.apply(N,t)}catch(n){return Ai(n)?n:new Yo(n)}}),Ks=yi(function(e,t){return function(n){return Zn(n,e,t)}}),Js=yi(function(e,t){return function(n){return Zn(e,n,t)}}),eu=On("ceil"),tu=On("floor"),nu=bn(_i,Da),ru=bn(Ui,Ca),iu=On("round");return t.prototype=n.prototype,m.prototype=Oa(n.prototype),m.prototype.constructor=m,Q.prototype=Oa(n.prototype),Q.prototype.constructor=Q,Ue.prototype["delete"]=Ge,Ue.prototype.get=He,Ue.prototype.has=We,Ue.prototype.set=$e,Ze.prototype.push=Ke,pi.Cache=Ue,t.after=ci,t.ary=hi,t.assign=As,t.at=ns,t.before=di,t.bind=vs,t.bindAll=ys,t.bindKey=ms,t.callback=ko,t.chain=zr,t.chunk=pr,t.compact=gr,t.constant=Do,t.countBy=rs,t.create=$i,t.curry=xs,t.curryRight=bs,t.debounce=fi,t.defaults=Is,t.defaultsDeep=Ms,t.defer=ws,t.delay=Es,t.difference=Xa,t.drop=vr,t.dropRight=yr,t.dropRightWhile=mr,t.dropWhile=xr,t.fill=br,t.filter=Qr,t.flatten=Er,t.flattenDeep=_r,t.flow=_s,t.flowRight=Ts,t.forEach=as,t.forEachRight=ss,t.forIn=Rs,t.forInRight=Fs,t.forOwn=js,t.forOwnRight=Bs,t.functions=Zi,t.groupBy=us,t.indexBy=ls,t.initial=Nr,t.intersection=Ha,t.invert=Ji,t.invoke=cs,t.keys=qs,t.keysIn=eo,t.map=ei,t.mapKeys=zs,t.mapValues=Vs,t.matches=So,t.matchesProperty=Lo,t.memoize=pi,t.merge=Ls,t.method=Ks,t.methodOf=Js,t.mixin=Ao,t.modArgs=Ns,t.negate=gi,t.omit=Ys,t.once=vi,t.pairs=to,t.partial=ks,t.partialRight=Ds,t.partition=hs,t.pick=Xs,t.pluck=ti,t.property=Po,t.propertyOf=Oo,t.pull=Cr,t.pullAt=Wa,t.range=Ro,t.rearg=Cs,t.reject=ni,t.remove=Sr,t.rest=Lr,t.restParam=yi,t.set=ro,t.shuffle=ii,t.slice=Ar,t.sortBy=si,t.sortByAll=ps,t.sortByOrder=ui,t.spread=mi,t.take=Ir,t.takeRight=Mr,t.takeRightWhile=Pr,t.takeWhile=Or,t.tap=Vr,t.throttle=xi,t.thru=Yr,t.times=Fo,t.toArray=Hi,t.toPlainObject=Wi,t.transform=io,t.union=Qa,t.uniq=Rr,t.unzip=Fr,t.unzipWith=jr,t.values=oo,t.valuesIn=ao,t.where=li,t.without=Ka,t.wrap=bi,t.xor=Br,t.zip=Ja,t.zipObject=qr,t.zipWith=es,t.backflow=Ts,t.collect=ei,t.compose=Ts,t.each=as,t.eachRight=ss,t.extend=As,t.iteratee=ko,t.methods=Zi,t.object=qr,t.select=Qr,t.tail=Lr,t.unique=Rr,Ao(t,t),t.add=Bo,t.attempt=Qs,t.camelCase=Us,t.capitalize=lo,t.ceil=eu,t.clone=wi,t.cloneDeep=Ei,t.deburr=co,t.endsWith=ho,t.escape=fo,t.escapeRegExp=po,t.every=Zr,t.find=is,t.findIndex=Ua,t.findKey=Ps,t.findLast=os,t.findLastIndex=Ga,t.findLastKey=Os,t.findWhere=Kr,t.first=wr,t.floor=tu,t.get=Qi,t.gt=_i,t.gte=Ti,t.has=Ki,t.identity=Co,t.includes=Jr,t.indexOf=Tr,t.inRange=so,t.isArguments=Ni,t.isArray=Ss,t.isBoolean=ki,t.isDate=Di,t.isElement=Ci,t.isEmpty=Si,t.isEqual=Li,t.isError=Ai,t.isFinite=Ii,t.isFunction=Mi,t.isMatch=Oi,t.isNaN=Ri,t.isNative=Fi,t.isNull=ji,t.isNumber=Bi,t.isObject=Pi,t.isPlainObject=qi,t.isRegExp=zi,t.isString=Vi,t.isTypedArray=Yi,t.isUndefined=Xi,t.kebabCase=Gs,t.last=kr,t.lastIndexOf=Dr,t.lt=Ui,t.lte=Gi,t.max=nu,t.min=ru,t.noConflict=Io,t.noop=Mo,t.now=gs,t.pad=go,t.padLeft=Hs,t.padRight=Ws,t.parseInt=vo,t.random=uo,t.reduce=ds,t.reduceRight=fs,t.repeat=yo,t.result=no,t.round=iu,t.runInContext=T,t.size=oi,t.snakeCase=$s,t.some=ai,t.sortedIndex=$a,t.sortedLastIndex=Za,t.startCase=Zs,t.startsWith=mo,t.sum=qo,t.template=xo,t.trim=bo,t.trimLeft=wo,t.trimRight=Eo,t.trunc=_o,t.unescape=To,t.uniqueId=jo,t.words=No,t.all=Zr,t.any=ai,t.contains=Jr,t.eq=Li,t.detect=is,t.foldl=ds,t.foldr=fs,t.head=wr,t.include=Jr,t.inject=ds,Ao(t,function(){var e={};return At(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ri,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},t.VERSION=k,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){Q.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Q(this);n=null==n?1:Ea(ma(n)||0,0);var i=this.clone();return r?i.__takeCount__=_a(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},Q.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=V;Q.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:zn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");Q.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Q.prototype[e]=function(){return this.__filtered__?new Q(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Bt:Po;Q.prototype[e]=function(e){return this[n](r(e))}}),Q.prototype.compact=function(){return this.filter(Co)},Q.prototype.reject=function(e,t){return e=zn(e,t,1),this.filter(function(t){return!e(t)})},Q.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new Q(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==N&&(t=+t||0,n=t<0?n.dropRight(-t):n.take(t-e)),n)},Q.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Q.prototype.toArray=function(){return this.take(Ca)},At(Q.prototype,function(e,n){var r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n),o=t[i?"take"+("last"==n?"Right":""):n];o&&(t.prototype[n]=function(){var t=i?[1]:arguments,n=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof Q,l=t[0],c=u||Ss(a);c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=function(e){return i&&n?o(e,1)[0]:o.apply(N,lt([e],t))},d={func:Yr,args:[h],thisArg:N},f=u&&!s;if(i&&!n)return f?(a=a.clone(),a.__actions__.push(d),e.call(a)):o.call(N,this.value())[0];if(!i&&c){a=f?a:new Q(this);var p=e.apply(a,t);return p.__actions__.push(d),new m(p,n)}return this.thru(h)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Jo:Qo)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),At(Q.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=Pa[i]||(Pa[i]=[]);o.push({name:n,func:r})}}),Pa[In(N,C).name]=[{name:"wrapper",func:N}],Q.prototype.clone=te,Q.prototype.reverse=re,Q.prototype.value=Xe,t.prototype.chain=Xr,t.prototype.commit=Ur,t.prototype.concat=ts,t.prototype.plant=Gr,t.prototype.reverse=Hr,t.prototype.toString=Wr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=$r,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var N,k="3.10.1",D=1,C=2,S=4,L=8,A=16,I=32,M=64,P=128,O=256,R=30,F="...",j=150,B=16,q=200,z=1,V=2,Y="Expected a function",X="__lodash_placeholder__",U="[object Arguments]",G="[object Array]",H="[object Boolean]",W="[object Date]",$="[object Error]",Z="[object Function]",Q="[object Map]",K="[object Number]",J="[object Object]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object WeakMap]",ie="[object ArrayBuffer]",oe="[object Float32Array]",ae="[object Float64Array]",se="[object Int8Array]",ue="[object Int16Array]",le="[object Int32Array]",ce="[object Uint8Array]",he="[object Uint8ClampedArray]",de="[object Uint16Array]",fe="[object Uint32Array]",pe=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39|#96);/g,me=/[&<>"'`]/g,xe=RegExp(ye.source),be=RegExp(me.source),we=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ne=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,De=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ce=RegExp(De.source),Se=/[\u0300-\u036f\ufe20-\ufe23]/g,Le=/\\(\\)?/g,Ae=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ie=/\w*$/,Me=/^0[xX]/,Pe=/^\[object .+?Constructor\]$/,Oe=/^\d+$/,Re=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Fe=/($^)/,je=/['\n\r\u2028\u2029\\]/g,Be=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),qe=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],ze=-1,Ve={};Ve[oe]=Ve[ae]=Ve[se]=Ve[ue]=Ve[le]=Ve[ce]=Ve[he]=Ve[de]=Ve[fe]=!0,Ve[U]=Ve[G]=Ve[ie]=Ve[H]=Ve[W]=Ve[$]=Ve[Z]=Ve[Q]=Ve[K]=Ve[J]=Ve[ee]=Ve[te]=Ve[ne]=Ve[re]=!1;var Ye={};Ye[U]=Ye[G]=Ye[ie]=Ye[H]=Ye[W]=Ye[oe]=Ye[ae]=Ye[se]=Ye[ue]=Ye[le]=Ye[K]=Ye[J]=Ye[ee]=Ye[ne]=Ye[ce]=Ye[he]=Ye[de]=Ye[fe]=!0,Ye[$]=Ye[Z]=Ye[Q]=Ye[te]=Ye[re]=!1;var Xe={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},He={"function":!0,object:!0},We={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},$e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=He[typeof n]&&n&&!n.nodeType&&n,Qe=He[typeof t]&&t&&!t.nodeType&&t,Ke=Ze&&Qe&&"object"==typeof e&&e&&e.Object&&e,Je=He[typeof self]&&self&&self.Object&&self,et=He[typeof window]&&window&&window.Object&&window,tt=Qe&&Qe.exports===Ze&&Ze,nt=Ke||et!==(this&&this.window)&&et||Je||this,rt=T();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=rt,define(function(){return rt})):Ze&&Qe?tt?(Qe.exports=rt)._=rt:Ze._=rt:nt._=rt}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],148:[function(e,t,n){var r=e("./lib");t.exports={Graph:r.Graph,json:e("./lib/json"),alg:e("./lib/alg"),version:r.version}},{"./lib":164,"./lib/alg":155,"./lib/json":165}],149:[function(e,t,n){function r(e){function t(o){i.has(r,o)||(r[o]=!0,n.push(o),i.each(e.successors(o),t),i.each(e.predecessors(o),t))}var n,r={},o=[];return i.each(e.nodes(),function(e){n=[],t(e),n.length&&o.push(n)}),o}var i=e("../lodash");t.exports=r},{"../lodash":166}],150:[function(e,t,n){function r(e,t,n){o.isArray(t)||(t=[t]);var r=[],a={};return o.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,a,r)}),r}function i(e,t,n,r,a){o.has(r,t)||(r[t]=!0,n||a.push(t),o.each(e.neighbors(t),function(t){i(e,t,n,r,a)}),n&&a.push(t))}var o=e("../lodash");t.exports=r},{"../lodash":166}],151:[function(e,t,n){function r(e,t,n){return o.transform(e.nodes(),function(r,o){r[o]=i(e,o,t,n)},{})}var i=e("./dijkstra"),o=e("../lodash");t.exports=r},{"../lodash":166,"./dijkstra":152}],152:[function(e,t,n){function r(e,t,n,r){return i(e,String(t),n||s,r||function(t){return e.outEdges(t)})}function i(e,t,n,r){var i,o,s={},u=new a,l=function(e){var t=e.v!==i?e.v:e.w,r=s[t],a=n(e),l=o.distance+a;if(a<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+a);l<r.distance&&(r.distance=l,r.predecessor=i,u.decrease(t,l))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)});u.size()>0&&(i=u.removeMin(),o=s[i],o.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return s}var o=e("../lodash"),a=e("../data/priority-queue");t.exports=r;var s=o.constant(1)},{"../data/priority-queue":162,"../lodash":166}],153:[function(e,t,n){function r(e){return i.filter(o(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}var i=e("../lodash"),o=e("./tarjan");t.exports=r},{"../lodash":166,"./tarjan":160}],154:[function(e,t,n){function r(e,t,n){return i(e,t||a,n||function(t){return e.outEdges(t)})}function i(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}var o=e("../lodash");t.exports=r;var a=o.constant(1)},{"../lodash":166}],155:[function(e,t,n){t.exports={components:e("./components"),dijkstra:e("./dijkstra"),dijkstraAll:e("./dijkstra-all"),findCycles:e("./find-cycles"),floydWarshall:e("./floyd-warshall"),isAcyclic:e("./is-acyclic"),postorder:e("./postorder"),preorder:e("./preorder"),prim:e("./prim"),tarjan:e("./tarjan"),topsort:e("./topsort")}},{"./components":149,"./dijkstra":152,"./dijkstra-all":151,"./find-cycles":153,"./floyd-warshall":154,"./is-acyclic":156,"./postorder":157,"./preorder":158,"./prim":159,"./tarjan":160,"./topsort":161}],156:[function(e,t,n){function r(e){try{i(e)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}var i=e("./topsort");t.exports=r},{"./topsort":161}],157:[function(e,t,n){function r(e,t){return i(e,t,"post")}var i=e("./dfs");t.exports=r},{"./dfs":150}],158:[function(e,t,n){function r(e,t){return i(e,t,"pre")}var i=e("./dfs");t.exports=r},{"./dfs":150}],159:[function(e,t,n){function r(e,t){function n(e){var n=e.v===r?e.w:e.v,i=l.priority(n);if(void 0!==i){var o=t(e);o<i&&(u[n]=r,l.decrease(n,o))}}var r,s=new o,u={},l=new a;if(0===e.nodeCount())return s;i.each(e.nodes(),function(e){l.add(e,Number.POSITIVE_INFINITY),s.setNode(e)}),l.decrease(e.nodes()[0],0);for(var c=!1;l.size()>0;){if(r=l.removeMin(),i.has(u,r))s.setEdge(r,u[r]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(r).forEach(n)}return s}var i=e("../lodash"),o=e("../graph"),a=e("../data/priority-queue");t.exports=r},{"../data/priority-queue":162,"../graph":163,"../lodash":166}],160:[function(e,t,n){function r(e){function t(s){var u=o[s]={onStack:!0,lowlink:n,index:n++};if(r.push(s),e.successors(s).forEach(function(e){i.has(o,e)?o[e].onStack&&(u.lowlink=Math.min(u.lowlink,o[e].index)):(t(e),u.lowlink=Math.min(u.lowlink,o[e].lowlink))}),u.lowlink===u.index){var l,c=[];do l=r.pop(),o[l].onStack=!1,c.push(l);while(s!==l);a.push(c)}}var n=0,r=[],o={},a=[];return e.nodes().forEach(function(e){i.has(o,e)||t(e)}),a}var i=e("../lodash");t.exports=r},{"../lodash":166}],161:[function(e,t,n){function r(e){function t(s){if(o.has(r,s))throw new i;o.has(n,s)||(r[s]=!0,n[s]=!0,o.each(e.predecessors(s),t),delete r[s],a.push(s))}var n={},r={},a=[];if(o.each(e.sinks(),t),o.size(n)!==e.nodeCount())throw new i;return a}function i(){}var o=e("../lodash");t.exports=r,r.CycleException=i},{"../lodash":166}],162:[function(e,t,n){function r(){this._arr=[],this._keyIndices={}}var i=e("../lodash");t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(e){return e.key})},r.prototype.has=function(e){return i.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!i.has(n,e)){var r=this._arr,o=r.length;return n[e]=o,r.push({key:e,priority:t}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},r.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&(t=e>>1,!(n[t].priority<r));)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},{"../lodash":166}],163:[function(e,t,n){"use strict";function r(e){this._isDirected=!l.has(e,"directed")||e.directed,this._isMultigraph=!!l.has(e,"multigraph")&&e.multigraph,this._isCompound=!!l.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=l.constant(void 0),this._defaultEdgeLabelFn=l.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[h]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(e,t){e[t]?e[t]++:e[t]=1}function o(e,t){--e[t]||delete e[t]}function a(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+d+o+d+(l.isUndefined(r)?c:r)}function s(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function u(e,t){return a(e,t.v,t.w,t.name)}var l=e("./lodash");t.exports=r;var c="\0",h="\0",d="";r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(e){return this._label=e,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultNodeLabelFn=e,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return l.keys(this._nodes)},r.prototype.sources=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._in[e])},this)},r.prototype.sinks=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._out[e])},this)},r.prototype.setNodes=function(e,t){var n=arguments;return l.each(e,function(e){n.length>1?this.setNode(e,t):this.setNode(e)},this),this},r.prototype.setNode=function(e,t){return l.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=h,this._children[e]={},this._children[h][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},r.prototype.node=function(e){return this._nodes[e]},r.prototype.hasNode=function(e){return l.has(this._nodes,e)},r.prototype.removeNode=function(e){var t=this;if(l.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l.each(this.children(e),function(e){this.setParent(e)},this),delete this._children[e]),l.each(l.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],l.each(l.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},r.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(l.isUndefined(t))t=h;else{t+="";for(var n=t;!l.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},r.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},r.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==h)return t}},r.prototype.children=function(e){if(l.isUndefined(e)&&(e=h),this._isCompound){var t=this._children[e];if(t)return l.keys(t)}else{if(e===h)return this.nodes();if(this.hasNode(e))return[]}},r.prototype.predecessors=function(e){var t=this._preds[e];if(t)return l.keys(t)},r.prototype.successors=function(e){var t=this._sucs[e];if(t)return l.keys(t)},r.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return l.union(t,this.successors(e))},r.prototype.filterNodes=function(e){function t(e){var o=r.parent(e);return void 0===o||n.hasNode(o)?(i[e]=o,o):o in i?i[o]:t(o)}var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph()),l.each(this._nodes,function(t,r){e(r)&&n.setNode(r,t)},this),l.each(this._edgeObjs,function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,this.edge(e))},this);var r=this,i={};return this._isCompound&&l.each(n.nodes(),function(e){n.setParent(e,t(e))}),n},r.prototype.setDefaultEdgeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultEdgeLabelFn=e,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return l.values(this._edgeObjs)},r.prototype.setPath=function(e,t){var n=this,r=arguments;return l.reduce(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this},r.prototype.setEdge=function(){var e,t,n,r,o=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(e=u.v,t=u.w,n=u.name,2===arguments.length&&(r=arguments[1],o=!0)):(e=u,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),e=""+e,t=""+t,l.isUndefined(n)||(n=""+n);var c=a(this._isDirected,e,t,n);if(l.has(this._edgeLabels,c))return o&&(this._edgeLabels[c]=r),this;if(!l.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=o?r:this._defaultEdgeLabelFn(e,t,n);var h=s(this._isDirected,e,t,n);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[c]=h,i(this._preds[t],e),i(this._sucs[e],t),this._in[t][c]=h,this._out[e][c]=h,this._edgeCount++,this},r.prototype.edge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,e,t,n);return this._edgeLabels[r]},r.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,e,t,n);return l.has(this._edgeLabels,r)},r.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[t],e),o(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},r.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=l.values(n);return t?l.filter(r,function(e){return e.v===t}):r}},r.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=l.values(n);return t?l.filter(r,function(e){return e.w===t}):r}},r.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},{"./lodash":166}],164:[function(e,t,n){t.exports={Graph:e("./graph"),version:e("./version")}},{"./graph":163,"./version":167}],165:[function(e,t,n){function r(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:o(e)};return s.isUndefined(e.graph())||(t.value=s.clone(e.graph())),t}function i(e){return s.map(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),i={v:t};return s.isUndefined(n)||(i.value=n),s.isUndefined(r)||(i.parent=r),i})}function o(e){return s.map(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return s.isUndefined(t.name)||(r.name=t.name),s.isUndefined(n)||(r.value=n),r})}function a(e){var t=new u(e.options).setGraph(e.value);return s.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),s.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}var s=e("./lodash"),u=e("./graph");t.exports={write:r,read:a}},{"./graph":163,"./lodash":166}],166:[function(e,t,n){t.exports=e(126)},{lodash:168}],167:[function(e,t,n){t.exports="1.0.7"},{}],168:[function(e,t,n){t.exports=e(147)},{}],169:[function(e,t,n){},{}],170:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],171:[function(e,t,n){!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||J;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=de.type(e);return"function"!==n&&!de.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(de.isFunction(t))return de.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return de.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ee.test(t))return de.filter(t,e,n);t=de.filter(t,e)}return de.grep(e,function(e){return ie.call(t,e)>-1!==n&&1===e.nodeType})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return de.each(e.match(Ce)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function l(e,t,n){var r;try{e&&de.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&de.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function c(){J.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),de.ready()}function h(){this.expando=de.expando+h.uid++}function d(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Re,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Oe.test(n)?JSON.parse(n):n)}catch(i){}Pe.set(e,t,n)}else n=void 0;return n}function f(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return de.css(e,t,"")},u=s(),l=n&&n[3]||(de.cssNumber[t]?"":"px"),c=(de.cssNumber[t]||"px"!==l&&+u)&&je.exec(de.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,de.style(e,t,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function p(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ve[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=de.css(t,"display"),
t.parentNode.removeChild(t),"none"===i&&(i="block"),Ve[r]=i,i)}function g(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Me.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&qe(r)&&(i[o]=p(r))):"none"!==n&&(i[o]="none",Me.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function v(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&de.nodeName(e,t)?de.merge([e],n):n}function y(e,t){for(var n=0,r=e.length;n<r;n++)Me.set(e[n],"globalEval",!t||Me.get(t[n],"globalEval"))}function m(e,t,n,r,i){for(var o,a,s,u,l,c,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if(o=e[f],o||0===o)if("object"===de.type(o))de.merge(d,o.nodeType?[o]:o);else if(He.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(Xe.exec(o)||["",""])[1].toLowerCase(),u=Ge[s]||Ge._default,a.innerHTML=u[1]+de.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;de.merge(d,a.childNodes),a=h.firstChild,a.textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(r&&de.inArray(o,r)>-1)i&&i.push(o);else if(l=de.contains(o.ownerDocument,o),a=v(h.appendChild(o),"script"),l&&y(a),n)for(c=0;o=a[c++];)Ue.test(o.type||"")&&n.push(o);return h}function x(){return!0}function b(){return!1}function w(){try{return J.activeElement}catch(e){}}function E(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)E(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=b;else if(!i)return e;return 1===o&&(a=i,i=function(e){return de().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=de.guid++)),e.each(function(){de.event.add(this,t,i,r,n)})}function _(e,t){return de.nodeName(e,"table")&&de.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function T(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function N(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Me.hasData(e)&&(o=Me.access(e),a=Me.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)de.event.add(t,i,l[i][n])}Pe.hasData(e)&&(s=Pe.access(e),u=de.extend({},s),Pe.set(t,u))}}function D(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function C(e,t,r,i){t=ne.apply([],t);var o,a,s,u,l,c,h=0,d=e.length,f=d-1,p=t[0],g=de.isFunction(p);if(g||d>1&&"string"==typeof p&&!ce.checkClone&&et.test(p))return e.each(function(n){var o=e.eq(n);g&&(t[0]=p.call(this,n,o.html())),C(o,t,r,i)});if(d&&(o=m(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=de.map(v(o,"script"),T),u=s.length;h<d;h++)l=o,h!==f&&(l=de.clone(l,!0,!0),u&&de.merge(s,v(l,"script"))),r.call(e[h],l,h);if(u)for(c=s[s.length-1].ownerDocument,de.map(s,N),h=0;h<u;h++)l=s[h],Ue.test(l.type||"")&&!Me.access(l,"globalEval")&&de.contains(c,l)&&(l.src?de._evalUrl&&de._evalUrl(l.src):n(l.textContent.replace(nt,""),c))}return e}function S(e,t,n){for(var r,i=t?de.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||de.cleanData(v(r)),r.parentNode&&(n&&de.contains(r.ownerDocument,r)&&y(v(r,"script")),r.parentNode.removeChild(r));return e}function L(e,t,n){var r,i,o,a,s=e.style;return n=n||ot(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||de.contains(e.ownerDocument,e)||(a=de.style(e,t)),!ce.pixelMarginRight()&&it.test(a)&&rt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){if(e in ct)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=lt.length;n--;)if(e=lt[n]+t,e in ct)return e}function M(e,t,n){var r=je.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function P(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=de.css(e,n+Be[o],!0,i)),r?("content"===n&&(a-=de.css(e,"padding"+Be[o],!0,i)),"margin"!==n&&(a-=de.css(e,"border"+Be[o]+"Width",!0,i))):(a+=de.css(e,"padding"+Be[o],!0,i),"padding"!==n&&(a+=de.css(e,"border"+Be[o]+"Width",!0,i)));return a}function O(e,t,n){var r,i=!0,o=ot(e),a="border-box"===de.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(r=L(e,t,o),(r<0||null==r)&&(r=e.style[t]),it.test(r))return r;i=a&&(ce.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+P(e,t,n||(a?"border":"content"),i,o)+"px"}function R(e,t,n,r,i){return new R.prototype.init(e,t,n,r,i)}function F(){dt&&(e.requestAnimationFrame(F),de.fx.tick())}function j(){return e.setTimeout(function(){ht=void 0}),ht=de.now()}function B(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Be[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function q(e,t,n){for(var r,i=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function z(e,t,n){var r,i,o,a,s,u,l,c,h="width"in t||"height"in t,d=this,f={},p=e.style,v=e.nodeType&&qe(e),y=Me.get(e,"fxshow");n.queue||(a=de._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,de.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;v=!0}f[r]=y&&y[r]||de.style(e,r)}if(u=!de.isEmptyObject(t),u||!de.isEmptyObject(f)){h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=y&&y.display,null==l&&(l=Me.get(e,"display")),c=de.css(e,"display"),"none"===c&&(l?c=l:(g([e],!0),l=e.style.display||l,c=de.css(e,"display"),g([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===de.css(e,"float")&&(u||(d.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(r in f)u||(y?"hidden"in y&&(v=y.hidden):y=Me.access(e,"fxshow",{display:l}),o&&(y.hidden=!v),v&&g([e],!0),d.done(function(){v||g([e]),Me.remove(e,"fxshow");for(r in f)de.style(e,r,f[r])})),u=q(v?y[r]:0,r,d),r in y||(y[r]=u.start,v&&(u.end=u.start,u.start=0))}}function V(e,t){var n,r,i,o,a;for(n in e)if(r=de.camelCase(n),i=t[r],o=e[n],de.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=de.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function Y(e,t,n){var r,i,o=0,a=Y.prefilters.length,s=de.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ht||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:de.extend({},t),opts:de.extend(!0,{specialEasing:{},easing:de.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=de.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(V(c,l.opts.specialEasing);o<a;o++)if(r=Y.prefilters[o].call(l,e,c,l.opts))return de.isFunction(r.stop)&&(de._queueHooks(l.elem,l.opts.queue).stop=de.proxy(r.stop,r)),r;return de.map(c,q,l),de.isFunction(l.opts.start)&&l.opts.start.call(e,l),de.fx.timer(de.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function X(e){return e.getAttribute&&e.getAttribute("class")||""}function U(e,t,n,r){var i;if(de.isArray(t))de.each(t,function(t,i){n||kt.test(e)?r(e,i):U(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==de.type(t))r(e,t);else for(i in t)U(e+"["+i+"]",t[i],n,r)}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Ce)||[];if(de.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function H(e,t,n,r){function i(s){var u;return o[s]=!0,de.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===jt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=de.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&de.extend(!0,e,r),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Q(e){return de.isWindow(e)?e:9===e.nodeType&&e.defaultView}var K=[],J=e.document,ee=Object.getPrototypeOf,te=K.slice,ne=K.concat,re=K.push,ie=K.indexOf,oe={},ae=oe.toString,se=oe.hasOwnProperty,ue=se.toString,le=ue.call(Object),ce={},he="3.1.0",de=function(e,t){return new de.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,ge=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};de.fn=de.prototype={jquery:he,constructor:de,length:0,toArray:function(){return te.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:te.call(this)},pushStack:function(e){var t=de.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return de.each(this,e)},map:function(e){return this.pushStack(de.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:K.sort,splice:K.splice},de.extend=de.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||de.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(de.isPlainObject(r)||(i=de.isArray(r)))?(i?(i=!1,o=n&&de.isArray(n)?n:[]):o=n&&de.isPlainObject(n)?n:{},a[t]=de.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},de.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===de.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=de.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ae.call(e))&&(!(t=ee(e))||(n=se.call(t,"constructor")&&t.constructor,"function"==typeof n&&ue.call(n)===le))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?oe[ae.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(pe,"ms-").replace(ge,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?de.merge(n,"string"==typeof e?[e]:e):re.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ie.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;a<i;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return ne.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),de.isFunction(e))return r=te.call(arguments,2),i=function(){return e.apply(t||this,r.concat(te.call(arguments)))},i.guid=e.guid=e.guid||de.guid++,i},now:Date.now,support:ce}),"function"==typeof Symbol&&(de.fn[Symbol.iterator]=K[Symbol.iterator]),de.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){oe["[object "+t+"]"]=t.toLowerCase()});var ye=function(e){function t(e,t,n,r){var i,o,a,s,u,l,c,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:z)!==M&&I(t),t=t||M,O)){if(11!==p&&(u=ye.exec(e)))if(i=u[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&B(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&E.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(E.qsa&&!G[e+" "]&&(!R||!R.test(e))){if(1!==p)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(we,Ee):t.setAttribute("id",s=q),l=k(e),o=l.length;o--;)l[o]="#"+s+" "+f(l[o]);c=l.join(","),d=me.test(e)&&h(t.parentNode)||t}if(c)try{return K.apply(n,d.querySelectorAll(c)),n}catch(g){}finally{s===q&&t.removeAttribute("id")}}}return C(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[q]=!0,e}function i(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&t.disabled===!1&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!Te(t))!==e)}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=Y++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i)}:function(t,n,u){var l,c,h,d=[V,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(h=t[q]||(t[q]={}),c=h[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===V&&l[1]===s)return d[2]=l[2];if(c[o]=d,d[2]=e(t,n,u))return!0}}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function v(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function y(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[q]&&(i=m(i)),o&&!o[q]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,h,d=[],f=[],p=a.length,g=r||v(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?g:y(g,d,e,s,u),x=n?o||(r?e:p||i)?[]:a:m;if(n&&n(m,x,s,u),i)for(l=y(x,f),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(x[f[c]]=!(m[f[c]]=h));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(h=x[c])&&l.push(m[c]=h);o(null,x=[],l,u)}for(c=x.length;c--;)(h=x[c])&&(l=o?ee(r,h):d[c])>-1&&(r[l]=!(a[l]=h))}}else x=y(x===a?x.splice(p,x.length):x),o?o(null,a,x,u):K.apply(a,x)})}function x(e){for(var t,n,r,i=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==S)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=_.relative[e[s].type])c=[p(g(c),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[q]){for(r=++s;r<i&&!_.relative[e[r].type];r++);return m(s>1&&g(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&x(e.slice(s,r)),r<i&&x(e=e.slice(r)),r<i&&f(e))}c.push(n)}return g(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,h,d,f=0,p="0",g=r&&[],v=[],m=S,x=r||o&&_.find.TAG("*",l),b=V+=null==m?1:Math.random()||.1,w=x.length;for(l&&(S=a===M||a||l);p!==w&&null!=(c=x[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===M||(I(c),s=!O);d=e[h++];)if(d(c,a||M,s)){u.push(c);break}l&&(V=b)}i&&((c=!d&&c)&&f--,r&&g.push(c))}if(f+=p,i&&p!==f){for(h=0;d=n[h++];)d(g,v,a,s);if(r){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=Z.call(u));v=y(v)}K.apply(u,v),l&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(V=b,S=m),g};return i?r(a):a}var w,E,_,T,N,k,D,C,S,L,A,I,M,P,O,R,F,j,B,q="sizzle"+1*new Date,z=e.document,V=0,Y=0,X=n(),U=n(),G=n(),H=function(e,t){return e===t&&(A=!0),0},W={}.hasOwnProperty,$=[],Z=$.pop,Q=$.push,K=$.push,J=$.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),de=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Ee=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},_e=function(){I()},Te=p(function(e){return e.disabled===!0},{dir:"parentNode",next:"legend"});try{K.apply($=J.call(z.childNodes),z.childNodes),$[z.childNodes.length].nodeType}catch(Ne){K={apply:$.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},I=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:z;return r!==M&&9===r.nodeType&&r.documentElement?(M=r,P=M.documentElement,O=!N(M),z!==M&&(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=ve.test(M.getElementsByClassName),E.getById=i(function(e){return P.appendChild(e).id=q,!M.getElementsByName||!M.getElementsByName(q).length}),E.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},_.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=E.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):E.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=E.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&O)return t.getElementsByClassName(e)},F=[],R=[],(E.qsa=ve.test(M.querySelectorAll))&&(i(function(e){P.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+q+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+q+"+*").length||R.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(E.matchesSelector=ve.test(j=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){E.disconnectedMatch=j.call(e,"*"),j.call(e,"[s!='']:x"),F.push("!=",oe)}),R=R.length&&new RegExp(R.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(P.compareDocumentPosition),B=t||ve.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},H=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!E.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===z&&B(z,e)?-1:t===M||t.ownerDocument===z&&B(z,t)?1:L?ee(L,e)-ee(L,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===M?-1:t===M?1:i?-1:o?1:L?ee(L,e)-ee(L,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===z?-1:u[r]===z?1:0},M):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&I(e),n=n.replace(ce,"='$1']"),E.matchesSelector&&O&&!G[n+" "]&&(!F||!F.test(n))&&(!R||!R.test(n)))try{var r=j.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&I(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&I(e);var n=_.attrHandle[t.toLowerCase()],r=n&&W.call(_.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:E.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(we,Ee)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!E.detectDuplicates,L=!E.sortStable&&e.slice(0),e.sort(H),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return L=null,e},T=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},_=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=X[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&X(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,d,f,p,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(v){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&m){for(d=v,h=d[q]||(d[q]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),l=c[e]||[],f=l[0]===V&&l[1],x=f&&l[2],d=f&&v.childNodes[f];d=++f&&d&&d[g]||(x=f=0)||p.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[V,f,x];break}}else if(m&&(d=t,h=d[q]||(d[q]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),l=c[e]||[],f=l[0]===V&&l[1],x=f),x===!1)for(;(d=++f&&d&&d[g]||(x=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++x||(m&&(h=d[q]||(d[q]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[V,x]),d!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[q]?o(n):o.length>1?(i=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(se,"$1"));return i[q]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,be),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=u(w);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,k=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=U[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=_.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in _.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):U(e,u).slice(0)},D=t.compile=function(e,t){var n,r=[],i=[],o=G[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=x(t[n]),o[q]?r.push(o):i.push(o);o=G(e,b(i,r)),o.selector=e}return o},C=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&k(e=l.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&E.getById&&9===t.nodeType&&O&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(xe,be),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!_.relative[s=a.type]);)if((u=_.find[s])&&(r=u(a.matches[0].replace(xe,be),me.test(o[0].type)&&h(t.parentNode)||t))){
if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||D(e,c))(r,t,!O,n,!t||me.test(e)&&h(t.parentNode)||t),n},E.sortStable=q.split("").sort(H).join("")===q,E.detectDuplicates=!!A,I(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);de.find=ye,de.expr=ye.selectors,de.expr[":"]=de.expr.pseudos,de.uniqueSort=de.unique=ye.uniqueSort,de.text=ye.getText,de.isXMLDoc=ye.isXML,de.contains=ye.contains,de.escapeSelector=ye.escape;var me=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&de(e).is(n))break;r.push(e)}return r},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},be=de.expr.match.needsContext,we=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ee=/^.[^:#\[\.,]*$/;de.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?de.find.matchesSelector(r,e)?[r]:[]:de.find.matches(e,de.grep(t,function(e){return 1===e.nodeType}))},de.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(de(e).filter(function(){for(t=0;t<r;t++)if(de.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)de.find(e,i[t],n);return r>1?de.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&be.test(e)?de(e):e||[],!1).length}});var _e,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ne=de.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||_e,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Te.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof de?t[0]:t,de.merge(this,de.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),we.test(r[1])&&de.isPlainObject(t))for(r in t)de.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=J.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):de.isFunction(e)?void 0!==n.ready?n.ready(e):e(de):de.makeArray(e,this)};Ne.prototype=de.fn,_e=de(J);var ke=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};de.fn.extend({has:function(e){var t=de(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(de.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&de(e);if(!be.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&de.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?de.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ie.call(de(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(de.uniqueSort(de.merge(this.get(),de(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),de.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return me(e,"parentNode")},parentsUntil:function(e,t,n){return me(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return me(e,"nextSibling")},prevAll:function(e){return me(e,"previousSibling")},nextUntil:function(e,t,n){return me(e,"nextSibling",n)},prevUntil:function(e,t,n){return me(e,"previousSibling",n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return e.contentDocument||de.merge([],e.childNodes)}},function(e,t){de.fn[e]=function(n,r){var i=de.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=de.filter(r,i)),this.length>1&&(De[e]||de.uniqueSort(i),ke.test(e)&&i.reverse()),this.pushStack(i)}});var Ce=/\S+/g;de.Callbacks=function(e){e="string"==typeof e?a(e):de.extend({},e);var t,n,r,i,o=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(u=o.length-1,s.push(n)),function r(t){de.each(t,function(t,n){de.isFunction(n)?e.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==de.type(n)&&r(n)})}(arguments),n&&!t&&l()),this},remove:function(){return de.each(arguments,function(e,t){for(var n;(n=de.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?de.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},de.extend({Deferred:function(t){var n=[["notify","progress",de.Callbacks("memory"),de.Callbacks("memory"),2],["resolve","done",de.Callbacks("once memory"),de.Callbacks("once memory"),0,"resolved"],["reject","fail",de.Callbacks("once memory"),de.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return de.Deferred(function(t){de.each(n,function(n,r){var i=de.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&de.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var l=this,c=arguments,h=function(){var e,h;if(!(t<a)){if(e=r.apply(l,c),e===n.promise())throw new TypeError("Thenable self-resolution");h=e&&("object"==typeof e||"function"==typeof e)&&e.then,de.isFunction(h)?i?h.call(e,o(a,n,s,i),o(a,n,u,i)):(a++,h.call(e,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(l=void 0,c=[e]),(i||n.resolveWith)(l,c))}},d=i?h:function(){try{h()}catch(e){de.Deferred.exceptionHook&&de.Deferred.exceptionHook(e,d.stackTrace),t+1>=a&&(r!==u&&(l=void 0,c=[e]),n.rejectWith(l,c))}};t?d():(de.Deferred.getStackHook&&(d.stackTrace=de.Deferred.getStackHook()),e.setTimeout(d))}}var a=0;return de.Deferred(function(e){n[0][3].add(o(0,e,de.isFunction(i)?i:s,e.notifyWith)),n[1][3].add(o(0,e,de.isFunction(t)?t:s)),n[2][3].add(o(0,e,de.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?de.extend(e,i):i}},o={};return de.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=te.call(arguments),o=de.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?te.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(l(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||de.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var Se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;de.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Se.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},de.readyException=function(t){e.setTimeout(function(){throw t})};var Le=de.Deferred();de.fn.ready=function(e){return Le.then(e)["catch"](function(e){de.readyException(e)}),this},de.extend({isReady:!1,readyWait:1,holdReady:function(e){e?de.readyWait++:de.ready(!0)},ready:function(e){(e===!0?--de.readyWait:de.isReady)||(de.isReady=!0,e!==!0&&--de.readyWait>0||Le.resolveWith(J,[de]))}}),de.ready.then=Le.then,"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll?e.setTimeout(de.ready):(J.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var Ae=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===de.type(n)){i=!0;for(s in n)Ae(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,de.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(de(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[de.camelCase(t)]=n;else for(r in t)i[de.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][de.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){de.isArray(t)?t=t.map(de.camelCase):(t=de.camelCase(t),t=t in r?[t]:t.match(Ce)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||de.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!de.isEmptyObject(t)}};var Me=new h,Pe=new h,Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;de.extend({hasData:function(e){return Pe.hasData(e)||Me.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return Me.access(e,t,n)},_removeData:function(e,t){Me.remove(e,t)}}),de.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Pe.get(o),1===o.nodeType&&!Me.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=de.camelCase(r.slice(5)),d(o,r,i[r])));Me.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):Ae(this,function(t){var n;if(o&&void 0===t){if(n=Pe.get(o,e),void 0!==n)return n;if(n=d(o,e),void 0!==n)return n}else this.each(function(){Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),de.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Me.get(e,t),n&&(!r||de.isArray(n)?r=Me.access(e,t,de.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=de.queue(e,t),r=n.length,i=n.shift(),o=de._queueHooks(e,t),a=function(){de.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Me.get(e,n)||Me.access(e,n,{empty:de.Callbacks("once memory").add(function(){Me.remove(e,[t+"queue",n])})})}}),de.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?de.queue(this[0],e):void 0===t?this:this.each(function(){var n=de.queue(this,e,t);de._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&de.dequeue(this,e)})},dequeue:function(e){return this.each(function(){de.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=de.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Me.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],qe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&de.contains(e.ownerDocument,e)&&"none"===de.css(e,"display")},ze=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Ve={};de.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){qe(this)?de(this).show():de(this).hide()})}});var Ye=/^(?:checkbox|radio)$/i,Xe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ue=/^$|\/(?:java|ecma)script/i,Ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var He=/<|&#?\w+;/;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ce.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var We=J.documentElement,$e=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;de.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,h,d,f,p,g,v=Me.get(e);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&de.find.matchesSelector(We,i),n.guid||(n.guid=de.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof de&&de.event.triggered!==t.type?de.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ce)||[""],l=t.length;l--;)s=Qe.exec(t[l])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(h=de.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=de.event.special[f]||{},c=de.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&de.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=u[f])||(d=u[f]=[],d.delegateCount=0,h.setup&&h.setup.call(e,r,p,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),de.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,h,d,f,p,g,v=Me.hasData(e)&&Me.get(e);if(v&&(u=v.events)){for(t=(t||"").match(Ce)||[""],l=t.length;l--;)if(s=Qe.exec(t[l])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(h=de.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,d=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));a&&!d.length&&(h.teardown&&h.teardown.call(e,p,v.handle)!==!1||de.removeEvent(e,f,v.handle),delete u[f])}else for(f in u)de.event.remove(e,f+t[l],n,r,!0);de.isEmptyObject(u)&&Me.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=de.event.fix(e),u=new Array(arguments.length),l=(Me.get(this,"events")||{})[s.type]||[],c=de.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=de.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((de.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?de(i,this).index(u)>-1:de.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},addProp:function(e,t){Object.defineProperty(de.Event.prototype,e,{enumerable:!0,configurable:!0,get:de.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[de.expando]?e:new de.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&de.nodeName(this,"input"))return this.click(),!1},_default:function(e){return de.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},de.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},de.Event=function(e,t){return this instanceof de.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?x:b,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&de.extend(this,t),this.timeStamp=e&&e.timeStamp||de.now(),void(this[de.expando]=!0)):new de.Event(e,t)},de.Event.prototype={constructor:de.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},de.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&$e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ze.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},de.event.addProp),de.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){de.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||de.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),de.fn.extend({on:function(e,t,n,r){return E(this,e,t,n,r)},one:function(e,t,n,r){return E(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,de(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=b),this.each(function(){de.event.remove(this,e,n,t)})}});var Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Je=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;de.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=de.contains(e.ownerDocument,e);if(!(ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||de.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;r<i;r++)D(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;r<i;r++)k(o[r],a[r]);else k(e,s);return a=v(s,"script"),a.length>0&&y(a,!u&&v(e,"script")),s},cleanData:function(e){for(var t,n,r,i=de.event.special,o=0;void 0!==(n=e[o]);o++)if(Ie(n)){if(t=n[Me.expando]){if(t.events)for(r in t.events)i[r]?de.event.remove(n,r):de.removeEvent(n,r,t.handle);n[Me.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),de.fn.extend({detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Ae(this,function(e){return void 0===e?de.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.appendChild(e)}})},prepend:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(de.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return de.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Je.test(e)&&!Ge[(Xe.exec(e)||["",""])[1].toLowerCase()]){e=de.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(de.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return C(this,arguments,function(t){var n=this.parentNode;de.inArray(this,e)<0&&(de.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),de.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){de.fn[e]=function(e){for(var n,r=[],i=de(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),de(i[a])[t](n),re.apply(r,n.get());return this.pushStack(r)}});var rt=/^margin/,it=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),ot=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",We.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,We.removeChild(a),s=null}}var n,r,i,o,a=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),de.extend(ce,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},lt=["Webkit","Moz","ms"],ct=J.createElement("div").style;de.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=L(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=de.camelCase(t),u=e.style;return t=de.cssProps[s]||(de.cssProps[s]=I(s)||s),a=de.cssHooks[t]||de.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=je.exec(n))&&i[1]&&(n=f(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(de.cssNumber[s]?"":"px")),ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=de.camelCase(t);return t=de.cssProps[s]||(de.cssProps[s]=I(s)||s),a=de.cssHooks[t]||de.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=L(e,t,r)),"normal"===i&&t in ut&&(i=ut[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),de.each(["height","width"],function(e,t){de.cssHooks[t]={get:function(e,n,r){if(n)return!at.test(de.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?O(e,t,r):ze(e,st,function(){return O(e,t,r)})},set:function(e,n,r){var i,o=r&&ot(e),a=r&&P(e,t,r,"border-box"===de.css(e,"boxSizing",!1,o),o);return a&&(i=je.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=de.css(e,t)),M(e,n,a)}}}),de.cssHooks.marginLeft=A(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),de.each({margin:"",padding:"",border:"Width"},function(e,t){de.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Be[r]+t]=o[r]||o[r-2]||o[0];return i}},rt.test(e)||(de.cssHooks[e+t].set=M)}),de.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var r,i,o={},a=0;if(de.isArray(t)){for(r=ot(e),i=t.length;a<i;a++)o[t[a]]=de.css(e,t[a],!1,r);return o}return void 0!==n?de.style(e,t,n):de.css(e,t)},e,t,arguments.length>1)}}),de.Tween=R,R.prototype={constructor:R,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||de.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(de.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=de.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=de.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){de.fx.step[e.prop]?de.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[de.cssProps[e.prop]]&&!de.cssHooks[e.prop]?e.elem[e.prop]=e.now:de.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},de.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},de.fx=R.prototype.init,de.fx.step={};var ht,dt,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;de.Animation=de.extend(Y,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,je.exec(t),n),n}]},tweener:function(e,t){de.isFunction(e)?(t=e,e=["*"]):e=e.match(Ce);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(t)},prefilters:[z],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),de.speed=function(e,t,n){var r=e&&"object"==typeof e?de.extend({},e):{complete:n||!n&&t||de.isFunction(e)&&e,duration:e,easing:n&&t||t&&!de.isFunction(t)&&t};return de.fx.off||J.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in de.fx.speeds?de.fx.speeds[r.duration]:de.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){de.isFunction(r.old)&&r.old.call(this),r.queue&&de.dequeue(this,r.queue)},r},de.fn.extend({fadeTo:function(e,t,n,r){return this.filter(qe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=de.isEmptyObject(e),o=de.speed(t,n,r),a=function(){var t=Y(this,de.extend({},e),o);(i||Me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=de.timers,a=Me.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&pt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||de.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Me.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=de.timers,a=r?r.length:0;for(n.finish=!0,de.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),de.each(["toggle","show","hide"],function(e,t){var n=de.fn[t];de.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,r,i)}}),de.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){de.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),de.timers=[],de.fx.tick=function(){var e,t=0,n=de.timers;for(ht=de.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||de.fx.stop(),ht=void 0},de.fx.timer=function(e){de.timers.push(e),e()?de.fx.start():de.timers.pop()},de.fx.interval=13,de.fx.start=function(){dt||(dt=e.requestAnimationFrame?e.requestAnimationFrame(F):e.setInterval(de.fx.tick,de.fx.interval))},de.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(dt):e.clearInterval(dt),dt=null},de.fx.speeds={slow:600,fast:200,_default:400},de.fn.delay=function(t,n){return t=de.fx?de.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",ce.checkOn=""!==e.value,ce.optSelected=n.selected,e=J.createElement("input"),e.value="t",e.type="radio",ce.radioValue="t"===e.value}();var gt,vt=de.expr.attrHandle;de.fn.extend({attr:function(e,t){return Ae(this,de.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){de.removeAttr(this,e)})}}),de.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?de.prop(e,t,n):(1===o&&de.isXMLDoc(e)||(i=de.attrHooks[t.toLowerCase()]||(de.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void de.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=de.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&de.nodeName(e,"input")){var n=e.value;
return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Ce);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return t===!1?de.removeAttr(e,n):e.setAttribute(n,n),n}},de.each(de.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||de.find.attr;vt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=vt[a],vt[a]=i,i=null!=n(e,t,r)?a:null,vt[a]=o),i}});var yt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;de.fn.extend({prop:function(e,t){return Ae(this,de.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[de.propFix[e]||e]})}}),de.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&de.isXMLDoc(e)||(t=de.propFix[t]||t,i=de.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=de.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ce.optSelected||(de.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),de.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){de.propFix[this.toLowerCase()]=this});var xt=/[\t\r\n\f]/g;de.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(de.isFunction(e))return this.each(function(t){de(this).addClass(e.call(this,t,X(this)))});if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(xt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=de.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(de.isFunction(e))return this.each(function(t){de(this).removeClass(e.call(this,t,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(xt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=de.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):de.isFunction(e)?this.each(function(n){de(this).toggleClass(e.call(this,n,X(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=de(this),o=e.match(Ce)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=X(this),t&&Me.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Me.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(n)+" ").replace(xt," ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g,wt=/[\x20\t\r\n\f]+/g;de.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=de.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,de(this).val()):e,null==i?i="":"number"==typeof i?i+="":de.isArray(i)&&(i=de.map(i,function(e){return null==e?"":e+""})),t=de.valHooks[this.type]||de.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=de.valHooks[i.type]||de.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(bt,""):null==n?"":n)}}}),de.extend({valHooks:{option:{get:function(e){var t=de.find.attr(e,"value");return null!=t?t:de.trim(de.text(e)).replace(wt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&!n.disabled&&(!n.parentNode.disabled||!de.nodeName(n.parentNode,"optgroup"))){if(t=de(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=de.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=de.inArray(de.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),de.each(["radio","checkbox"],function(){de.valHooks[this]={set:function(e,t){if(de.isArray(t))return e.checked=de.inArray(de(e).val(),t)>-1}},ce.checkOn||(de.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=/^(?:focusinfocus|focusoutblur)$/;de.extend(de.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,h,d=[r||J],f=se.call(t,"type")?t.type:t,p=se.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Et.test(f+de.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[de.expando]?t:new de.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:de.makeArray(n,[t]),h=de.event.special[f]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!de.isWindow(r)){for(u=h.delegateType||f,Et.test(u+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||J)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||f,c=(Me.get(a,"events")||{})[t.type]&&Me.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Ie(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Ie(r)||l&&de.isFunction(r[f])&&!de.isWindow(r)&&(s=r[l],s&&(r[l]=null),de.event.triggered=f,r[f](),de.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=de.extend(new de.Event,n,{type:e,isSimulated:!0});de.event.trigger(r,null,t)}}),de.fn.extend({trigger:function(e,t){return this.each(function(){de.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return de.event.trigger(e,t,n,!0)}}),de.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){de.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),de.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.focusin="onfocusin"in e,ce.focusin||de.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){de.event.simulate(t,e.target,de.event.fix(e))};de.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Me.access(r,t);i||r.addEventListener(e,n,!0),Me.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Me.access(r,t)-1;i?Me.access(r,t,i):(r.removeEventListener(e,n,!0),Me.remove(r,t))}}});var _t=e.location,Tt=de.now(),Nt=/\?/;de.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||de.error("Invalid XML: "+t),n};var kt=/\[\]$/,Dt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;de.param=function(e,t){var n,r=[],i=function(e,t){var n=de.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(de.isArray(e)||e.jquery&&!de.isPlainObject(e))de.each(e,function(){i(this.name,this.value)});else for(n in e)U(n,e[n],t,i);return r.join("&")},de.fn.extend({serialize:function(){return de.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=de.prop(this,"elements");return e?de.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!de(this).is(":disabled")&&St.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!Ye.test(e))}).map(function(e,t){var n=de(this).val();return null==n?null:de.isArray(n)?de.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Lt=/%20/g,At=/#.*$/,It=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ot=/^(?:GET|HEAD)$/,Rt=/^\/\//,Ft={},jt={},Bt="*/".concat("*"),qt=J.createElement("a");qt.href=_t.href,de.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:Pt.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":de.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,de.ajaxSettings),t):W(de.ajaxSettings,e)},ajaxPrefilter:G(Ft),ajaxTransport:G(jt),ajax:function(t,n){function r(t,n,r,s){var l,d,f,b,w,E=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",_.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=$(p,_,r)),b=Z(p,b,_,l),l?(p.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(de.lastModified[o]=w),w=_.getResponseHeader("etag"),w&&(de.etag[o]=w)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=b.state,d=b.data,f=b.error,l=!f)):(f=E,!t&&E||(E="error",t<0&&(t=0))),_.status=t,_.statusText=(n||E)+"",l?y.resolveWith(g,[d,E,_]):y.rejectWith(g,[_,E,f]),_.statusCode(x),x=void 0,h&&v.trigger(l?"ajaxSuccess":"ajaxError",[_,p,l?d:f]),m.fireWith(g,[_,E]),h&&(v.trigger("ajaxComplete",[_,p]),--de.active||de.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,h,d,f,p=de.ajaxSetup({},n),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?de(g):de.event,y=de.Deferred(),m=de.Callbacks("once memory"),x=p.statusCode||{},b={},w={},E="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Mt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)_.always(e[_.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||E;return i&&i.abort(t),r(0,t),this}};if(y.promise(_),p.url=((t||p.url||_t.href)+"").replace(Rt,_t.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ce)||[""],null==p.crossDomain){l=J.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=qt.protocol+"//"+qt.host!=l.protocol+"//"+l.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=de.param(p.data,p.traditional)),H(Ft,p,n,_),c)return _;h=de.event&&p.global,h&&0===de.active++&&de.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ot.test(p.type),o=p.url.replace(At,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Lt,"+")):(f=p.url.slice(o.length),p.data&&(o+=(Nt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(It,""),f=(Nt.test(o)?"&":"?")+"_="+Tt++ +f),p.url=o+f),p.ifModified&&(de.lastModified[o]&&_.setRequestHeader("If-Modified-Since",de.lastModified[o]),de.etag[o]&&_.setRequestHeader("If-None-Match",de.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(g,_,p)===!1||c))return _.abort();if(E="abort",m.add(p.complete),_.done(p.success),_.fail(p.error),i=H(jt,p,n,_)){if(_.readyState=1,h&&v.trigger("ajaxSend",[_,p]),c)return _;p.async&&p.timeout>0&&(u=e.setTimeout(function(){_.abort("timeout")},p.timeout));try{c=!1,i.send(b,r)}catch(T){if(c)throw T;r(-1,T)}}else r(-1,"No Transport");return _},getJSON:function(e,t,n){return de.get(e,t,n,"json")},getScript:function(e,t){return de.get(e,void 0,t,"script")}}),de.each(["get","post"],function(e,t){de[t]=function(e,n,r,i){return de.isFunction(n)&&(i=i||r,r=n,n=void 0),de.ajax(de.extend({url:e,type:t,dataType:i,data:n,success:r},de.isPlainObject(e)&&e))}}),de._evalUrl=function(e){return de.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},de.fn.extend({wrapAll:function(e){var t;return this[0]&&(de.isFunction(e)&&(e=e.call(this[0])),t=de(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return de.isFunction(e)?this.each(function(t){de(this).wrapInner(e.call(this,t))}):this.each(function(){var t=de(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=de.isFunction(e);return this.each(function(n){de(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){de(this).replaceWith(this.childNodes)}),this}}),de.expr.pseudos.hidden=function(e){return!de.expr.pseudos.visible(e)},de.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},de.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var zt={0:200,1223:204},Vt=de.ajaxSettings.xhr();ce.cors=!!Vt&&"withCredentials"in Vt,ce.ajax=Vt=!!Vt,de.ajaxTransport(function(t){var n,r;if(ce.cors||Vt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),de.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),de.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return de.globalEval(e),e}}}),de.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),de.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=de("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Xt=/(=)\?(?=&|$)|\?\?/;de.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||de.expando+"_"+Tt++;return this[e]=!0,e}}),de.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Xt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=de.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xt,"$1"+i):t.jsonp!==!1&&(t.url+=(Nt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||de.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?de(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&de.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ce.createHTMLDocument=function(){var e=J.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),de.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ce.createHTMLDocument?(t=J.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=J.location.href,t.head.appendChild(r)):t=J),i=we.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=m([e],t,o),o&&o.length&&de(o).remove(),de.merge([],i.childNodes))},de.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=de.trim(e.slice(s)),e=e.slice(0,s)),de.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&de.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?de("<div>").append(de.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},de.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){de.fn[t]=function(e){return this.on(t,e)}}),de.expr.pseudos.animated=function(e){return de.grep(de.timers,function(t){return e===t.elem}).length},de.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=de.css(e,"position"),h=de(e),d={};"static"===c&&(e.style.position="relative"),s=h.offset(),o=de.css(e,"top"),u=de.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),de.isFunction(t)&&(t=t.call(e,n,de.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):h.css(d)}},de.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){de.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=Q(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===de.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),de.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+de.css(e[0],"borderTopWidth",!0),left:r.left+de.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-de.css(n,"marginTop",!0),left:t.left-r.left-de.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===de.css(e,"position");)e=e.offsetParent;return e||We})}}),de.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;de.fn[e]=function(r){return Ae(this,function(e,r,i){var o=Q(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),de.each(["top","left"],function(e,t){de.cssHooks[t]=A(ce.pixelPosition,function(e,n){if(n)return n=L(e,t),it.test(n)?de(e).position()[t]+"px":n})}),de.each({Height:"height",Width:"width"},function(e,t){de.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){de.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Ae(this,function(t,n,i){var o;return de.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?de.css(t,n,s):de.style(t,n,i,s)},t,a?i:void 0,a)}})}),de.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),de.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return de});var Ut=e.jQuery,Gt=e.$;return de.noConflict=function(t){return e.$===de&&(e.$=Gt),t&&e.jQuery===de&&(e.jQuery=Ut),de},t||(e.jQuery=e.$=de),de})},{}],172:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],173:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("lYpoI2"))},{lYpoI2:170}],174:[function(e,t,n){!function(e,r){"function"==typeof define&&define.amd?define(function(){return e.returnExportsGlobal=r()}):"object"==typeof n?t.exports=r():e.Springy=r()}(this,function(){var e={},t=e.Graph=function(){this.nodeSet={},this.nodes=[],this.edges=[],this.adjacency={},this.nextNodeId=0,this.nextEdgeId=0,this.eventListeners=[]},n=e.Node=function(e,t){this.id=e,this.data=void 0!==t?t:{}},r=e.Edge=function(e,t,n,r){this.id=e,this.source=t,this.target=n,this.data=void 0!==r?r:{}};t.prototype.addNode=function(e){return e.id in this.nodeSet||this.nodes.push(e),this.nodeSet[e.id]=e,this.notify(),e},t.prototype.addNodes=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e],r=new n(t,{label:t});this.addNode(r)}},t.prototype.addEdge=function(e){var t=!1;return this.edges.forEach(function(n){e.id===n.id&&(t=!0)}),t||this.edges.push(e),e.source.id in this.adjacency||(this.adjacency[e.source.id]={}),e.target.id in this.adjacency[e.source.id]||(this.adjacency[e.source.id][e.target.id]=[]),t=!1,this.adjacency[e.source.id][e.target.id].forEach(function(n){e.id===n.id&&(t=!0)}),t||this.adjacency[e.source.id][e.target.id].push(e),this.notify(),e},t.prototype.addEdges=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e],n=this.nodeSet[t[0]];if(void 0==n)throw new TypeError("invalid node name: "+t[0]);var r=this.nodeSet[t[1]];if(void 0==r)throw new TypeError("invalid node name: "+t[1]);var i=t[2];this.newEdge(n,r,i)}},t.prototype.newNode=function(e){var t=new n((this.nextNodeId++),e);return this.addNode(t),t},t.prototype.newEdge=function(e,t,n){var i=new r((this.nextEdgeId++),e,t,n);return this.addEdge(i),i},t.prototype.loadJSON=function(e){("string"==typeof e||e instanceof String)&&(e=JSON.parse(e)),("nodes"in e||"edges"in e)&&(this.addNodes.apply(this,e.nodes),this.addEdges.apply(this,e.edges))},t.prototype.getEdges=function(e,t){return e.id in this.adjacency&&t.id in this.adjacency[e.id]?this.adjacency[e.id][t.id]:[]},t.prototype.removeNode=function(e){e.id in this.nodeSet&&delete this.nodeSet[e.id];for(var t=this.nodes.length-1;t>=0;t--)this.nodes[t].id===e.id&&this.nodes.splice(t,1);this.detachNode(e)},t.prototype.detachNode=function(e){var t=this.edges.slice();t.forEach(function(t){t.source.id!==e.id&&t.target.id!==e.id||this.removeEdge(t)},this),this.notify()},t.prototype.removeEdge=function(e){for(var t=this.edges.length-1;t>=0;t--)this.edges[t].id===e.id&&this.edges.splice(t,1);for(var n in this.adjacency){for(var r in this.adjacency[n]){for(var i=this.adjacency[n][r],o=i.length-1;o>=0;o--)this.adjacency[n][r][o].id===e.id&&this.adjacency[n][r].splice(o,1);0==this.adjacency[n][r].length&&delete this.adjacency[n][r]}u(this.adjacency[n])&&delete this.adjacency[n]}this.notify()},t.prototype.merge=function(e){var t=[];e.nodes.forEach(function(e){t.push(this.addNode(new n(e.id,e.data)))},this),e.edges.forEach(function(e){var n=t[e.from],i=t[e.to],o=e.directed?o=e.type+"-"+n.id+"-"+i.id:n.id<i.id?e.type+"-"+n.id+"-"+i.id:e.type+"-"+i.id+"-"+n.id,a=this.addEdge(new r(o,n,i,e.data));a.data.type=e.type},this)},t.prototype.filterNodes=function(e){var t=this.nodes.slice();t.forEach(function(t){e(t)||this.removeNode(t)},this)},t.prototype.filterEdges=function(e){var t=this.edges.slice();t.forEach(function(t){e(t)||this.removeEdge(t)},this)},t.prototype.addGraphListener=function(e){this.eventListeners.push(e)},t.prototype.notify=function(){this.eventListeners.forEach(function(e){e.graphChanged()})};var i=e.Layout={};i.ForceDirected=function(e,t,n,r,i){this.graph=e,this.stiffness=t,this.repulsion=n,this.damping=r,this.minEnergyThreshold=i||.01,this.nodePoints={},this.edgeSprings={}},i.ForceDirected.prototype.point=function(e){if(!(e.id in this.nodePoints)){var t=void 0!==e.data.mass?e.data.mass:1;this.nodePoints[e.id]=new i.ForceDirected.Point(a.random(),t)}return this.nodePoints[e.id]},i.ForceDirected.prototype.spring=function(e){if(!(e.id in this.edgeSprings)){var t=void 0!==e.data.length?e.data.length:1,n=!1,r=this.graph.getEdges(e.source,e.target);if(r.forEach(function(e){n===!1&&e.id in this.edgeSprings&&(n=this.edgeSprings[e.id])},this),n!==!1)return new i.ForceDirected.Spring(n.point1,n.point2,0,0);this.graph.getEdges(e.target,e.source);if(r.forEach(function(e){n===!1&&e.id in this.edgeSprings&&(n=this.edgeSprings[e.id])},this),n!==!1)return new i.ForceDirected.Spring(n.point2,n.point1,0,0);this.edgeSprings[e.id]=new i.ForceDirected.Spring(this.point(e.source),this.point(e.target),t,this.stiffness)}return this.edgeSprings[e.id]},i.ForceDirected.prototype.eachNode=function(e){var t=this;this.graph.nodes.forEach(function(n){e.call(t,n,t.point(n))})},i.ForceDirected.prototype.eachEdge=function(e){var t=this;this.graph.edges.forEach(function(n){e.call(t,n,t.spring(n))})},i.ForceDirected.prototype.eachSpring=function(e){var t=this;this.graph.edges.forEach(function(n){e.call(t,t.spring(n))})},i.ForceDirected.prototype.applyCoulombsLaw=function(){this.eachNode(function(e,t){this.eachNode(function(e,n){if(t!==n){var r=t.p.subtract(n.p),i=r.magnitude()+.1,o=r.normalise();t.applyForce(o.multiply(this.repulsion).divide(i*i*.5)),n.applyForce(o.multiply(this.repulsion).divide(i*i*-.5))}})})},i.ForceDirected.prototype.applyHookesLaw=function(){this.eachSpring(function(e){var t=e.point2.p.subtract(e.point1.p),n=e.length-t.magnitude(),r=t.normalise();e.point1.applyForce(r.multiply(e.k*n*-.5)),e.point2.applyForce(r.multiply(e.k*n*.5))})},i.ForceDirected.prototype.attractToCentre=function(){this.eachNode(function(e,t){var n=t.p.multiply(-1);t.applyForce(n.multiply(this.repulsion/50))})},i.ForceDirected.prototype.updateVelocity=function(e){this.eachNode(function(t,n){n.v=n.v.add(n.a.multiply(e)).multiply(this.damping),n.a=new a(0,0)})},i.ForceDirected.prototype.updatePosition=function(e){this.eachNode(function(t,n){n.p=n.p.add(n.v.multiply(e))})},i.ForceDirected.prototype.totalEnergy=function(e){var t=0;return this.eachNode(function(e,n){var r=n.v.magnitude();t+=.5*n.m*r*r}),t};var o=function(e,t){return function(){return e.apply(t,arguments)}};e.requestAnimationFrame=o(this.requestAnimationFrame||this.webkitRequestAnimationFrame||this.mozRequestAnimationFrame||this.oRequestAnimationFrame||this.msRequestAnimationFrame||function(e,t){this.setTimeout(e,10)},this),i.ForceDirected.prototype.start=function(t,n,r){var i=this;this._started||(this._started=!0,this._stop=!1,void 0!==r&&r(),e.requestAnimationFrame(function o(){i.tick(.03),void 0!==t&&t(),i._stop||i.totalEnergy()<i.minEnergyThreshold?(i._started=!1,void 0!==n&&n()):e.requestAnimationFrame(o)}))},i.ForceDirected.prototype.stop=function(){this._stop=!0},i.ForceDirected.prototype.tick=function(e){this.applyCoulombsLaw(),this.applyHookesLaw(),this.attractToCentre(),this.updateVelocity(e),this.updatePosition(e)},i.ForceDirected.prototype.nearest=function(e){var t={node:null,point:null,distance:null},n=this;return this.graph.nodes.forEach(function(r){var i=n.point(r),o=i.p.subtract(e).magnitude();(null===t.distance||o<t.distance)&&(t={node:r,point:i,distance:o})}),t},i.ForceDirected.prototype.getBoundingBox=function(){var e=new a((-2),(-2)),t=new a(2,2);this.eachNode(function(n,r){r.p.x<e.x&&(e.x=r.p.x),r.p.y<e.y&&(e.y=r.p.y),r.p.x>t.x&&(t.x=r.p.x),r.p.y>t.y&&(t.y=r.p.y)});var n=t.subtract(e).multiply(.07);return{bottomleft:e.subtract(n),topright:t.add(n)}};var a=e.Vector=function(e,t){this.x=e,this.y=t};a.random=function(){return new a(10*(Math.random()-.5),10*(Math.random()-.5))},a.prototype.add=function(e){return new a(this.x+e.x,this.y+e.y)},a.prototype.subtract=function(e){return new a(this.x-e.x,this.y-e.y)},a.prototype.multiply=function(e){return new a(this.x*e,this.y*e)},a.prototype.divide=function(e){return new a(this.x/e||0,this.y/e||0)},a.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.normal=function(){return new a((-this.y),this.x)},a.prototype.normalise=function(){return this.divide(this.magnitude())},i.ForceDirected.Point=function(e,t){this.p=e,this.m=t,this.v=new a(0,0),this.a=new a(0,0)},i.ForceDirected.Point.prototype.applyForce=function(e){this.a=this.a.add(e.divide(this.m))},i.ForceDirected.Spring=function(e,t,n,r){this.point1=e,this.point2=t,this.length=n,this.k=r};var s=e.Renderer=function(e,t,n,r,i,o){this.layout=e,this.clear=t,this.drawEdge=n,this.drawNode=r,this.onRenderStop=i,this.onRenderStart=o,this.layout.graph.addGraphListener(this)};s.prototype.graphChanged=function(e){this.start()},s.prototype.start=function(e){var t=this;this.layout.start(function(){t.clear(),t.layout.eachEdge(function(e,n){t.drawEdge(e,n.point1.p,n.point2.p)}),t.layout.eachNode(function(e,n){t.drawNode(e,n.p)})},this.onRenderStop,this.onRenderStart)},s.prototype.stop=function(){
this.layout.stop()},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("[object Function]"!={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(n=t),r=0;r<o;){var a;r in i&&(a=i[r],e.call(n,a,r,i)),r++}});var u=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};return e})},{}],175:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!C(n)&&b.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function r(e){return function(t,n,r){n=E(n,r);for(var i=D(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,s=D(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,a,s),b.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=M.length,r=e.constructor,i=b.isFunction(r)&&r.prototype||l,o="constructor";for(b.has(e,o)&&!b.contains(t,o)&&t.push(o);n--;)o=M[n],o in e&&e[o]!==i[o]&&!b.contains(t,o)&&t.push(o)}var a=this,s=a._,u=Array.prototype,l=Object.prototype,c=Function.prototype,h=u.push,d=u.slice,f=l.toString,p=l.hasOwnProperty,g=Array.isArray,v=Object.keys,y=c.bind,m=Object.create,x=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=b),n._=b):a._=b,b.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return null==e?b.identity:b.isFunction(e)?w(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return E(e,t,1/0)};var _=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},T=function(e){if(!b.isObject(e))return{};if(m)return m(e);x.prototype=e;var t=new x;return x.prototype=null,t},N=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,D=N("length"),C=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=k};b.each=b.forEach=function(e,t,n){t=w(t,n);var r,i;if(C(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=b.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},b.map=b.collect=function(e,t,n){t=E(t,n);for(var r=!C(e)&&b.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,n){var r;if(r=C(e)?b.findIndex(e,t,n):b.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},b.filter=b.select=function(e,t,n){var r=[];return t=E(t,n),b.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},b.reject=function(e,t,n){return b.filter(e,b.negate(E(t)),n)},b.every=b.all=function(e,t,n){t=E(t,n);for(var r=!C(e)&&b.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,n){t=E(t,n);for(var r=!C(e)&&b.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,r){return C(e)||(e=b.values(e)),("number"!=typeof n||r)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=d.call(arguments,2),r=b.isFunction(t);return b.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=C(e)?e:b.values(e);for(var s=0,u=e.length;s<u;s++)r=e[s],r>o&&(o=r)}else t=E(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},b.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=C(e)?e:b.values(e);for(var s=0,u=e.length;s<u;s++)r=e[s],r<o&&(o=r)}else t=E(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(i<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},b.shuffle=function(e){for(var t,n=C(e)?e:b.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=b.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},b.sample=function(e,t,n){return null==t||n?(C(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=E(t,n),b.pluck(b.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var S=function(e){return function(t,n,r){var i={};return n=E(n,r),b.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};b.groupBy=S(function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=S(function(e,t,n){e[n]=t}),b.countBy=S(function(e,t,n){b.has(e,n)?e[n]++:e[n]=1}),b.toArray=function(e){return e?b.isArray(e)?d.call(e):C(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:C(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=E(t,n);var r=[],i=[];return b.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},b.first=b.head=b.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var L=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=D(e);a<s;a++){var u=e[a];if(C(u)&&(b.isArray(u)||b.isArguments(u))){t||(u=L(u,t,n));var l=0,c=u.length;for(i.length+=c;l<c;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};b.flatten=function(e,t){return L(e,t,!1)},b.without=function(e){return b.difference(e,d.call(arguments,1))},b.uniq=b.unique=function(e,t,n,r){b.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],a=0,s=D(e);a<s;a++){var u=e[a],l=n?n(u,a,e):u;t?(a&&o===l||i.push(u),o=l):n?b.contains(o,l)||(o.push(l),i.push(u)):b.contains(i,u)||i.push(u)}return i},b.union=function(){return b.uniq(L(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=D(e);r<i;r++){var o=e[r];if(!b.contains(t,o)){for(var a=1;a<n&&b.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},b.difference=function(e){var t=L(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,D).length||0,n=Array(t),r=0;r<t;r++)n[r]=b.pluck(e,r);return n},b.object=function(e,t){for(var n={},r=0,i=D(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(e,t,n,r){n=E(n,r,1);for(var i=n(t),o=0,a=D(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var A=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=T(e.prototype),a=e.apply(o,i);return b.isObject(a)?a:o};b.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,d.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return A(e,r,t,this,n.concat(d.call(arguments)))};return r},b.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===b?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return A(e,n,this,this,o)};return n},b.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return b.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},b.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:b.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=b.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},b.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var l=b.now()-a;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=b.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},b.once=b.partial(b.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return I&&o(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&o(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},b.mapObject=function(e,t,n){t=E(t,n);for(var r,i=b.keys(e),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=t(e[r],r,e);return a},b.pairs=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},b.invert=function(e){for(var t={},n=b.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=_(b.allKeys),b.extendOwn=b.assign=_(b.keys),b.findKey=function(e,t,n){t=E(t,n);for(var r,i=b.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},b.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;b.isFunction(t)?(i=b.allKeys(a),r=w(t,n)):(i=L(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;s<u;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(L(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(r,t)}}return b.pick(e,t,n)},b.defaults=_(b.allKeys,!0),b.create=function(e,t){var n=T(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!P(e[u],t[u],n,r))return!1}else{var l,c=b.keys(e);if(u=c.length,b.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!b.has(t,l)||!P(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};b.isEqual=function(e,t){return P(e,t)},b.isEmpty=function(e){return null==e||(C(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=g||function(e){return"[object Array]"===f.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&p.call(e,t)},b.noConflict=function(){return a._=s,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=N,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=b.invert(O),F=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};b.escape=F(O),b.unescape=F(R),b.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),b.isFunction(r)?r.call(e):r};var j=0;b.uniqueId=function(e){var t=++j+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+q[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(z,V),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,b)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},b.chain=function(e){var t=b(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),Y(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Y(this,n)}}),b.each(["concat","join","slice"],function(e){var t=u[e];b.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}]},{},[1]);